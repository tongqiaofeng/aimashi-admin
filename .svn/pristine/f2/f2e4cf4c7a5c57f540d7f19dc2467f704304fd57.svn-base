webpackJsonp([1],{"+0o8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAYxJREFUOE+NkjFoFFEURc99M7tCEmFBJGAloiAWQYydVhbWomArWXtBCBG0MI0KERsLC9EVS7GxtgikETVqYWOjRcoQhKgocXfmX9mNEXc1M/ndv/++8997XLVe3p4BdQAMvciLvanI3wgO9rWtY/gYeXE8FfmaoLGpu63WqzvXsee3jEnpgkpNKrQwBEiec+bVcDz+o0vz/wCAtynFaTdTUHY9MGdNqRspIj0HpusA/ffvwOrfHQCTwPiQtk0HI3UV11qAWXFQyhz4L2Y7gNE7qdden9j4wMpntfbsP2zTET5WO4LtT9Eop13kN8AzmwV6pG/FtbQ7XxYcqlmi21gTiLtDv5lLDv+Q9aASUDqdzBSzwJmRuZ+lkpuR8boSYOk8yUclrg4n0bfo7waeVo8gL5X0zmVuLgJTv83vS3VPRWqclXS/Nki27zU3xq70dv0cpG69+XW5VY7PFSk9ydCUlHXAY1TlwPYaUr+LEJwA9gFfLGZlLgNHKgE7iuOggxcLbSIe7qhg1JTSxV/ti9Adm4ZqaAAAAABJRU5ErkJggg=="},"+UzQ":function(e,t){},"+jss":function(e,t,a){e.exports=a.p+"static/img/title.498bf32.png"},"/vSe":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,s=a("bOdI"),i=a.n(s),o=a("pFYg"),r=a.n(o),n=a("BO1k"),c=a.n(n),d={components:{detailsVue:a("XMJn").default},data:function(){var e=this,t=void 0;return{baseUrl:this.$store.state.baseUrl,role:null,pageSel:0,companyAndWarehouseList:[],warehouseList:[],addDataConsign:{sold:null,bill:"",isReceiveCheck:!1,companyId:null,receiveWarehouseId:null,soldTime:"",sellCurrencyId:"",sellerId:"",customerType:"公司"},sellerList:[],customerTypeList:[],addDataRules:{sold:[{required:!0,message:"請選擇庫存狀態",trigger:"change"}],bill:[{required:!1,message:"請輸入賬單號",trigger:"blur"}],sellerId:[{required:!0,message:"請選擇銷售人員",trigger:"change"}],customerType:[{required:!0,message:"請選擇客戶類型",trigger:"change"}],companyId:[{required:!1,message:"請選擇接收公司",trigger:"change"}],receiveWarehouseId:[{required:!1,message:"請選擇接收倉庫",trigger:"change"}],soldTime:[{required:!1,message:"請選擇日期",trigger:"change"}]},currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stateList:[{label:"已寄卖",value:"8"}],stateUpdateList:[{label:"存货",value:"1"}],sellStockList:[],sellOrderList:[],sellOrderTotal:0,sellKeyword:"",sellPage:1,sellStockLoc:"",sellTime:null,dialogStateVisible:!1,updateSellMsg:{},updateSellId:null,consignmentWarehouseList:[],certificateData:{id:8,bill:"20220329",companyName:"POWER EXPRESS INTERNATIONAL TRADING LIMITED",companyAddr:"7F,68 Kimberley Road, Tsim Sha Tsui, Kowloon",paymentTerms:"C.O.D",bankAccountName:"Power Express International Trading Limited (威通國際貿易有限公司)",bankName:"BANK OF COMMUNICATIONS CO., LTD (交通銀行)",bankCode:"027",bankAccountNumber:"8411 - 0124 - 4401",swiftCode:"COMMHKHH",bankAddr:"20 Pedder Street, Central, Hong Kong (香港中環畢打街20號)"},BagBillList:[],printData:{id:"printArea",popTitle:"",extraHead:"",preview:!1,beforeOpenCallback:function(){console.log("开始打印之前！")},openCallback:function(){t.close(),console.log("执行打印了！")},closeCallback:function(){console.log("关闭了打印工具！")},clickMounted:function(){console.log("点击v-print绑定的按钮了！"),t=e.$loading({lock:!0,text:"加載中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"})},standard:"",extarCss:""},dialogDownloadVisible:!1,downloadType:null,deleteBill:null,dialogDeleteBillVisible:!1,subTotal:0,currencyGlobal:"",updateId:null,numIsEquality:!1,updateBill:null}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.role=sessionStorage.getItem("role"),this.getSellOrderList(),this.getConsignmentWarehouseList(),this.getSellerAndCustomerType()},mounted:function(){this.getCompanyAndWarehouseList()},methods:(l={receiveWarehouseReg:function(e,t){var a=!0,l=!1,s=void 0;try{for(var i,o=c()(this.consignmentWarehouseList);!(a=(i=o.next()).done);a=!0){var r=i.value;if(r.id==e){var n=!0,d=!1,u=void 0;try{for(var p,m=c()(r.warehouseList);!(n=(p=m.next()).done);n=!0){var h=p.value;if(h.id==t)return r.name+" - "+h.name}}catch(e){d=!0,u=e}finally{try{!n&&m.return&&m.return()}finally{if(d)throw u}}}}}catch(e){l=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(l)throw s}}return""},editProduct:function(e){this.updateId=e.id,this.pageSel=1,document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(){this.pageSel=0,this.page=1,this.getSellOrderList(),document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":r()(e));var a=this.customerTypeList,l=!0,s=!1,i=void 0;try{for(var o,n=c()(a);!(l=(o=n.next()).done);l=!0){var d=o.value;d.value=d.name}}catch(e){s=!0,i=e}finally{try{!l&&n.return&&n.return()}finally{if(s)throw i}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.addDataConsign.customerType=e.value},gobackAdd:function(){this.pageSel=0},getSubPrice:function(){this.subTotal=0;var e=!0,t=!1,a=void 0;try{for(var l,s=c()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;this.subTotal+=Number(i.saleTotalHkPrice)+Number(i.saleLogHkPrice)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}},getNumber:function(e){e.saleTotalHkPrice=this.getPriceNum(e.saleTotalHkPrice),this.getSubPrice()},cancelSales:function(e){console.log(e),this.deleteBill=e.bill,this.dialogDeleteBillVisible=!0},cancelSureSales:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderRevoke?bill="+this.deleteBill).then(function(t){console.log(t),e.dialogDeleteBillVisible=!1,200==t.status&&(e.$message.success({message:"撤銷成功",showClose:!0,duration:2e3}),e.getSellOrderList())}).catch(function(t){console.log(t),e.dialogDeleteBillVisible=!1,e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},printSalesCredentials:function(e){var t=this;console.log(e),this.updateBill=e,this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/salesCredentials?bill="+e).then(function(e){console.log("銷售憑證"),console.log(e),t.certificateData=e.data,t.pageSel=4,document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},blobToArrayBuffer:function(e,t){var a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){return t(this.result)}},submitExcel:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/electronicBillingSave",this.certificateData.electronicBill).then(function(t){console.log("修改下載憑證"),console.log(t),e.$message.success({message:"憑證信息修改成功",showClose:!0,duration:2e3}),e.printSalesCredentials(e.updateBill)}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},downloadExcel:function(){this.downloadType=null,this.dialogDownloadVisible=!0},downloadSureExcel:function(){var e=this;this.dialogDownloadVisible=!1;var t=this.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/electronicBillingExport?id="+this.certificateData.electronicBill.id+"&type="+this.downloadType,{responseType:"blob"}).then(function(a){t.close(),console.log("下載憑證"),console.log(a);var l=document.createElement("a");if(1==e.downloadType){var s=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});l.style.display="none",l.href=URL.createObjectURL(s),l.setAttribute("download","Inv"+e.certificateData.bill+".xlsx")}else if(2==e.downloadType){var i=new Blob([a.data],{type:"application/pdf;charset=utf-8"});l.style.display="none",l.href=URL.createObjectURL(i),l.setAttribute("download","Inv"+e.certificateData.bill+".pdf")}document.body.appendChild(l),l.click(),document.body.removeChild(l)}).catch(function(a){t.close(),console.log(a),e.$message.error({message:a.data.status,showClose:!0,duration:2e3})})},updateSellOrder:function(e){console.log(e),this.updateSellId="修改",this.addDataConsign.sold=e.sold+"",this.addDataConsign.bill=e.bill,this.addDataConsign.isReceiveCheck=0!=e.isReceiveCheck,this.addDataConsign.companyId=e.receiveCompanyId;var t=!0,a=!1,l=void 0;try{for(var s,i=c()(this.companyAndWarehouseList);!(t=(s=i.next()).done);t=!0){var o=s.value;o.id==this.addDataConsign.companyId&&(this.warehouseList=o.warehouseList)}}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}this.addDataConsign.receiveWarehouseId=e.receiveWarehouseId,this.addDataConsign.soldTime=e.soldTime,this.addDataConsign.sellCurrencyId=e.sellCurrencyId?e.sellCurrencyId+"":"",this.addDataConsign.sellerId=e.sellerId,this.addDataConsign.customerType=e.customerType,this.sellStockList=e.stockList;var r=this.sellStockList.map(function(e){return{stockId:e.id,productCode:e.productCode,pic:e.pic,pics:e.pics,name:e.name,priceTran:e.priceTran,saleLogHkPrice:e.saleLogHkPrice,saleTotalHkPrice:e.saleTotalHkPrice,note:e.note,totalBillSaleMoney:e.totalBillSaleMoney}});this.sellStockList=r,this.getSubPrice(),this.pageSel=2,document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})},salesReturn:function(e){console.log(e),this.updateSellMsg=e,this.updateSellMsg.sold="1",this.dialogStateVisible=!0},salesReturnSure:function(){var e=this;this.updateSellMsg.createTime&&this.updateSellMsg.sold?this.$axios.put(this.baseUrl+"/stateSave",{id:this.updateSellMsg.id,sold:this.updateSellMsg.sold,createTime:this.updateSellMsg.createTime,note:this.updateSellMsg.note}).then(function(t){console.log(t),200==t.status&&(e.$message.success({message:"取回成功",showClose:!0,duration:2e3}),e.dialogStateVisible=!1,e.getSellOrderList())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})}):this.$message.error({message:"庫存狀態/入庫時間不能為空",showClose:!0,duration:2e3})},submitSales:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.sellStockList.forEach(function(e){if(console.log("循環"),t.$set(e,"sellCurrencyId",t.addDataConsign.sellCurrencyId),console.log(e),e.totalBillSaleMoney&&e.saleTotalHkPrice&&e.totalBillSaleMoney!=e.saleTotalHkPrice){t.numIsEquality=!0;var a="貨號"+e.productCode+"賬單出售記錄總金額為："+e.totalBillSaleMoney+t.currencyGlobal+" ,您錄入的寄賣金額為："+e.saleTotalHkPrice+t.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";t.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){t.numIsEquality=!1,t.updateRequest()}).catch(function(){console.log("取消提交")})}else t.numIsEquality=!1}),0==t.numIsEquality&&t.updateRequest()})},updateRequest:function(){var e=this;console.log("修改銷售單"),console.log(this.addDataConsign),this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderUpdate",{sold:this.addDataConsign.sold,bill:this.addDataConsign.bill,soldTime:this.addDataConsign.soldTime,isReceiveCheck:0==this.addDataConsign.isReceiveCheck?0:1,receiveWarehouseId:this.addDataConsign.receiveWarehouseId,sellCurrencyId:this.addDataConsign.sellCurrencyId,sellStockList:this.sellStockList,sellerId:this.addDataConsign.sellerId,customerType:this.addDataConsign.customerType}).then(function(t){console.log("修改銷售單信息"),console.log(t),200==t.status&&(e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.pageSel=0,e.getSellOrderList())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},companyChange:function(){console.log("公司變化");var e=!0,t=!1,a=void 0;try{for(var l,s=c()(this.companyAndWarehouseList);!(e=(l=s.next()).done);e=!0){var i=l.value;i.id==this.addDataConsign.companyId&&(this.warehouseList=i.warehouseList)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}this.addDataConsign.receiveWarehouseId=null},getRowKeys:function(e){return e.id},goback:function(){this.pageSel=0}},i()(l,"gobackAdd",function(){this.pageSel=0}),i()(l,"bigImg",function(e){if(e)return e.split("|").filter(function(e){return e&&e.trim()})}),i()(l,"isSellHKD",function(e){2==this.addDataConsign.sellCurrencyId?(e.saleTotalHkPrice=e.priceTran,this.getSubPrice()):e.saleTotalHkPrice=""}),i()(l,"getCompanyAndWarehouseList",function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/receiveCompanyMsgGet").then(function(t){console.log("接收公司及倉庫"),console.log(t),e.companyAndWarehouseList=t.data}).catch(function(e){console.log(e)})}),i()(l,"handleCurrentChangeSell",function(e){this.sellPage=e,this.getSellOrderList(),document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})}),i()(l,"getConsignmentWarehouseList",function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/consignmentWarehouseList").then(function(t){console.log("寄賣接收倉庫列表"),console.log(t),e.consignmentWarehouseList=t.data}).catch(function(e){console.log(e)})}),i()(l,"searchSell",function(){this.sellPage=1,this.getSellOrderList()}),i()(l,"getSellOrderList",function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderList",{page:this.sellPage,pageNum:5,keyword:this.sellKeyword,sold:8,startTime:this.sellTime?this.sellTime[0]:"",endTime:this.sellTime?this.sellTime[1]:"",stockLocId:this.sellStockLoc?this.sellStockLoc[1]:""}).then(function(t){console.log("銷售單列表"),console.log(t),e.sellOrderList=t.data.data,e.sellOrderTotal=t.data.total}).catch(function(e){console.log(e)})}),l)},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"salesHistoryContainer"}},[l("div",{staticClass:"new-consignment-container"},[l("div",{directives:[{name:"show",rawName:"v-show",value:0===e.pageSel,expression:"pageSel === 0"}]},[l("div",{staticClass:"back-style"},[l("el-form",{attrs:{inline:""}},[l("el-form-item",{attrs:{label:"接收倉庫"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.consignmentWarehouseList,props:{value:"id",label:"name",children:"warehouseList"},clearable:""},model:{value:e.sellStockLoc,callback:function(t){e.sellStockLoc=t},expression:"sellStockLoc"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"寄賣時間"}},[l("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.sellTime,callback:function(t){e.sellTime=t},expression:"sellTime"}})],1),e._v(" "),l("el-form-item",[l("el-input",{staticStyle:{width:"450px"},attrs:{placeholder:"可輸入賬單號、商品貨號搜索",clearable:""},model:{value:e.sellKeyword,callback:function(t){e.sellKeyword=t},expression:"sellKeyword"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.searchSell}},[e._v("查詢")])],1)],1)],1),e._v(" "),0==e.sellOrderList.length?l("div",{staticStyle:{width:"100%",padding:"20px 0","margin-top":"20px","text-align":"center","background-color":"#fff","border-radius":"6px"}},[e._v("\n        暫無數據\n      ")]):l("div",{staticStyle:{"margin-top":"20px"}},[e._l(e.sellOrderList,function(t,a){return l("div",{key:a,staticStyle:{padding:"20px","margin-bottom":"20px","background-color":"#fff","border-radius":"6px"}},[l("div",{staticClass:"bill-container"},[l("div",{staticClass:"container-top-left"},[l("div",{staticStyle:{"font-size":"16px",color:"#000"}},[e._v("\n                賬單號："),l("span",{staticStyle:{"font-size":"14px",color:"#666"}},[e._v(e._s(t.bill))])]),e._v(" "),l("div",{staticStyle:{"margin-left":"30px","font-size":"16px",color:"#000"}},[e._v("\n                寄賣時間："),l("span",{staticStyle:{"font-size":"14px",color:"#666"}},[e._v(e._s(t.soldTime))])]),e._v(" "),l("div",{staticStyle:{"margin-left":"30px","font-size":"16px",color:"#000"}},[e._v("\n                接收倉庫："),l("span",{staticStyle:{"font-size":"14px",color:"#666"}},[e._v(e._s(e.receiveWarehouseReg(t.receiveCompanyId,t.receiveWarehouseId)))])])]),e._v(" "),l("div",{staticClass:"print"},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.updateSellOrder(t)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.printSalesCredentials(t.bill)}}},[e._v("銷售憑證")]),e._v(" "),l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.cancelSales(t)}}},[e._v("撤銷")]),e._v(" "),l("el-dialog",{attrs:{title:"撤銷",visible:e.dialogDeleteBillVisible},on:{"update:visible":function(t){e.dialogDeleteBillVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n                  確定刪除該銷售單？刪除後不可恢復\n                ")]),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogDeleteBillVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.cancelSureSales}},[e._v("确 定")])],1)])],1)]),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:t.stockList}},[l("el-table-column",{attrs:{width:"80px",align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),l("el-table-column",{attrs:{width:"120px",align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"priceTran",label:"寄賣外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(t.row.priceTran?e.formatNumberRgx(t.row.priceTran)+" "+e.currencyRgx(t.row.sellCurrencyId):"--")+"\n                ")])]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleLogHkPrice",label:"物流費/手續費("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(t.row.saleLogHkPrice?e.formatNumberRgx(t.row.saleLogHkPrice)+" "+e.currencyGlobal:"--")+"\n                ")])]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice",label:"寄賣"+e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(t.row.saleTotalHkPrice?e.formatNumberRgx(t.row.saleTotalHkPrice)+" "+e.currencyGlobal:"--")+"\n                ")])]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{width:"200px",align:"center",prop:"note",label:"備註"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[l("div",{staticClass:"tooltipWarp",attrs:{slot:"content"},slot:"content"},[e._v("\n                      "+e._s(t.row.note)+"\n                    ")]),e._v(" "),l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.note))])])],1)]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{width:"120px",align:"center",prop:"note",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.salesReturn(t.row)}}},[e._v("取回")]),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row)}}},[e._v("詳情")]),e._v(" "),e.dialogStateVisible?l("el-dialog",{attrs:{title:"取回",visible:e.dialogStateVisible,width:"800px","close-on-press-escape":!1,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0},on:{"update:visible":function(t){e.dialogStateVisible=t}}},[l("div",[l("el-form",{attrs:{"label-width":"110px"}},[l("el-form-item",{attrs:{label:"庫存狀態",required:""}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.updateSellMsg.sold,callback:function(t){e.$set(e.updateSellMsg,"sold",t)},expression:"updateSellMsg.sold"}},e._l(e.stateUpdateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"入庫時間",required:""}},[l("el-form-item",[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"請選擇日期時間","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.updateSellMsg.createTime,callback:function(t){e.$set(e.updateSellMsg,"createTime",t)},expression:"updateSellMsg.createTime"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"備註"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.updateSellMsg.note,callback:function(t){e.$set(e.updateSellMsg,"note",t)},expression:"updateSellMsg.note"}})],1)],1)],1),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogStateVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.salesReturnSure}},[e._v("确 定\n                      ")])],1)]):e._e()],1)]}}],null,!0)})],1)],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.sellPage,"page-size":5,layout:"total, prev, pager, next, jumper",total:e.sellOrderTotal},on:{"current-change":e.handleCurrentChangeSell}})],1)],2)]),e._v(" "),1==e.pageSel?l("div",[l("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.gobackAdd,updateSuccess:e.updateSuccess}})],1):e._e(),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:2===e.pageSel,expression:"pageSel === 2"}],staticClass:"back-style"},[l("div",{staticStyle:{width:"60px","margin-bottom":"20px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:e.gobackAdd}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("div",[l("el-form",{ref:"addSalesTicketForm",attrs:{model:e.addDataConsign,rules:e.addDataRules,"label-width":"98px"}},[l("el-form-item",{attrs:{label:"庫存狀態",required:""}},[l("el-form-item",{attrs:{prop:"sold"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇"},model:{value:e.addDataConsign.sold,callback:function(t){e.$set(e.addDataConsign,"sold",t)},expression:"addDataConsign.sold"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"bill",label:"賬單號"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入賬單號"},model:{value:e.addDataConsign.bill,callback:function(t){e.$set(e.addDataConsign,"bill",t)},expression:"addDataConsign.bill"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否收款完成",prop:"isReceiveCheck"}},[l("el-switch",{model:{value:e.addDataConsign.isReceiveCheck,callback:function(t){e.$set(e.addDataConsign,"isReceiveCheck",t)},expression:"addDataConsign.isReceiveCheck"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"銷售人員",prop:"sellerId"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇銷售人員"},model:{value:e.addDataConsign.sellerId,callback:function(t){e.$set(e.addDataConsign,"sellerId",t)},expression:"addDataConsign.sellerId"}},e._l(e.sellerList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"客戶類型",prop:"customerType"}},[l("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"請選擇/輸入客戶類型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.addDataConsign.customerType,callback:function(t){e.$set(e.addDataConsign,"customerType",t)},expression:"addDataConsign.customerType"}})],1),e._v(" "),l("el-form-item",{attrs:{prop:"companyId",label:"接收公司"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},on:{change:e.companyChange},model:{value:e.addDataConsign.companyId,callback:function(t){e.$set(e.addDataConsign,"companyId",t)},expression:"addDataConsign.companyId"}},e._l(e.companyAndWarehouseList,function(e){return l("el-option",{directives:[{name:"show",rawName:"v-show",value:e.warehouseList.length>0,expression:"item.warehouseList.length > 0"}],key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"receiveWarehouseId",label:"接收倉庫"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},model:{value:e.addDataConsign.receiveWarehouseId,callback:function(t){e.$set(e.addDataConsign,"receiveWarehouseId",t)},expression:"addDataConsign.receiveWarehouseId"}},e._l(e.warehouseList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"soldTime",label:"寄賣日期"}},[l("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇"},model:{value:e.addDataConsign.soldTime,callback:function(t){e.$set(e.addDataConsign,"soldTime",t)},expression:"addDataConsign.soldTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"外幣金額幣種",prop:"sellCurrencyId"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},model:{value:e.addDataConsign.sellCurrencyId,callback:function(t){e.$set(e.addDataConsign,"sellCurrencyId",t)},expression:"addDataConsign.sellCurrencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("div",[l("el-table",{attrs:{border:"",data:e.sellStockList}},[l("el-table-column",{attrs:{width:"80px",align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),l("el-table-column",{attrs:{width:"120px",align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"priceTran",label:"寄賣外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.isSellHKD(t.row)}},model:{value:t.row.priceTran,callback:function(a){e.$set(t.row,"priceTran",a)},expression:"scope.row.priceTran"}},[l("i",{staticStyle:{color:"#000","font-style":"normal","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.currencyRgx(e.addDataConsign.sellCurrencyId)))])])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleLogHkPrice",label:"物流費/手續費("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:e.getSubPrice},model:{value:t.row.saleLogHkPrice,callback:function(a){e.$set(t.row,"saleLogHkPrice",a)},expression:"scope.row.saleLogHkPrice"}})],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice"},scopedSlots:e._u([{key:"header",fn:function(t){return[l("div",[l("span",[e._v("寄賣"+e._s(e.currencyFontRgx(e.currencyGlobal))+"金額")])])]}},{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.getNumber(t.row)}},model:{value:t.row.saleTotalHkPrice,callback:function(a){e.$set(t.row,"saleTotalHkPrice",a)},expression:"scope.row.saleTotalHkPrice"}})],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"note",label:"備註"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"textarea",placeholder:"请输入",clearable:""},model:{value:t.row.note,callback:function(a){e.$set(t.row,"note",a)},expression:"scope.row.note"}})],1)]}}])})],1),e._v(" "),l("div",[l("p",{staticStyle:{"text-align":"right"}},[e._v("\n              總金額："+e._s(e.formatNumberRgx(e.subTotal)+" "+e.currencyGlobal)+"\n            ")])])],1),e._v(" "),l("div",{staticStyle:{margin:"20px 40px 20px 0","text-align":"right"}},[l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){return e.submitSales("addSalesTicketForm")}}},[e._v("提 交")])],1)],1)]),e._v(" "),4==e.pageSel?l("div",{staticClass:"back-style"},[l("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[l("div",{staticStyle:{width:"60px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:e.goback}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("div",[l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.submitExcel}},[e._v("保存憑證")]),e._v(" "),l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.downloadExcel}},[e._v("下載憑證")]),e._v(" "),l("el-button",{directives:[{name:"print",rawName:"v-print",value:e.printData,expression:"printData"}],attrs:{type:"primary"}},[e._v("打印憑證")]),e._v(" "),l("el-dialog",{attrs:{width:"400px",title:"選擇下載格式",visible:e.dialogDownloadVisible},on:{"update:visible":function(t){e.dialogDownloadVisible=t}}},[l("div",{attrs:{id:"selectType"}},[l("el-form",[l("el-form-item",{attrs:{label:""}},[l("el-radio-group",{on:{change:e.downloadSureExcel},model:{value:e.downloadType,callback:function(t){e.downloadType=t},expression:"downloadType"}},[l("el-radio",{attrs:{label:1}},[l("img",{staticStyle:{width:"80px",height:"80px","object-fit":"cover"},attrs:{src:a("DRmM")}})]),e._v(" "),l("el-radio",{attrs:{label:2}},[l("img",{staticStyle:{width:"80px",height:"80px","object-fit":"cover"},attrs:{src:a("Mqg4")}})])],1)],1)],1)],1)])],1)]),e._v(" "),l("div",{ref:"reconciliationWrapper",staticStyle:{margin:"30px","padding-bottom":"50px"},attrs:{id:"printArea"}},[e._m(0),e._v(" "),l("div",{staticStyle:{width:"395px"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.companyName,expression:"certificateData.electronicBill.companyName"}],attrs:{type:"text",placeholder:"請輸入公司名稱"},domProps:{value:e.certificateData.electronicBill.companyName},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"companyName",t.target.value)}}})]),e._v(" "),l("div",{staticStyle:{width:"395px"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.companyAddr,expression:"certificateData.electronicBill.companyAddr"}],attrs:{type:"text",placeholder:"請輸入公司地址"},domProps:{value:e.certificateData.electronicBill.companyAddr},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"companyAddr",t.target.value)}}})]),e._v(" "),l("div",{staticStyle:{"margin-top":"20px","text-align":"center","font-size":"24px","font-weight":"bold"}},[e._v("\n          Invoice\n        ")]),e._v(" "),l("div",{staticStyle:{"margin-top":"20px","text-align":"left","font-size":"16px","font-weight":"bold"}},[e._v("\n          To："+e._s(e.certificateData.customer)+"\n        ")]),e._v(" "),l("div",{staticStyle:{"text-align":"right"}},[l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Invoice No.:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.certificateData.bill)+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Invoice Date:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.certificateData.soldTime)+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Payment Terms:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.paymentTerms,expression:"certificateData.electronicBill.paymentTerms"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.paymentTerms},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"paymentTerms",t.target.value)}}})])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Currency:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.certificateData.currency)+"\n            ")])])]),e._v(" "),l("table",{staticStyle:{width:"100%",margin:"20px 0","border-spacing":"0","border-collapse":"collapse"},attrs:{border:""}},[e._m(1),e._v(" "),e._l(e.certificateData.stockDetailList,function(t){return l("tr",{key:t.id,staticStyle:{width:"100%"}},[l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              Hermes\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center"}},[l("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.pics.split("|")[0]}})]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.productCode)+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.model)+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.size?t.size:"-")+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.color?t.color:"-")+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.leather?t.leather:"-")+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              1\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(e.formatNumberRgx(t.priceTran))+"\n            ")])])})],2),e._v(" "),l("div",{staticStyle:{"text-align":"right"}},[l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Subtotal:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.formatNumberRgx(e.certificateData.subtotal))+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Shipping Cost:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.formatNumberRgx(e.certificateData.shippingCost))+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Total in "+e._s(e.currencyGlobal)+":\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.formatNumberRgx(e.certificateData.totalInHkd))+"\n            ")])])]),e._v(" "),l("div",{staticStyle:{"margin-top":"30px",display:"flex","justify-content":"space-between","align-items":"center"}},[l("el-form",{attrs:{"label-width":"235px"}},[l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank account name (收款人):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankAccountName,expression:"certificateData.electronicBill.bankAccountName"}],staticStyle:{width:"460px"},attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankAccountName},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankAccountName",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank Name (銀行名稱):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankName,expression:"certificateData.electronicBill.bankName"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankName},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankName",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank Code (銀行代碼):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankCode,expression:"certificateData.electronicBill.bankCode"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankCode},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankCode",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank account Number (收款賬號):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankAccountNumber,expression:"certificateData.electronicBill.bankAccountNumber"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankAccountNumber},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankAccountNumber",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Swift code (銀行國際代碼):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.swiftCode,expression:"certificateData.electronicBill.swiftCode"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.swiftCode},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"swiftCode",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank Address (銀行地址):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankAddr,expression:"certificateData.electronicBill.bankAddr"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankAddr},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankAddr",t.target.value)}}})])],1),e._v(" "),e._m(2)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"20px","font-weight":"bold","font-size":"14px"}},[e._v("\n          此單所列貨物均為香港交貨價，如需攜帶出香港請貴客自行向所到地海關申報，並承擔有關費用，本公司概不負責!\n        ")])])]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:a("+jss")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticStyle:{width:"100%"}},[a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Brand\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Images\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Product No.\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Model\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Size\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Color\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Leather\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Qty\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              AMOUNT\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{width:"250px","text-align":"center"}},[t("img",{attrs:{src:a("0L8t")}}),this._v(" "),t("div",{staticStyle:{width:"259px"}},[t("img",{attrs:{src:a("99yL")}})]),this._v(" "),t("div",{staticStyle:{"text-align":"right"}},[this._v("Stamp")])])}]};var p=a("VU/8")(d,u,!1,function(e){a("fYjw"),a("qQam")},"data-v-ef45c9ea",null);t.default=p.exports},"0L8t":function(e,t,a){e.exports=a.p+"static/img/foot.61e9d07.png"},"1R1t":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAATCAYAAACUef2IAAAAAXNSR0IArs4c6QAAAcdJREFUOE/Nkz9rU1EYh5/fvU1AQUHcxUHRqljFYu2fZNOtgx+h+AXUiJMl56baxUVwcnMUCoKbo3hrEXEITSn6CcQPoAXtPT9JMMW2MWlNB8/6vu/DOc/vPeIATiX4ohVvtlHRyauVoKaG5U4FX0oVV4BPBgnOFk4mhwZXsuK54cJyPR1vX7KSbX6w+fb/gmcaHpNj06gJ5sBUzGRFTfAIs4QoCidPtsLrpEqsSbhb2Euo0ws+oxhXFcnyLF38c0a9UsXJRB602h9uVTOvRFxadnKVoLgNPJMVdWB2e6pqLYf0Vj9wWwGwKCeX86D1nb3aDY4fsY+IOPc2lNr7uetMBp8aUWwRWdipoNvcS8Vp0Bp4wvg95ukI6csNKJeJt43PSxoFfc+tqZ0KtsCdpe4RXqXhaew7xrOCr6Cf4ENILewbOD7OQ+n+33QN/CDT9Y0TUrmOmHOSjL6b1+dKVswDd3Mnx/veeNBqVYOrUfFNF1xtFA9sakODrzxz6fCX2EQcw24hXceEPKSNf1bRHZwIPvo7vDHBUh5GXvR7acfxueDyIB37qa8H/VC1UdyzebifwcG9fq1rwSdLFOMIDx7YQ4fRJunaLwCn8x67XDMCAAAAAElFTkSuQmCC"},"2/eQ":function(e,t){},"3Hv0":function(e,t){},"4Uuu":function(e,t){},"63fn":function(e,t){},"8Vy1":function(e,t){},"99yL":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAAAPCAYAAADgZKoEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABLSURBVGhD7dbBCcAwEAPB67/pi9mnSQVmBtTColmAQwyAiAEQMQAiBkDEAIgYABEDIGIARAyA/MZgZszs8d08AyBiAEQMgIgBcOx+hMaPkkfIF4IAAAAASUVORK5CYII="},"9mWD":function(e,t){},Awiv:function(e,t,a){e.exports=a.p+"static/img/logo_white.8ef5a20.png"},BD2p:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i={data:function(){return{imgurls:[],loading:null}},methods:{inputChange:function(e){console.log("图片"),console.log(e);var t=e.target.files,a=this,l=t[0];if(console.log(l),void 0!=l)if(t.length>9)this.$message.error({message:"最多上传9张图片，请重新选择",showClose:!0,duration:2e3});else{this.loading=this.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});var i=!0,o=!1,r=void 0;try{for(var n,c=s()(t);!(i=(n=c.next()).done);i=!0){var d=n.value;d.size/1024>2050?this.photoCompress(d,{quality:.7},function(e){var t=a.base64UrlToBlob(e);a.uploadLice(t)}):this.uploadLice(d)}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}},base64UrlToBlob:function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],l=atob(t[1]),s=l.length,i=new Uint8Array(s);s--;)i[s]=l.charCodeAt(s);var o=Date.parse(new Date)+".jpg";return new File([i],o,{type:a})},photoCompress:function(e,t,a){var l=this,s=new FileReader;s.readAsDataURL(e),s.onload=function(){var e=this.result;l.canvasDataURL(e,t,a)}},canvasDataURL:function(e,t,a){var l=new Image;l.src=e,l.onload=function(){var e=this.width,l=this.height,s=e/l;e=t.width||e,l=t.height||e/s;var i=.7,o=document.createElement("canvas"),r=o.getContext("2d"),n=document.createAttribute("width");n.nodeValue=e;var c=document.createAttribute("height");c.nodeValue=l,o.setAttributeNode(n),o.setAttributeNode(c),r.fillStyle="#fff",r.fillRect(0,0,e,l),r.drawImage(this,0,0,e,l),t.quality&&t.quality>=1&&t.quality<0&&(i=t.quality);var d=o.toDataURL("image/jpeg",i);a(d)}},uploadLice:function(e){console.log(e);var t=new FormData;t.append("upload-images",e),this.uploadImg(t)},uploadImg:function(e){var t=this;e.append("state",0),e.append("type",0);var a=void 0;a=""!==this.$store.state.imgUrl?this.$store.state.imgUrl.match(/[|]/g):[],console.log(a),a.length>8?this.$message.error({message:"最多上传9张图片",showClose:!0,duration:2e3}):this.$axios.post(this.$store.state.baseUrl+"/upload",e).then(function(e){200==e.status&&t.$message.success({message:"图片上传成功",showClose:!0,duration:2e3}),console.log(e),t.imgurls=e.data.split("|"),console.log(t.imgurls);var a=document.getElementById("previewImg1");console.log(t.$store.state.imgUrl);for(var l=0;l<t.imgurls.length-1;l++){console.log(t.$store.state.baseUrl+"/file/"+t.imgurls[l]),t.$store.state.imgUrl+=t.$store.state.baseUrl+"/file/"+t.imgurls[l]+"|";var s=document.createElement("div");s.style.position="relative",s.className="previewImg2";var i=document.createElement("span");i.innerHTML="x",i.className="spanStyle";var o=document.createElement("img");o.width=100,o.height=100,o.style.objectFit="cover",o.style.borderRadius="5px",o.style.marginLeft="10px",o.style.zIndex=1,o.src=t.$store.state.baseUrl+"/file/"+t.imgurls[l],s.appendChild(i),s.appendChild(o),a.appendChild(s),i.onclick=function(e){var l=e.currentTarget.nextElementSibling.src+"|";console.log("------"+l),console.log(t.$store.state.imgUrl);var s=t.$store.state.imgUrl.replace(l,"");t.$store.state.imgUrl=s,console.log("333333"+t.$store.state.imgUrl),a.removeChild(e.currentTarget.parentElement)},console.log("444444"+t.$store.state.imgUrl)}t.loading.close(),console.log(t.$store.state.imgUrl)}).catch(function(e){t.loading.close(),console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"upload-imgs"},[a("div",{staticClass:"add"},[a("form",{attrs:{id:"formUpload",enctype:"multipart/form-data"}},[a("input",{staticClass:"inputUpload",attrs:{type:"file",name:"upload-images",accept:"image/*",multiple:""},on:{change:function(t){return e.inputChange(t)}}}),e._v(" "),a("i",{staticClass:"el-icon-plus addIcon"})])]),e._v(" "),a("div",{staticClass:"previewImg",attrs:{id:"previewImg1"}})])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-bottom":"20px"}},[t("span",{staticStyle:{color:"#f56c6c"}},[this._v("*")]),t("span",[this._v("商品展示图：(最多上传9张图片)")])])}]};var r=a("VU/8")(i,o,!1,function(e){a("OYBT")},null,null);t.default=r.exports},Bv5a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={components:{detailsVue:a("XMJn").default},data:function(){return{baseUrl:this.$store.state.baseUrl,pageSel:0,page:1,pagesize:10,total:0,delId:0,updateId:0,onSaleProducts:[]}},created:function(){this.searchProducts()},methods:{goback:function(e){this.pageSel=e},editProduct:function(e){this.updateId=e,this.pageSel=1,document.getElementById("onsaleContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(e){this.pageSel=e,this.searchProducts()},bigImg:function(e){return e.split("|").filter(function(e){return e&&e.trim()})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.searchProducts(),document.getElementById("onsaleContainer").scrollIntoView({behavior:"smooth"})},radioChange:function(){this.page=1,this.searchProducts()},PrefixInteger:function(e){return(Array(6).join("0")+e).slice(-6)},money:function(e,t){console.log(e,t);var a=t-e;return this.formatNumberRgx(a)},searchProducts:function(){var e=this;console.log("ffff222"),this.$axios.get(this.$store.state.baseUrl+"/noPriceList?page="+this.page+"&pageNum=10&flag=1").then(function(t){console.log(t),e.onSaleProducts=t.data.list,e.total=t.data.total,console.log(e.onSaleProducts)})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"onsaleContainer"}},[a("div",{staticClass:"onsale-container"},[0==e.pageSel?a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.onSaleProducts,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"productCode",label:"货号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pic",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2985449157)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row.id)}}},[e._v("编辑")])],1)]}}],null,!1,1038427187)})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1):e._e(),e._v(" "),1==e.pageSel?a("div",[a("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.goback,updateSuccess:e.updateSuccess}})],1):e._e()])])},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("i20q")},"data-v-c68329f6",null);t.default=i.exports},"D1/G":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAaCAYAAABctMd+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxRkU4QzVFNjA1MUExMUVBQTVFMUQ1RUEwQjdCQTAyQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxRkU4QzVFNzA1MUExMUVBQTVFMUQ1RUEwQjdCQTAyQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFGRThDNUU0MDUxQTExRUFBNUUxRDVFQTBCN0JBMDJDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFGRThDNUU1MDUxQTExRUFBNUUxRDVFQTBCN0JBMDJDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7p81RQAAApFJREFUeNqslctrE1EUxs+Z3JkkhvhATVuibRRFLYgu3BTxDxA3LqoiQhREcFOLIGShC8GdbkQEXUgW4kJE0KVuXLhwJbpwURC0xbYhFbFqQttkHtfvTm5wHDN5DH7wm5x7ufebM/dxwtc/f6UeOgjOgcNgD3DBDHgFHoC5qIlGD+M74D2YBodAFmwEE+Aq+ASuDWquTF6DqVC/22H+DfCkX3PV9wEcCfS9AafBKNgJzuulaeuEHtPT/D4YC7Rv6/V+DCpgFpTBOHgaGKeW6nI38zy4EGg/C08ISWX8LtC+BTZFmV8KxE1winrreCBOgMko85Ohk2L3YT4P7uqxS+BtJ3O1UQX+0y5T/5rSm13QR9eXUA/ZekvOMpi4dd7qTU/OMA2karhDtNM3mAuVhkM/HJdGLHN5gzAytpQGxVOtbT6RNPjhUtPJf1xp+p9Rd+TI/qxVMdlgV8o45t9AUeiN2+Xp9WH2fwRYzxRb6oZPK/NUw5O0xRS0O0P0y3Frw5ZJSTbIGTzrbCB2lPlqK2tJ+aS4ty0pSqqtXhgjc1XMSjq2/Q1lfWJg+BJxTeq+GHoeMP/nEuVk908+o0tulHKD1POg9oFH4ECXMRzHXI27ouNS+370M6kfFXQFVDoK9v5Pc/VHu6Dj72AxYtxfW2agnFAKjzQQzNWIDa2D7eAY2AyWO7kmmKrpRMtL+QocZ/qCmqIuzJCVmETxmncleR1Oo8r+BRgCw2FvgZpne3S20rCxHExbrQSJxYazbm7V9p3qrlccz1hFDn9fD7G/vkyza02qIlEkTyuesAxPyp/+AHR4kuJfH3XfYWBoB3w9i3zKvOhIKmNZdoymzLVBsw7uYiFtqiTTCeKFsZS4+VuAAQC7Wrr4xzPObQAAAABJRU5ErkJggg=="},DRmM:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGrmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wNC0yMVQxNDowNjo0NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDQtMjFUMTQ6NDA6NDYrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDQtMjFUMTQ6NDA6NDYrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmZjMjFkNzFmLTIxM2YtNzM0NC04YjM4LTNiM2YwM2YzNWRlYiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjRlMjJhODg2LTk3MDItMjM0ZS05NDc1LWEzMzhjMDYxZjI4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmYwOWQ0MzliLTEzN2YtYjE0ZS1hMjYwLWNiNzQ3NTQyZjI2MyI+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjEzRjIzQ0FFQUM2M0M5RUQ5NDUzREU2MDM0NEFDQzAyPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjA5ZDQzOWItMTM3Zi1iMTRlLWEyNjAtY2I3NDc1NDJmMjYzIiBzdEV2dDp3aGVuPSIyMDIyLTA0LTIxVDE0OjA2OjQ0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmZjMjFkNzFmLTIxM2YtNzM0NC04YjM4LTNiM2YwM2YzNWRlYiIgc3RFdnQ6d2hlbj0iMjAyMi0wNC0yMVQxNDo0MDo0NiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7mf0QMAAAOeElEQVR4nO2dW3Ab13mAv10sSBC8iDeQIi0zFCVR1s2XRLackaXKShQldTPj+sFuEiWZjhxnXLcvzUwzk5lM0uYpM6315D7EUjNJ7GTsJp6kTpym6aS2IrWyTMeWZFmSRVI0BfECAgRAgLgD24cDAiRxWwC7wFLmp8GIC5w959/z7+Wc//z/v9LExAQmxwHcDewChoBBYCPQDXQCVqAlXTYIxIF5wA3MABPAOHAZuAjM1UzyClDqLUAetgJHgf3pz0AZ+y4ppgPYUqDMJHA2/fkdMFqZmMYgmeQKuQs4BjyBUEgtGQVeAl4Arta47RzqqZBO4IsIReyrlxCreBOhmJ8ibns1px4K2Q78PfAVwFbrxjUSAX4MPAtcq2XDcg3bGkacfe8DT2FeZYCQ7SmErC8iZK8JtVBIN/AcYpTzpRq1qRcy4rZ6GXEM3bVo0Cgk4DhwHfgbzDmi04qCOIbrwJOIYzMEoxQyCPwBOAm0G9RGPWgHnkcc26ARDRihkGPABeCQAXWbhUOIYzymd8V6KqQRcfb8BGjTsV6z0oY41ucRx64LeilkI/BHxP31o8aTiGPv06MyPRSyGzGhul+HutYq9wPnEH1RFdUq5EHgNOXZm25XBhB98WA1lVSjkIPA7xGGvHUEHYg+OVhpBZUqZB/wG7LW1XWytAC/pkL7XCUK2YMwW68rozCtiD7aU+6O5SqkH3gN2FBuQx9BNiD6alM5O5VjzmgAXim3gVqhouIOeRn1TjDuu0kkEcEV8jC5MIVNaeTEp75dD7E2AT9HPFNiWnYoRyHPYZJ1C380QCC2iD8aYNQ7waj3QzxhL5FElHAiklO+vbGu89R9wL+icY6mVSHHtFaoN7FkHGdgGlfIw3zYhzMwzYT/Ft6Ivx7iVMpx4HXE8kNRtChkEHF1GE40GcMT9nLDd5OpoAtXyI075MUdnieRStZCBCN5DjiDcLooSCmFSMC/YYBtKhgL4Ysu4Ap5mPA7mQ66mAm68EYWSKprvvPz0Qb8EDgMqIUKlVLIceDhaiWJJmPMBOdwhdxML84x6b+FO+zFHfLWpPNlyTRrYocQt/7nCxUoppAu4PuVtjwyfZHpxTmmg7PcXJghEAsSTWoaaOjOQixQl3YL8H3EaNWT78diCvlHhGdIRZy6+HKlu+pOMBaqtwjL6QD+CXgm34+FruVh4OtGSbQOT1HAcaKQQr7D2l4DX0Gnrb3eIqxGAb6b74d8CtkO/JWR0tQam6Lbgp6ePIHw2FxBPoV8o8D3axZJMsxJpBpkhMPgClbflroxYOG+3oTiYS5cuFDwd0VR2L59O4qiMDY2RjAYLFmnw+Ggv7+/WtGOAd9CeOoLWVYV+ArQVG0rZsMb8XPixImiZU6cOEFHRwenTp1iamqqZJ0HDhzg+PHj1YrWBHwV+JelL1bfmr5WbQtrkba2NmRZzvythebmZr2aX2EjXK6QT5DnIbOO4dyF6HtgpUIer70s66TJ9P1yhTxWB0FMQSgUyozEotGopn2SSV1tcJm+X3qob6H2kUs1wyorbNy8mVQqlfNbKpWiqamJeDwOQE9PD4lEIvNMyUcymURRFFRV1WtIvRWhg7ElhXxWj1prgSzJNCk2oskYiVRC0z4Oexff/s7faSr79NNPVyNeNXwWeG5JIQ/VunVJkrDKColUElmSsSs2FuPhvOb4R7Yc5s62PiRJokmxEU5EePG9X7IQKz1fAIgkozgXZwrIAbJkodfWhSzJuKNeoskoasEVC7FPm7WVVqtuIy0QOsgoZL+eNWvlM5sPsqNrC7Ik02y189KVV7nsvp5Tbv+mT9Bhyzq6vHj5V5qVATAf9vGLD/+zaJnjw4/Toth5zfk63mjp5eGd7ds40q9rtz0E4qHuAO7Us2YtqKqKK+RhqH2AwQ2bcNg7OXDnAznldjuGabdl5wbTQRdnnG/pKotdsSGnY3DsFm3zYpulQVcZEB4qDhkRlF8X/jTzHs5A9lZyT8+OHMvsvT27kJYFLL06+t+1Eq8e3CsjMiTUhUQqkXO2P9B/T+bvZqud4c7BzPaE38k7s+/XSrx6sENGpKuoG+enLuCPZpdY927Mel9uaR/AYe/KbP/HdWOujpUeLUWe5stLFXvqV86QDGw2omathBMR3px6J7Pd19LDcKc4R/b0ZC05o94JrnrGKmpDkiQa5QYaZGvOxyJZsFkaSalijpJUUyiSJW/Z7D4yKY2KK5MhBeGvW1dO33yLTw3uxyJZkCWZXd3b+GB+nI/3Zu+mvx1/A7XCTui1d/P1u76Q96xWUVc8ox792BEUybLiu3z7GHSF9CnUIPa6FJ6wl5HpS+zrvxeA+3p3IZFd6ftg/gbv5xkOayWeSjATKpAESJKQkXDYhD9HKB4mkopRaiLSothplXVf5XYomCRs+YxzhAf670FCwmHv5MjmA5nffnX991XV7Ql7eXnitaJlluYhrzr/UK95CMAGGbDoXWsljHonuOLOzZR0fupdxn2ThrZtknkIgCIjgktMwXvuD3K+C8ZN5VNlNC2mcmbY49ie892fDeyjv6W3DtLUBxkwhZ/lPT072NElVgBSaipjZLRIFo4OVRxDqQkTzUOCMlB3V3NZkvnL4aOZ7SueMV65ljUG7t24hztaK79KJEmi0dJAo5z7yTsPkZW8ZZfvU+kQvAQJBfBR55HWQ5v20tucHX3/r3OEP81e5vNbP41NaUSWZD43dIiTF16qqP4eexdPbns8bxcuzUMUWYxtHh04giRJJechxX6vAr+C8AkaNKJ2LTRaGnhk6+HM9lzIw6U5kcTt/PQFDqYtwPf27uSO1o3cCuRf1yhGSlUJJ6Pkux2lVFWsx0hNWCSJSFIs4cpFVgJTqopVVrDqPw+ZU4DSTkgGcmTzAdoashHWp2+eJ55eCXxrmUIskoVPD+7nR5d+UXYbcyEPP7z+87y/qag0WWx8YejztFqb+bXzf3BH5kteIXs6tnO475Nly1KCaRm4oXetWtnQ2MqhgWwc6UIsyFnn25ntMd8kkwvZ8+XB/vvoa+mpqC21wD+ApJrEkg7qaZStRcsv7aNIhkzfbsiIJMN14TObD9BstWe2T0++uSKKVlVV3nWtNLd/buiQ7nIsPT8E2p4NBvkLj8mIRI81Z2Ozg4c2ZRMIBWOLnL31dk65s84R4sl4Zvv+vrvZ1KpLJiQzckVBZEarOYFYkGfPn8RqsdLZ1I434scXWcgptxANMjJziZ3d21BkhWZrE49tP8oP3v0ZkYQ2H6o1xEUFkQvdSY0zNCzGwyzGb4kNb/GyL1/9DXZrE42WBlqsdrrtnVhlhQj6KGR57GM8FS9SMosBYdpOYHZp3HYGEwfpRBLRFVfDde9EWfs77J18detjRadyDemH+V/c+TAJNUnxZ4maKa8jZyDruWhqhVRLLBlnOjyHqhZe5xto7qdVVnBF5gknI8WHvapKW0MLzYq9YJkKOAtZhRR3Wlrj+KMB/uvWH4uW+drwEwCcc72DO1riHgrs7hhmoFnXxdbfQtbZeiz9+UhiV7JZzxst2uIRdb5lZfp/ufn9FT1bWKcsMuaH5QqpzHK3jh78+9IfyxXyNiZ4oUk9iC6beCZUbR71S+Z6HbgGjCxtrDZXngT+Wa+WzILVYqXf3oOq5q5iqOkhbDLdwR0Nwqm72CgrlV4z0YkViWhW1/oj4HvcZpG4XbZ2HvvY0fzrIaoKqJmMQYf69iEjF7VVqWoqPVepmjCizzOsVogbkfXstorGlSQJSyHr7Kp+b5Q1eJNIFqzoMsp6gWUx6pA/Y8OzgG43yHUKkgJygufzKeQqt9mIy6T5GV8Crqz+spAb0HcBbcONNYAJrcIJRD6yHAop5APgB9W0+MiWw+ztu5s7WjcWvn/XCIMcEqrheQq8/a3Ya/O6EO9cqirZfjyVwLXoYSo4w8yim6ngLFOBWRZiwZqdud1NHXzv4Ddq0pYGfIgw6LJT/HmAb1LllWKVFe5o7V3hVxVJRHGFPLhD80wFZ5lcmMIV8jC76C5SUxUyWHQ3lVfDP1BAGVA6a9xJxGvjDukoEDalkYG2fgba+vl4+h0owViIQCzIzKKbG/6bTAVmcYXcLESrT55pkJdhJbyO6NOClFKICvw1YpnX0HzdLQ12Whrs9LX0cF/vznTjKlMBFzf8N5kOuvCEvbhCHmYW58zUyVpZQPRlUcG1zP8nEBk0f1K9TOUhIeW93U0FZ5kP+/BFA4z7Jhn3Ta6IUzQpf0uJrNagPdHlC4jbVtUZu6rFpjQy1D7AUPvSW5b2E4wtEklGmQvNc80zzpjvQ8KJCP5ogGAsxHzEV0+RAU6h8YQux0L2DOIFJbnR/XWmpaGZFprpbupka8cg/ugCiVSSCb+Td2ffzxgO68QIBXL05qPct0VvAv4Pk75DxIQ4gU+m/9dEuQE7TuDPAVPaIkyGH9FXmpUBlaWDvYRIJaQ9+8tHjyCijy6Vu2OlIW3ngEdYV0o+goi+OVfJztXEGJ4GjiBMAesIfIg+OV1pBdUGfZ5DvPDK2LjltcEkoi8qujKW0CMK9xLidaP6JrFaW7yFGE2V/cxYjV5h0dOIs+OUTvWtJU4hjl2XSDQ949QjiCzNX0bYbW53FhCp2Z9EHLsuGJE44AXgPuANA+o2C28gjlF3+55RmRzGES8Te4rbaxTmQxzTwxgUCmhkag0VsVS5DfGmy7W8Rp9AHMM2xDEZZvuvRa4TN8K4thv4KWvLxSgF/Awh+zOs8qEyglomn7kGfAnYiVgW1u1BaAARhIy7ECumeR0SjKBca6+eOMiOUszymoyriCXWHyNiL2tOPRWynL2Il2Q9Su1fCjAK/BLhuDZSvKjxmEUhy9kKHEWkPz+A/msvtxC2prPA7xAKMQ1mVMhqehDZt3cjUtpuBnoRyTs7gAZgKSv+IuJF8l7EA3gWkTrkBvAecBFw1VD2svl/iv+Nl6+w1acAAAAASUVORK5CYII="},EV1k:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"Login",data:function(){return{loginForm:{username:"admin",password:""}}},beforeRouteEnter:function(e,t,a){a(function(e){e.$store.dispatch("setRole",null)})},methods:{handleLogin:function(){var e=this;if(""==this.loginForm.username||""==this.loginForm.password)this.$message.warning({message:"用戶名或密碼不能為空 !",showClose:!0,duration:2e3});else{var t=this.$loading({lock:!0,text:"登錄中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});this.$axios.post(this.$store.state.baseUrl+"/login",{username:this.loginForm.username,password:this.loginForm.password}).then(function(a){console.log("000000000"),console.log(a),"indi"==a.data.role?e.$message.error({message:"對不起，您沒有訪問該系統的權限",showClose:!0,duration:2e3}):(t.close(),a.data.token?(e.$message.success({message:"登錄成功",showClose:!0,duration:2e3}),sessionStorage.setItem("userId",a.data.id),sessionStorage.setItem("role",a.data.role),sessionStorage.setItem("token",a.data.token),sessionStorage.setItem("type",a.data.type),sessionStorage.setItem("companyId",a.data.companyId),sessionStorage.setItem("currencyGlobal",a.data.currency),sessionStorage.setItem("isHeadCompanyAdmin",a.data.isHeadCompanyAdmin),sessionStorage.setItem("username",a.data.username),e.$store.dispatch("setRole",a.data.role),e.$store.dispatch("setToken",a.data.token),e.$store.dispatch("setType",a.data.type),console.log(e.$store.state.isLogin),e.$router.push("/home")):(e.$message.error({message:"啊哦，登錄失敗，請檢查用戶名/密碼輸入是否正確",showClose:!0,duration:2e3}),e.$store.dispatch("setRole",null),e.loginForm.password="",sessionStorage.setItem("username",""),sessionStorage.setItem("role",""),sessionStorage.setItem("token","")))}).catch(function(a){t.close(),console.log("11111111"),console.log(a),e.$message.error({message:"啊哦，登錄失敗，請檢查用戶名/密碼輸入是否正確",showClose:!0,duration:2e3}),e.$store.dispatch("setRole",null),e.loginForm.password=""})}},usernameFocus:function(){this.usernameImg=a("dHKz")},usernameBlur:function(){this.usernameImg=a("IPrZ")},passwordFocus:function(){this.passwordImg=a("D1/G")},passwordBlur:function(){this.passwordImg=a("befP")},keyLogin:function(){13==event.keyCode&&this.handleLogin()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container",on:{keydown:function(t){return e.keyLogin()}}},[a("div",{staticClass:"login-main"},[a("div",{staticClass:"login-form"},[e._m(0),e._v(" "),a("div",{staticClass:"username"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],staticClass:"user-input",attrs:{type:"text",placeholder:"請輸入用戶名","prefix-icon":"el-icon-s-custom",tabindex:"1","auto-complete":"on"},domProps:{value:e.loginForm.username},on:{focus:e.usernameFocus,blur:e.usernameBlur,input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"password"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],staticClass:"pass-input",attrs:{type:"password",placeholder:"請輸入密碼","prefix-icon":"el-icon-lock",tabindex:"2","auto-complete":"on"},domProps:{value:e.loginForm.password},on:{focus:e.passwordFocus,blur:e.passwordBlur,input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"login-btn"},[a("div",{staticClass:"btn-self",on:{click:e.handleLogin}},[e._v("登錄")])])]),e._v(" "),e._m(1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login-font"},[t("div",[t("img",{staticStyle:{width:"120px",height:"120px","object-fit":"cover"},attrs:{src:a("xZ/6")}})]),this._v(" "),t("div",{staticClass:"font-02"},[this._v("\n          愛馬仕後台管理系統\n        ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right-img"},[t("img",{attrs:{src:a("q88x")}})])}]};var i=a("VU/8")(l,s,!1,function(e){a("3Hv0")},"data-v-22048d16",null);t.default=i.exports},"EnA/":function(e,t){},"F/me":function(e,t){},GSpf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAAXNSR0IArs4c6QAAAZZJREFUOE+N0r9rFEEYxvHvM3shKS53CBEsFBXUwrOwEg22IvoPWKSxsNMEJY0Ew0VEDDbmx6a0tVdQBKsQ+6DcimhhrYLFYtKYm0f2EhPPJO5OOfPOh/d9ZlTPFk4HwlvgACXL4ru6TCKP5D/9lPMT+Z8rGs7SKcHDMqQ4j2ZagasyF8D389b4zA7UWbor+VEVyIHrdJmVOASez1vjt7eheie9F8SDKhB4DGkOcxAzl5+5dWcHytKW8DmCIjHqf2DY0LITrSKau6DiYvPd4vE4oOdEvC8kLGgCx3o1/3ZU7DWypRPgz9XG26oqg4xXJL3HhD5Ysu1EMAbUSzsyTMbgN3TdDxXTRNdqSfIMOFUKVR6vbDTwGugrsNcL1oAjvaylJ/4VZuPgRm19sP6jV9wftq7krZuv9+uskaWrwFlMm8BFzCXDi92QvYb0bS/IMCA4vPX8bWAUcRl4tQl9mD+Jk0+V89n8R23EKPwF8WVmqLE+UuTSqIpZeizHo6Brxi+3Ax3upDcQi4KhKpjNRwJTRE9Ad/o3mSOv7GaCVZkAAAAASUVORK5CYII="},Gvu5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{page:1,total:0,returnMsg:"數據加載中...",unAuditReturnList:[],id:null,auditReason:"",status:!0,dialogRefundVisible:!1}},created:function(){this.getUnAuditReturnList()},methods:{returnMoney:function(e){this.id=e.detailList[0].returnMsg.id,this.auditReason="",this.status=!0,this.dialogRefundVisible=!0},returnMoneySure:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/afterService/api/auditReturn",{id:this.id,auditReason:this.auditReason,status:1==this.status?1:-1}).then(function(t){console.log("审核退款"),console.log(t),e.dialogRefundVisible=!1,e.$message.success({message:"審核成功",showClose:!0,duration:2e3}),e.getUnAuditReturnList()}).catch(function(t){console.log(t),e.$message.error({message:t.data.message,showClose:!0,duration:2e3})})},getUnAuditReturnList:function(){var e=this;this.returnMsg="數據加載中...",this.$axios.get(this.$store.state.baseCompanyUrl+"/afterService/api/unAuditReturnList?page="+this.page).then(function(t){console.log("退款申请"),console.log(t),e.unAuditReturnList=t.data.list,e.total=t.data.total,0==e.unAuditReturnList.length&&(e.returnMsg="暫無數據~")}).catch(function(e){console.log(e)})},editState:function(e){switch(e){case-2:return"取消申請";case-1:return"拒絕申請";case 0:return"待審核";case 1:return"審核通過";case 2:return"已退款"}},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.getUnAuditReturnList(),function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/5))}()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"refund-container"},[0==e.unAuditReturnList.length?a("div",{staticClass:"no-data"},[e._v("\n    "+e._s(e.returnMsg)+"\n  ")]):a("div",{staticClass:"refund-list"},[e._l(e.unAuditReturnList,function(t,l){return a("div",{key:l,staticClass:"list-every"},[a("div",{staticClass:"every-top"},[a("div",{staticClass:"top-left"},[a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              訂單編號：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s(t.outTradeNo)+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              商品價格：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s("CNY "+e.formatNumberRgx(t.productAmountTotal))+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              付款金額：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s("CNY "+e.formatNumberRgx(t.payAmountTotal))+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              付款時間：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s(t.payTime)+"\n            ")])])]),e._v(" "),a("div",[a("el-button",{staticClass:"handle-button",attrs:{type:"default",size:"mini"},on:{click:function(a){return e.returnMoney(t)}}},[e._v("退款")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:t.detailList}},[a("el-table-column",{attrs:{align:"center",prop:"returnMsg.createTime",label:"退款申請時間"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.pic}})])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"商品信息"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.phone",label:"聯繫電話"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.productStatus",label:"收貨狀態"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s(0==t.row.returnMsg.productStatus?"買家已收到貨":"買家未收到貨")+"\n            ")])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.productStatus",label:"申請類型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s(0==t.row.returnMsg.type?"僅退款":"退貨退款")+"\n            ")])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.refund",label:"申請退款金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s("CNY "+e.formatNumberRgx(t.row.returnMsg.refund))+"\n            ")])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.reason",label:"退貨退款原因"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.note",label:"詳細說明"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"returnMsg.status",label:"審核狀態"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s(e.editState(t.row.returnMsg.status))+"\n            ")])]}}],null,!0)})],1)],1)}),e._v(" "),a("div",{staticStyle:{margin:"15px 0","padding-bottom":"30px",position:"absolute",right:"10%"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"退款審核",visible:e.dialogRefundVisible,width:"500px"},on:{"update:visible":function(t){e.dialogRefundVisible=t}}},[a("el-form",{attrs:{"label-width":"45px"}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("是否同意退款")])],1),e._v(" "),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{type:"textarea",placeholder:"請輸入備註"},model:{value:e.auditReason,callback:function(t){e.auditReason=t},expression:"auditReason"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogRefundVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.returnMoneySure}},[e._v("確 定")])],1)],1)],2)])},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("kaTY")},"data-v-9e5adf0e",null);t.default=i.exports},H21K:function(e,t){},HYBK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i=a("pFYg"),o=a.n(i),r={data:function(){return{num:"",baseUrl:this.$store.state.baseUrl,modelSize:[],form:"",pics:"",sold:null,bill:"",sellCurrencyId:null,priceTran:"",customer:"",soldTime:"",stockOutTime:"",productCode:"",estimateTime:"",createTime:"",isPayCheck:!1,isReceiveCheck:!1,currencyId:"",cost:void 0,pricePeer:void 0,priceIndi:void 0,source:"",stockLoc:"",model:"",size:"",leather:"",metal:"",colorId:"",color:"",colorSeries:"",letter:"",stockStat:"",note:"",stock:[],imgsUpload:"",dialogImageUrl:"",dialogVisible:!1,currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stockLocs:[],sizeList:[],leathers:[],clrs:[],metals:[],stockStats:[],colorList:[],b:"",c:"",e:"",d:"",imgurls2:[],isInput:0,isSelect:0,isColor:0,loading:null,stateList:[{label:"采购中",value:"0"},{label:"存货",value:"1"},{label:"客人预留",value:"2"},{label:"已出售",value:"3"},{label:"已寄卖",value:"8"},{label:"已出库",value:"4"}],showImg:!0,isRequire:0,saleLogHkPrice:"",saleTotalHkPrice:"",buyAllPrice:void 0,totalHkPrice:void 0,logHkPrice:void 0,receiveTypeList:[{label:"现金",value:"现金"},{label:"记账",value:"记账"},{label:"渣打",value:"渣打"},{label:"工行",value:"工行"},{label:"港币转账",value:"港币转账"},{label:"港币现金",value:"港币现金"},{label:"美金现金",value:"美金现金"},{label:"OK钱包",value:"OK钱包"},{label:"汇旺收款",value:"汇旺收款"},{label:"人民币转账",value:"人民币转账"}],activeName:"first",customerList:[],buyPaymentList:[],salePaymentList:[],allPaymentList:[],companyAndWarehouseList:[],receiveWarehouseId:null,companyId:null,currencyGlobal:"",sellerId:"",sellerList:[],customerTypeList:[],customerType:""}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.getData(),this.getDataStock(),this.getCustomerList(),this.getCompanyAndWarehouseList(),this.getSellerAndCustomerType()},mounted:function(){this.companyId=sessionStorage.getItem("companyId"),document.getElementById("publishContainer").scrollIntoView({behavior:"smooth"})},methods:{queryModelSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.modelSize,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createModelFilter(e)):a)},createModelFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleModelSelect:function(e){console.log(e),this.model=e.name,this.sizeSel(e)},querySizeSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.sizeList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createSizeFilter(e)):a)},createSizeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSizeSelect:function(e){console.log(e),this.size=e.name},productCodeChange:function(){var e=this;""!=this.productCode&&this.$axios.get(this.baseUrl+"/paymentListGet?productCode="+this.productCode).then(function(t){console.log("通过货号获取购入/销售记录"),console.log(t);var a=t.data;e.buyPaymentList=a.buyPaymentList,e.salePaymentList=a.salePaymentList,e.allPaymentList=a.allPaymentList}).catch(function(e){console.log(e)})},getCustomerList:function(){var e=this;this.$axios.get(this.baseUrl+"/consumerListGet").then(function(t){console.log("客户列表"),console.log(t),e.customerList=t.data}).catch(function(e){console.log(e)})},querySearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.customer=e.value},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerTypeList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.customerType=e.value},isPurchaseHKD:function(){this.buyAllPrice=this.getIntegerNum(this.buyAllPrice),2==this.currencyId?this.totalHkPrice=this.buyAllPrice:this.totalHkPrice=void 0},isSellHKD:function(){2==this.sellCurrencyId?this.saleTotalHkPrice=this.priceTran:this.saleTotalHkPrice=void 0},currencyShow:function(e){for(var t=0;t<this.currencyIds.length;++t)if(e==this.currencyIds[t].value)return this.currencyIds[t].label;return""},data1:function(){if(null==this.sold)return this.$message.error({message:"请选择库存状态",showClose:!0,duration:2e3}),1;if(2==this.sold){if(""==this.customer)return console.log("-"),this.$message.error({message:"请填写客户姓名",showClose:!0,duration:2e3}),1}else if(4==this.sold){if(""==this.soldTime||null==this.soldTime||""==this.customer||""==this.stockOutTime||null==this.stockOutTime||""==this.bill||""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType)return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1}else if(8==this.sold&&(""==this.soldTime||null==this.soldTime||null==this.receiveWarehouseId||""==this.receiveWarehouseId||""==this.bill||""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType))return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(!(1!=this.sold&&2!=this.sold&&3!=this.sold&&4!=this.sold&&8!=this.sold||""!=this.createTime&&null!=this.createTime))return this.$message.error({message:"请选择入库时间",showClose:!0,duration:2e3}),1;if(""==this.$store.state.imgUrl||""==this.productCode||""==this.stockLoc||""==this.model)return console.log("------"),this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(0==this.isRequire){if(""==this.size||""==this.leather||""==this.metal||0==this.stock.length)return console.log("------"),this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(""==this.colorId&&""==this.color)return this.$message.error({message:"请输入颜色",showClose:!0,duration:2e3}),1;if(""==this.color)return this.$message.error({message:"颜色色号输入错误，请重新填写",showClose:!0,duration:2e3}),1}},submitForm:function(){1!==this.data1()&&((this.logHkPrice||this.totalHkPrice)&&this.cost&&this.cost!=Number(this.totalHkPrice)+Number(this.logHkPrice)?this.$message.error({message:"總成本不等於入庫價與物流費之和，不可提交"}):this.updateData())},updateData:function(){var e=this;this.stockStat="";var t=!0,a=!1,l=void 0;try{for(var i,o=s()(this.stock);!(t=(i=o.next()).done);t=!0){var r=i.value;""!==r&&(this.stockStat+=r+"|")}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}var n=void 0;n=""==this.metal?1==this.isRequire?this.model+" "+this.size+" "+this.colorId+" "+this.color+" "+this.leather:this.size+" "+this.colorId+" "+this.color+" "+this.leather:1==this.isRequire?this.model+" "+this.size+" "+this.colorId+" "+this.color+" "+this.leather+" "+this.metal+"扣":this.size+" "+this.colorId+" "+this.color+" "+this.leather+" "+this.metal+"扣";var c={pics:this.$store.state.imgUrl,privateImg:this.$store.state.imgUrl2,productCode:this.productCode,sold:this.sold,bill:this.bill,sellCurrencyId:this.sellCurrencyId,priceTran:this.priceTran,customer:this.customer,receiveWarehouseId:8==this.sold?this.receiveWarehouseId[1]:null,soldTime:this.soldTime,stockOutTime:this.stockOutTime,createTime:this.createTime,estimateTime:this.estimateTime,currencyId:this.currencyId,cost:this.cost,pricePeer:this.pricePeer,priceIndi:this.priceIndi,source:this.source,stockLocId:this.stockLoc.warehouseId,companyId:this.stockLoc.companyId,model:this.model,size:this.size,leather:this.leather,metal:this.metal,colorId:this.colorId,color:this.color,letter:this.letter,stockStat:this.stockStat,name:n,colorSeries:this.colorSeries,note:this.note,saleStat:"出售中",buyAllPrice:this.buyAllPrice,totalHkPrice:this.totalHkPrice,logHkPrice:this.logHkPrice,saleLogHkPrice:this.saleLogHkPrice,saleTotalHkPrice:this.saleTotalHkPrice,isPayCheck:0==this.isPayCheck?0:1,isReceiveCheck:0==this.isReceiveCheck?0:1,sellerId:this.sellerId,customerType:this.customerType};this.cost=void 0,console.log("总成本",this.cost),this.$axios.post(this.baseUrl+"/insert",c).then(function(t){console.log("1111tong"),console.log(t),200==t.status&&(e.$message.success({message:"商品发布成功",showClose:!0,duration:2e3}),document.getElementById("previewImg1").innerHTML="",e.$refs.uploadImgs.imgurls=[],e.$store.state.imgUrl="",document.getElementById("previewImg2").innerHTML="",e.imgurls2=[],e.$store.state.imgUrl2="",e.productCode="",e.sold=null,e.bill="",e.sellCurrencyId="",e.priceTran="",e.customer="",e.receiveWarehouseId=null,e.soldTime="",e.stockOutTime="",e.createTime="",e.currencyId="",e.$nextTick(function(){e.cost=void 0,console.log("总成本",e.cost),e.pricePeer=void 0,e.priceIndi=void 0,e.buyAllPrice=void 0,e.totalHkPrice=void 0,e.logHkPrice=void 0}),e.source="",e.stockLoc="",e.model="",e.size="",e.leather="",e.isInput=0,e.isSelect=0,e.metal="",e.colorId="",e.color="",e.letter="",e.stock=[],e.stockStat="",e.colorSeries="",e.note="",e.estimateTime="",e.saleLogHkPrice="",e.saleTotalHkPrice="",e.isPayCheck=!1,e.isReceiveCheck=!1,e.sellerId="",e.customerType="",e.activeName="first"),document.getElementById("publishContainer").scrollIntoView({behavior:"smooth"})}).catch(function(t){e.$message.error({message:t.data.status,showClose:!0,duration:6e3})})},costCalculate:function(){this.totalHkPrice=this.getIntegerNum(this.totalHkPrice),this.logHkPrice=this.getIntegerNum(this.logHkPrice),this.cost=Number(this.totalHkPrice)+Number(this.logHkPrice)},numCheckout:function(){this.cost=this.getIntegerNum(this.cost),this.pricePeer=this.getIntegerNum(this.pricePeer),this.priceIndi=this.getIntegerNum(this.priceIndi)},showImgSel:function(){console.log(this.showImg),this.showImg?this.showImg=!1:this.showImg=!0},stateChange:function(){this.activeName="first",this.estimateTime="",this.createTime="",this.isPayCheck=!1,this.isReceiveCheck=!1,2!=this.sold&&3!=this.sold&&4!=this.sold?(this.priceTran="",this.customer="",this.sellCurrencyId=""):3!=this.sold&&4!=this.sold?(this.bill="",this.soldTime=""):this.stockOutTime="",8==this.sold?this.customerType="公司":this.customerType=""},sizeSel:function(e){e.id>100?this.isRequire=1:this.isRequire=0,console.log(this.model),this.size="",this.sizeList=[];for(var t=[],a=0;a<this.modelSize.length;a++)if(this.model==this.modelSize[a].name){t=this.modelSize[a].size;break}if(t.length>0)for(var l in t)this.sizeList.push({name:t[l]})},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleChange:function(e){console.log(e),this.leather=e[1],console.log(this.leather)},isInputSel:function(){this.leather="",0==this.isInput?this.isInput=1:1==this.isInput&&(this.isInput=0)},isSelectSel:function(){this.metal="",0==this.isSelect?this.isSelect=1:1==this.isSelect&&(this.isSelect=0)},colorIdBlur:function(){for(var e in this.b="",this.c="",this.e="",this.d="",this.color="",this.colorSeries="",this.clrs)for(var t in this.clrs[e].yanse)null!==this.colorId.match(/[a-z]/g)?(this.colorId=this.colorId.toUpperCase(),-1!==this.colorId.indexOf("/")?(this.colorList=this.colorId.split("/"),this.colorList[0]==this.clrs[e].yanse[t].sehao&&(this.e=this.clrs[e].yanse[t].name,this.b=this.clrs[e].sexi),this.colorList[1]==this.clrs[e].yanse[t].sehao&&(this.d=this.clrs[e].yanse[t].name,this.c=this.clrs[e].sexi),this.color=this.e+"拼"+this.d,this.colorSeries=this.b+"/"+this.c):this.colorId==this.clrs[e].yanse[t].sehao&&(this.color=this.clrs[e].yanse[t].name,this.colorSeries=this.clrs[e].sexi)):-1!==this.colorId.indexOf("/")?(this.colorList=this.colorId.split("/"),this.colorList[0]==this.clrs[e].yanse[t].sehao&&(this.e=this.clrs[e].yanse[t].name,this.b=this.clrs[e].sexi),this.colorList[1]==this.clrs[e].yanse[t].sehao&&(this.d=this.clrs[e].yanse[t].name,this.c=this.clrs[e].sexi),this.color=this.e+"拼"+this.d,this.colorSeries=this.b+"/"+this.c):this.colorId==this.clrs[e].yanse[t].sehao&&(this.color=this.clrs[e].yanse[t].name,this.colorSeries=this.clrs[e].sexi)},isColorSel:function(){this.colorId="",0==this.isColor?this.isColor=1:1==this.isColor&&(this.isColor=0)},transitionTime:function(e){if(e){var t=new Date(e);console.log("MMM"+t);var a=t.getFullYear(),l=t.getMonth()+1,s=t.getDate(),i=t.getHours(),o=t.getMinutes(),r=t.getSeconds();return l=l<10?"0"+l:l,s=s<10?"0"+s:s,i=i<10?"0"+i:i,o=o<10?"0"+o:o,r=r<10?"0"+r:r,console.log("qqq"+a+"-"+l+"-"+s+" "+i+":"+o+":"+r),a+"-"+l+"-"+s+" "+i+":"+o+":"+r}},inputChange2:function(e){console.log("图片"),console.log(e);var t=e.target.files,a=this,l=t[0];if(console.log(l),void 0!=l)if(t.length>30)this.$message.error({message:"最多上传30张图片，请重新选择",showClose:!0,duration:2e3});else{this.loading=this.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});var i=!0,o=!1,r=void 0;try{for(var n,c=s()(t);!(i=(n=c.next()).done);i=!0){var d=n.value;d.size/1024>2050?this.photoCompress(d,{quality:.7},function(e){var t=a.base64UrlToBlob(e);a.uploadLice(t)}):this.uploadLice(d)}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}},base64UrlToBlob:function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],l=atob(t[1]),s=l.length,i=new Uint8Array(s);s--;)i[s]=l.charCodeAt(s);var o=Date.parse(new Date)+".jpg";return new File([i],o,{type:a})},photoCompress:function(e,t,a){var l=this,s=new FileReader;s.readAsDataURL(e),s.onload=function(){var e=this.result;l.canvasDataURL(e,t,a)}},canvasDataURL:function(e,t,a){var l=new Image;l.src=e,l.onload=function(){var e=this.width,l=this.height,s=e/l;e=t.width||e,l=t.height||e/s;var i=.7,o=document.createElement("canvas"),r=o.getContext("2d"),n=document.createAttribute("width");n.nodeValue=e;var c=document.createAttribute("height");c.nodeValue=l,o.setAttributeNode(n),o.setAttributeNode(c),r.fillStyle="#fff",r.fillRect(0,0,e,l),r.drawImage(this,0,0,e,l),t.quality&&t.quality>=1&&t.quality<0&&(i=t.quality);var d=o.toDataURL("image/jpeg",i);a(d)}},uploadLice:function(e){console.log(e);var t=new FormData;t.append("upload-images",e),this.uploadImg2(t)},uploadImg2:function(e){var t=this,a=void 0;a=""!==this.$store.state.imgUrl2?this.$store.state.imgUrl2.match(/[|]/g):[],console.log(a),a.length>29?(this.$message.error({message:"最多上传30张图片",showClose:!0,duration:2e3}),this.loading.close()):this.$axios.post(this.baseUrl+"/upload",e).then(function(e){200==e.status&&t.$message.success({message:"图片上传成功",showClose:!0,duration:2e3}),console.log(e),t.imgurls2=e.data.split("|"),console.log(t.imgurls2);var a=document.getElementById("previewImg2");console.log(t.$store.state.imgUrl2);for(var l=0;l<t.imgurls2.length-1;l++){console.log(t.baseUrl+"/file/"+t.imgurls2[l]),t.$store.state.imgUrl2+=t.baseUrl+"/file/"+t.imgurls2[l]+"|";var s=document.createElement("div");s.style.position="relative",s.className="previewImg2";var i=document.createElement("span");i.innerHTML="x",i.className="spanStyle";var o=document.createElement("img");o.width=100,o.height=100,o.style.objectFit="cover",o.style.borderRadius="5px",o.style.marginLeft="10px",o.style.zIndex=1,o.src=t.baseUrl+"/file/"+t.imgurls2[l],s.appendChild(i),s.appendChild(o),a.appendChild(s),i.onclick=function(e){var l=e.currentTarget.nextElementSibling.src+"|";console.log("------"+l),console.log(t.$store.state.imgUrl2);var s=t.$store.state.imgUrl2.replace(l,"");t.$store.state.imgUrl2=s,console.log("333333"+t.$store.state.imgUrl2),a.removeChild(e.currentTarget.parentElement)},console.log("444444"+t.$store.state.imgUrl2)}t.loading.close(),console.log(t.$store.state.imgUrl2)}).catch(function(e){t.loading.close(),console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},handleReceivingStoreChange:function(){console.log(this.receiveWarehouseId)},getData:function(){var e=this;this.$axios.get(this.baseUrl+"/modelSizeLeathers").then(function(t){console.log("选项数据"),console.log(t),e.modelSize=t.data.modelSize,e.leathers=t.data.leathers,e.metals=t.data.metals,e.stockStats=t.data.stockStats,e.clrs=t.data.clrs})},getDataStock:function(){var e=this;this.$axios.get(this.baseUrl+"/stockLocList").then(function(t){console.log("库存地"),console.log(t),e.stockLocs=t.data,e.stockLocs.length>0&&e.stockLocs.splice(0,1)})},getCompanyAndWarehouseList:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/receiveCompanyMsgGet").then(function(t){console.log("接收公司及倉庫"),console.log(t),e.companyAndWarehouseList=t.data;var a=[],l=!0,i=!1,o=void 0;try{for(var r,n=s()(e.companyAndWarehouseList);!(l=(r=n.next()).done);l=!0){var c=r.value;c.warehouseList.length>0&&a.push(c)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}e.companyAndWarehouseList=a}).catch(function(e){console.log(e)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"publishContainer"}},[a("div",{staticClass:"publish-container"},[a("el-form",{ref:"globalForm",attrs:{"label-width":"110px"}},[a("el-form-item",{attrs:{label:"货号",required:""}},[a("el-form-item",[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入货号",clearable:""},on:{change:e.productCodeChange},model:{value:e.productCode,callback:function(t){e.productCode=t},expression:"productCode"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"库存地",required:""}},[a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择",clearable:"","value-key":"warehouseId"},model:{value:e.stockLoc,callback:function(t){e.stockLoc=t},expression:"stockLoc"}},e._l(e.stockLocs,function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:t.companyId==e.companyId,expression:"item.companyId == companyId"}],key:t.warehouseId,attrs:{label:t.warehouseName,value:t}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.companyName))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"库存状态",required:""}},[a("el-form-item",[a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择"},on:{change:e.stateChange},model:{value:e.sold,callback:function(t){e.sold=t},expression:"sold"}},e._l(e.stateList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),0==e.sold?a("el-form-item",{attrs:{label:"预计到达时间"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.estimateTime,callback:function(t){e.estimateTime=t},expression:"estimateTime"}})],1):e._e(),e._v(" "),1==e.sold||2==e.sold||3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:"入库时间",required:""}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1):e._e()],1),e._v(" "),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"图片及参数",name:"first"}},[a("div",[a("upload",{ref:"uploadImgs"})],1),e._v(" "),a("div",[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("span",[e._v("内部图：(最多上传30张图片)")]),e._v(" "),a("span",{staticStyle:{cursor:"pointer",color:"#409EFF","font-size":"15px"},on:{click:e.showImgSel}},[e._v("查看图片")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showImg,expression:"showImg"}],staticStyle:{display:"flex"}},[a("div",{staticClass:"upload-imgs"},[a("div",{staticClass:"add"},[a("form",{staticStyle:{width:"100px",height:"100px"},attrs:{id:"formUpload2",enctype:"multipart/form-data"}},[a("input",{staticClass:"inputUpload",attrs:{type:"file",name:"upload-images",accept:"image/*",multiple:""},on:{change:function(t){return e.inputChange2(t)}}}),e._v(" "),a("i",{staticClass:"el-icon-plus addIcon"})])]),e._v(" "),a("div",{staticClass:"previewImg",attrs:{id:"previewImg2"}})])])]),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"款式",required:""}},[a("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.queryModelSearch,placeholder:"请选择/输入款式"},on:{select:e.handleModelSelect},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"大小",required:0==e.isRequire}},[a("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.querySizeSearch,placeholder:"请选择/输入大小"},on:{select:e.handleSizeSelect},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"材质",required:0==e.isRequire}},[0==e.isInput?a("el-cascader",{staticStyle:{width:"50%"},attrs:{options:e.leathers},on:{change:e.handleChange},model:{value:e.leather,callback:function(t){e.leather=t},expression:"leather"}}):e._e(),e._v(" "),1==e.isInput?a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入"},model:{value:e.leather,callback:function(t){e.leather=t},expression:"leather"}}):e._e(),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.isInputSel}},[e._v(e._s(0==e.isInput?"输入":"选择"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"金属质感",required:0==e.isRequire}},[0==e.isSelect?a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.metal,callback:function(t){e.metal=t},expression:"metal"}},e._l(e.metals,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),1==e.isSelect?a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入"},model:{value:e.metal,callback:function(t){e.metal=t},expression:"metal"}}):e._e(),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.isSelectSel}},[e._v(e._s(0==e.isSelect?"输入":"选择"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"色号"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入色号",clearable:""},on:{input:e.colorIdBlur},model:{value:e.colorId,callback:function(t){e.colorId=t},expression:"colorId"}}),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.isColorSel}},[e._v(e._s(0==e.isColor?"无色号":"有色号"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"颜色",required:0==e.isRequire}},[a("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",disabled:0==e.isColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"色系"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",disabled:0==e.isColor},model:{value:e.colorSeries,callback:function(t){e.colorSeries=t},expression:"colorSeries"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"刻度"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入刻度",clearable:""},model:{value:e.letter,callback:function(t){e.letter=t},expression:"letter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",required:0==e.isRequire}},[a("el-checkbox-group",{staticStyle:{width:"50%"},model:{value:e.stock,callback:function(t){e.stock=t},expression:"stock"}},e._l(e.stockStats,function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}),1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"采购及价格",name:"second"}},[a("el-form",{ref:"purchaseForm",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"买手"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入买手",clearable:""},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采购外币金额"}},[a("div",{staticStyle:{width:"50%",display:"flex"}},[a("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"请输入采购外币金额",clearable:"",controls:!1},on:{change:e.isPurchaseHKD},model:{value:e.buyAllPrice,callback:function(t){e.buyAllPrice=t},expression:"buyAllPrice"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择采购价币种",clearable:""},on:{change:e.isPurchaseHKD},model:{value:e.currencyId,callback:function(t){e.currencyId=t},expression:"currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"是否付款完成"}},[a("el-switch",{model:{value:e.isPayCheck,callback:function(t){e.isPayCheck=t},expression:"isPayCheck"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入库价("+e.currencyGlobal+")"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入入库价",clearable:"",controls:!1},on:{change:e.costCalculate},model:{value:e.totalHkPrice,callback:function(t){e.totalHkPrice=t},expression:"totalHkPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物流费("+e.currencyGlobal+")"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入物流金额",clearable:"",controls:!1},on:{change:e.costCalculate},model:{value:e.logHkPrice,callback:function(t){e.logHkPrice=t},expression:"logHkPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总成本("+e.currencyGlobal+")"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入总成本",clearable:"",controls:!1},on:{change:e.numCheckout},model:{value:e.cost,callback:function(t){e.cost=t},expression:"cost"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"同行价("+e.currencyGlobal+")"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{controls:!1,placeholder:"请输入同行价",clearable:""},on:{change:e.numCheckout},model:{value:e.pricePeer,callback:function(t){e.pricePeer=t},expression:"pricePeer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"散客价("+e.currencyGlobal+")"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{controls:!1,placeholder:"请输入散客价",clearable:""},on:{change:e.numCheckout},model:{value:e.priceIndi,callback:function(t){e.priceIndi=t},expression:"priceIndi"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.buyPaymentList.length>0,expression:"buyPaymentList.length > 0"}],attrs:{label:"购入记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.buyPaymentList}},[a("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("div",[e._v("\n                      "+e._s(t.row.time)+"\n                    ")]),e._v(" "),a("div",[e._v("\n                      "+e._s("【"+t.row.personName+"】")+"\n                    ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.productDes))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                    "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n                  ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                    "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                  ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                    "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n                  ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}])})],1)],1)],1)],1),e._v(" "),2==e.sold||3==e.sold||4==e.sold||8==e.sold?a("el-tab-pane",{attrs:{label:8==e.sold?"寄卖信息":"销售信息",name:"third"}},[a("el-form",{ref:"saleForm",attrs:{"label-width":"110px"}},[3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:"账单号",required:4==e.sold||8==e.sold}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入账单号"},model:{value:e.bill,callback:function(t){e.bill=t},expression:"bill"}})],1):e._e(),e._v(" "),3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:8==e.sold?"寄卖时间":"出售时间",required:4==e.sold||8==e.sold}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.soldTime,callback:function(t){e.soldTime=t},expression:"soldTime"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:8==e.sold?"寄卖外币金额":"出售外币金额"}},[a("div",{staticStyle:{width:"50%",display:"flex"}},[a("el-input",{attrs:{type:"text",placeholder:8==e.sold?"请输入寄卖外币金额":"请输入出售外币金额",clearable:""},on:{input:e.isSellHKD},model:{value:e.priceTran,callback:function(t){e.priceTran=t},expression:"priceTran"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择币种",clearable:""},on:{change:e.isSellHKD},model:{value:e.sellCurrencyId,callback:function(t){e.sellCurrencyId=t},expression:"sellCurrencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:"是否收款完成"}},[a("el-switch",{model:{value:e.isReceiveCheck,callback:function(t){e.isReceiveCheck=t},expression:"isReceiveCheck"}})],1):e._e(),e._v(" "),3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:"物流费/手续费"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入物流费/银行手续费送货"},model:{value:e.saleLogHkPrice,callback:function(t){e.saleLogHkPrice=t},expression:"saleLogHkPrice"}},[a("i",{staticStyle:{color:"#000","margin-right":"5%","font-style":"normal"},attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.currencyGlobal))])])],1):e._e(),e._v(" "),3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:8==e.sold?"寄卖"+e.currencyFontRgx(e.currencyGlobal)+"金额":"出售"+e.currencyFontRgx(e.currencyGlobal)+"金额",required:4==e.sold||8==e.sold}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:8==e.sold?"请输入寄卖"+e.currencyFontRgx(e.currencyGlobal)+"金额":"请输入出售"+e.currencyFontRgx(e.currencyGlobal)+"金额"},model:{value:e.saleTotalHkPrice,callback:function(t){e.saleTotalHkPrice=t},expression:"saleTotalHkPrice"}})],1)]):e._e(),e._v(" "),3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:"销售人员",required:4==e.sold||8==e.sold}},[a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择销售人员"},model:{value:e.sellerId,callback:function(t){e.sellerId=t},expression:"sellerId"}},e._l(e.sellerList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:8!=e.sold,expression:"sold != 8"}],attrs:{label:"客户姓名",required:2==e.sold||4==e.sold}},[a("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择/输入客户姓名"},on:{select:e.handleSelect},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1),e._v(" "),3==e.sold||4==e.sold||8==e.sold?a("el-form-item",{attrs:{label:"客户类型",required:4==e.sold||8==e.sold}},[a("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"请选择/输入客户类型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.customerType,callback:function(t){e.customerType=t},expression:"customerType"}})],1):e._e(),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:8==e.sold,expression:"sold == 8"}],attrs:{label:"接收仓库",required:""}},[a("el-cascader",{staticStyle:{width:"50%"},attrs:{options:e.companyAndWarehouseList,props:{value:"id",label:"name",children:"warehouseList"}},on:{change:e.handleReceivingStoreChange},model:{value:e.receiveWarehouseId,callback:function(t){e.receiveWarehouseId=t},expression:"receiveWarehouseId"}})],1),e._v(" "),4==e.sold?a("el-form-item",{attrs:{label:"出库时间",required:""}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.salePaymentList.length>0,expression:"salePaymentList.length > 0"}],attrs:{label:"出售记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salePaymentList}},[a("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("div",[e._v("\n                      "+e._s(t.row.time)+"\n                    ")]),e._v(" "),a("div",[e._v("\n                      "+e._s("【"+t.row.personName+"】")+"\n                    ")])])]}}],null,!1,3911988570)}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.productDes))])])],1)]}}],null,!1,1123870323)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                    "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n                  ")])]}}],null,!1,638593808)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                    "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                  ")])]}}],null,!1,1310548537)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                    "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n                  ")])]}}],null,!1,146711597)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,3520230835)})],1)],1)],1)],1):e._e(),e._v(" "),e.allPaymentList.length>0?a("el-tab-pane",{attrs:{label:"资金流",name:"fifth"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"22px"},attrs:{data:e.allPaymentList}},[a("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("div",[e._v("\n                  "+e._s(t.row.time)+"\n                ")]),e._v(" "),a("div",[e._v("\n                  "+e._s("【"+t.row.personName+"】")+"\n                ")])])]}}],null,!1,1409762394)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeType",label:"買入/賣出"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                "+e._s(e.tradeTypeRgx(t.row.tradeType))+"\n              ")])]}}],null,!1,2449072317)}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.productDes))])])],1)]}}],null,!1,1123870323)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n              ")])]}}],null,!1,351559696)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n              ")])]}}],null,!1,1526490425)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n              ")])]}}],null,!1,3887190919)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,3520230835)})],1)],1):e._e(),e._v(" "),a("el-tab-pane",{attrs:{label:"备注信息",name:"fourth"}},[a("el-form",{ref:"noteForm"},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"53%","text-align":"right"}},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],staticStyle:{width:"160px"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("立即创建")])],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(r,n,!1,function(e){a("9mWD"),a("tgfO")},"data-v-387c20bc",null);t.default=c.exports},IPrZ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAcCAYAAACK7SRjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTJBOUU3NjA1MUExMUVBQUE4RjgyNDFENTI4REI3OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTJBOUU3NzA1MUExMUVBQUE4RjgyNDFENTI4REI3OSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE5MkE5RTc0MDUxQTExRUFBQThGODI0MUQ1MjhEQjc5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE5MkE5RTc1MDUxQTExRUFBQThGODI0MUQ1MjhEQjc5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+dDOpwgAAAcdJREFUeNq0ls8rRFEUx9+MGb+GhTC7CQk1SYoFskHIwkr+AysLCkuytFLkTzAbFhYs1SzQGEkUNjKsNGPyY+G3ked7602dTm/uve+ZOfWpd86959vp3nNPz2OapqEwHxgBXaAWfIJzEAUJaaYQlzAOkmZuW5Hly4SXTD07BuVOxGdtRK7BNji0WTvVFW9giXdglO1pBhts34KOeIQkvIMqydHtkr0/oEwm7gevJGFNceHtrPoxuu5lzdMCAsSPKNr0DFwRv4MucvEg828MtV3kyufiSeY3aYi3ke+06hE9kjOMKM68l535kKpbVsnmXxCWiJ+QvS+gSCVezarJgClQY60LgQGbxzSh+0IHwRNL/gC3IGXzQneczpa45mzZdDK4OkFCQ/QeTMsu3Mfaqs+a09xi4AikwBe4BPvWt9Y8D9lUtwdaFe2onOc+a6RSW3QpOpwddtnAPBOedCHqIVMyDQLZhQciHHdZcQkrcE4Eu1mw36W4qDxGdKJicPWQ+33O0S06ZrIRHRTi9SRwYPzPtsh3hejzShJoBDPWv4rHofA3qCN+sRB5I4EwWDbyYxmv9doKYX5xw6VWtaE8iYrjzID1PwEGAGYyQGN7LGyMAAAAAElFTkSuQmCC"},"J/rv":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAAAXNSR0IArs4c6QAAAUFJREFUOE+dk70uRFEUhb9157qDSIRiEhEJLRXxBAoqIiIeQCFRoqCcbkalQuMdSJQUOhVRiAdANMiEkPiZuUvG+BmDMWaX+6z9nXX22VsAi1m3PuNNYNBGxdxvIWHDQYTGl5d0o3TawU0jO8JD1Qorz4x2V5YY1lzG65Kn/1P8rrW9oZm0m3O9PNYDaDshqblsfC9I1AMwFDSfjYu3R+UAoyNBK7jnD/DTN4Bh7ynWZJRgW/ZAGaABCCqAXwEGB6FS13fcRR0EubZSb/pO0FUTqShmHXmsDPKDA7P/mNBEsuAtif43ceBSfioZ+0J8zMp3wGuBOUa0AN1AHijYHIYJTeRrAnx6jPOop/2B89uQToWsGo9WPuEZCKt0u1B0UPlTb/q85jPxKaKrnjnAnGkh6xHjNSBV3JJaQqV1uxSafQG3K4cnj+GrwQAAAABJRU5ErkJggg=="},J5zO:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2OTMxRkE5NTYwN0QxMUVCQTRGQ0U3MjZFQjQyNjcyMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2OTMxRkE5NjYwN0QxMUVCQTRGQ0U3MjZFQjQyNjcyMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5MzFGQTkzNjA3RDExRUJBNEZDRTcyNkVCNDI2NzIxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY5MzFGQTk0NjA3RDExRUJBNEZDRTcyNkVCNDI2NzIxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CxlWkAAAAVRJREFUeNqU008oxEEUwPFdflvS+pOSg4OyrhRuiBsXbElcKGetP7lwEkcHJZI2B3KwOCg3xUWKJJGkXJADNydEIt+pNzW9frObV59+u/Obec28eb/o4O1vxBMFmJTfc/gMm5TnWdyAG8yIR4wgmitBgFmcIeGMV2ARx6jyJWjBBaYlUVg04xrtOsEwjlAXyR3F2EfKbrkJy2qSqew8TlCIbvQ7700tlnBpEoyqxR9I4tAZ28QeNtTxUoEqlokJWdwoyV+xhgx+sO3MTQSqkFdIowaniMn4EGqxgynU2xrqazyQ57iz2ESp9EFEiu3tg0p5nodU/0meZdkSdKEcu7hTR1uXnfToznOjCKvoRRv6kC+38I5qfCGe7VtIyjljctcL+EYH7tGKN98ObJjmesCW/O9EiXRsRhLEbYIXTxLzbkCNrQgbz7YTA/n+/xOmFmN/AgwAtlQ/nx1TDTIAAAAASUVORK5CYII="},J6Z7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{imgUrl:this.$store.state.baseCompanyUrl+"/jewellery/api",watchUrl:this.$store.state.baseCompanyUrl+"/watch/api",page:1,total:0,orderMsg:"數據加載中...",orderData:{},orderList:[],dialogShipmentsVisible:!1,shipperList:[],shipper:"",courierNum:"",logisticsFee:""}},created:function(){this.getOrderList(),this.getShipperCompanyList()},methods:{shipmentsClick:function(e){this.orderData=e,this.shipper="",this.courierNum="",this.dialogShipmentsVisible=!0},shipmentsSure:function(){var e=this;""==this.shipper||""==this.courierNum?this.$message.error({message:"數據不能為空，請檢查數據填寫",showClose:!0,duration:2e3}):this.$axios.post(this.$store.state.baseCompanyUrl+"/afterService/api/deliverGoods",{orderId:this.orderData.id,deliveryCost:5,logOrderNo:this.courierNum,logisticsCompanyId:this.shipper,logisticsFee:this.logisticsFee}).then(function(t){console.log("發貨"),console.log(t),e.$message.success({message:"發貨信息錄入成功",showClose:!0,duration:2e3}),e.dialogShipmentsVisible=!1,e.getOrderList()}).catch(function(t){console.log(t),e.$message.error({message:t.data.message,showClose:!0,duration:2e3})})},getOrderList:function(){var e=this;this.orderMsg="數據加載中...",this.$axios.get(this.$store.state.baseCompanyUrl+"/order/api/unSendOrderList?page="+this.page+"&pageNum=10").then(function(t){console.log("订单列表"),console.log(t),e.orderList=t.data.data,e.total=t.data.total,0==e.orderList.length&&(e.orderMsg="暫無數據~")}).catch(function(e){console.log(e)})},getShipperCompanyList:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/afterService/api/shipperCompanyList").then(function(t){console.log("快递公司"),console.log(t),e.shipperList=t.data}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.getOrderList(),function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/5))}()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shipments-container"},[0==e.orderList.length?a("div",{staticClass:"no-data"},[e._v("\n    "+e._s(e.orderMsg)+"\n  ")]):a("div",{staticClass:"shipments-list"},[e._l(e.orderList,function(t,l){return a("div",{key:l,staticClass:"list-every"},[a("div",{staticClass:"every-top"},[a("div",{staticClass:"top-left"},[a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              訂單編號：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s(t.outTradeNo)+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              商品總價：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s("CNY "+e.formatNumberRgx(t.productAmountTotal))+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              實際付款：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s("CNY "+e.formatNumberRgx(t.orderAmountTotal))+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              收 貨 人：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s(t.logMsg.consigneeName)+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              收貨地址：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s(t.logMsg.consigneeAddress)+"\n            ")])]),e._v(" "),a("div",{staticClass:"div-one"},[a("div",{staticClass:"one-left"},[e._v("\n              聯繫電話：\n            ")]),e._v(" "),a("div",{staticClass:"one-right"},[e._v("\n              "+e._s(t.logMsg.consigneePhone)+"\n            ")])])]),e._v(" "),a("div",[a("el-button",{staticClass:"handle-button",attrs:{type:"default",size:"mini"},on:{click:function(a){return e.shipmentsClick(t)}}},[e._v("發貨")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:t.detailList}},[a("el-table-column",{attrs:{align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.pic}})])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productName",label:"商品信息"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productPrice",label:"商品價格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s("CNY "+e.formatNumberRgx(t.row.productAmount))+"\n            ")])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"商品狀態"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s(null===t.row.status?"待發貨":"已申請退款")+"\n            ")])]}}],null,!0)})],1)],1)}),e._v(" "),a("div",{staticStyle:{margin:"15px 0","padding-bottom":"30px",position:"absolute",right:"10%"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"商品發貨",visible:e.dialogShipmentsVisible,width:"500px"},on:{"update:visible":function(t){e.dialogShipmentsVisible=t}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"快遞公司",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇快遞公司"},model:{value:e.shipper,callback:function(t){e.shipper=t},expression:"shipper"}},e._l(e.shipperList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"快遞單號",required:""}},[a("el-input",{attrs:{placeholder:"請輸入快遞單號"},model:{value:e.courierNum,callback:function(t){e.courierNum=t},expression:"courierNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"運費"}},[a("el-input",{attrs:{placeholder:"請輸入運費"},model:{value:e.logisticsFee,callback:function(t){e.logisticsFee=t},expression:"logisticsFee"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogShipmentsVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.shipmentsSure}},[e._v("確 定")])],1)],1)],2)])},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("UF1d")},"data-v-7738acbe",null);t.default=i.exports},KfFI:function(e,t){},LqM4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{selected:4,role:"",updateUser:0,defaultHeight:{height:""},isHeadCompanyAdmin:null,username:sessionStorage.getItem("username")}},created:function(){var e=this;sessionStorage.getItem("token")?(this.role=sessionStorage.getItem("role"),this.isHeadCompanyAdmin=sessionStorage.getItem("isHeadCompanyAdmin"),"system_admin"==this.role&&(this.selected=8),this.$nextTick(function(){"system_admin"==e.role&&e.selectedPage(8)}),window.addEventListener("resize",this.getHeight),this.getHeight()):this.$router.push("/")},methods:{getHeight:function(){this.defaultHeight.height=window.innerHeight-78+"px"},selectedPage:function(e){this.$store.state.imgUrl="",this.$store.state.imgUrl2="",this.selected=e},updateUserClick:function(){1==this.updateUser?this.updateUser=0:0==this.updateUser&&(this.updateUser=1)},otherClick:function(){var e=e||window.event,t=e.target.className;"downbtn"!==t&&"right-div"!==t&&"span1"!==t&&"span-img"!==t&&"img-self"!==t&&1==this.updateUser&&(this.updateUser=0)},logoutSure:function(){this.$router.push("/"),this.$store.dispatch("setRole",null),this.$store.dispatch("setToken",null),this.$store.dispatch("setType",""),sessionStorage.setItem("username",""),sessionStorage.setItem("role",""),sessionStorage.setItem("token",""),sessionStorage.setItem("userId",null),sessionStorage.setItem("type",""),sessionStorage.setItem("companyId",""),sessionStorage.setItem("currencyGlobal",""),sessionStorage.setItem("isHeadCompanyAdmin","")}}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"home-container",attrs:{id:"home-container"},on:{click:e.otherClick}},[l("el-container",{ref:"homePage"},[l("el-header",{attrs:{height:"78px"}},[l("div",{staticClass:"main-top-right"},[l("div",{staticClass:"left-con"},[l("img",{staticStyle:{width:"65px",height:"65px","object-fit":"cover"},attrs:{src:a("Awiv")}}),e._v(" "),l("p",{staticClass:"left-font-one"},[e._v("愛馬仕後台管理系統")])]),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("div",{staticClass:"right-div",on:{click:e.updateUserClick}},[l("span",{staticClass:"span1"},[e._v(e._s(e.username))]),e._v(" "),l("div",{staticClass:"span-img"},[l("img",{staticClass:"img-self",attrs:{src:a("de1/")}})])])]),e._v(" "),1==e.updateUser?l("div",{staticClass:"downbtn"},[l("div",{staticClass:"logout-div",on:{click:e.logoutSure}},[l("div",{staticClass:"logout-img"},[l("img",{staticStyle:{width:"17px",height:"18px"},attrs:{src:a("YOOP")}})]),e._v(" "),l("span",[e._v("退出登录")])])]):e._e()])]),e._v(" "),l("el-container",[l("el-aside",{style:e.defaultHeight,attrs:{width:"218px"}},[l("ul",{staticClass:"aside-ul-dad"},[l("li",{directives:[{name:"show",rawName:"v-show",value:"system_admin"!=e.role,expression:"role != 'system_admin'"}],staticClass:"dad-li"},[l("div",{staticStyle:{width:"100%"}},[l("p",{staticClass:"dad-li-font"},[e._v("庫存管理")])]),e._v(" "),l("ul",{staticClass:"aside-ul-son"},[l("li",{staticClass:"son-li",style:{backgroundColor:4==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(4)}}},[4==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:4==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("eOUC")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("商品入庫")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:5==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(5)}}},[5==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:5==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("J5zO")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("庫存查詢")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:2==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(2)}}},[2==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:2==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("J/rv")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("已售商品")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:1==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(1)}}},[1==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:1==e.selected?"-24px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("P5Jt")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("售價未錄入")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:15==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(15)}}},[15==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:15==e.selected?"-24px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("P5Jt")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("成本未錄入")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:3==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(3)}}},[3==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:3==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("kSHQ")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("導出數據")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])])])]),e._v(" "),l("li",{directives:[{name:"show",rawName:"v-show",value:"system_admin"!=e.role,expression:"role != 'system_admin'"}],staticClass:"dad-li"},[l("div",{staticStyle:{width:"100%"}},[l("p",{staticClass:"dad-li-font"},[e._v("銷售與寄賣")])]),e._v(" "),l("ul",{staticClass:"aside-ul-son"},[l("li",{staticClass:"son-li",style:{backgroundColor:10==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(10)}}},[10==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:10==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("GSpf")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("銷售開單")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:11==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(11)}}},[11==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:11==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("PnDV")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("銷售歷史")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:13==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(13)}}},[13==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:13==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("GSpf")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("新增寄賣")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:14==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(14)}}},[14==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:14==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("PnDV")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("寄賣記錄")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])])])]),e._v(" "),l("li",{directives:[{name:"show",rawName:"v-show",value:"system_admin"!=e.role,expression:"role != 'system_admin'"}],staticClass:"dad-li"},[l("div",{staticStyle:{width:"100%"}},[l("p",{staticClass:"dad-li-font"},[e._v("銷售報表")])]),e._v(" "),l("ul",{staticClass:"aside-ul-son"},[l("li",{staticClass:"son-li",style:{backgroundColor:12==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(12)}}},[12==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:12==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("Q3md")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("銷售報表")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])])])]),e._v(" "),l("li",{directives:[{name:"show",rawName:"v-show",value:"admin"==e.role,expression:"role == 'admin'"}],staticClass:"dad-li"},[l("div",{staticStyle:{width:"100%"}},[l("p",{staticClass:"dad-li-font"},[e._v("賬單管理")])]),e._v(" "),l("ul",{staticClass:"aside-ul-son"},[l("li",{staticClass:"son-li",style:{backgroundColor:6==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(6)}}},[6==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:6==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("T2hl")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("賬單錄入")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{staticClass:"son-li",style:{backgroundColor:7==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(7)}}},[7==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:7==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("+0o8")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("賬單查詢")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])])])]),e._v(" "),l("li",{directives:[{name:"show",rawName:"v-show",value:"system_admin"==e.role||"admin"==e.role||"normal_admin"==e.role,expression:"\n              role == 'system_admin' ||\n                role == 'admin' ||\n                role == 'normal_admin'\n            "}],staticClass:"dad-li"},[l("div",{staticStyle:{width:"100%"}},[l("p",{staticClass:"dad-li-font"},[e._v("公司管理")])]),e._v(" "),l("ul",{staticClass:"aside-ul-son"},[l("li",{directives:[{name:"show",rawName:"v-show",value:-1!=e.isHeadCompanyAdmin,expression:"isHeadCompanyAdmin != -1"}],staticClass:"son-li",style:{backgroundColor:8==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(8)}}},[8==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:8==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("vZF/")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("公司管理")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])]),e._v(" "),l("li",{directives:[{name:"show",rawName:"v-show",value:"admin"==e.role,expression:"role == 'admin'"}],staticClass:"son-li",style:{backgroundColor:9==e.selected?"#303e53":"transparent"},on:{click:function(t){return e.selectedPage(9)}}},[9==e.selected?l("p",{staticClass:"son-li-line"}):e._e(),e._v(" "),l("div",{staticClass:"son-li-center",style:{marginLeft:9==e.selected?"-38px":"32px"}},[l("div",{staticClass:"center-img-div"},[l("img",{staticClass:"center-img",attrs:{src:a("Vi+3")}})]),e._v(" "),l("p",{staticClass:"center-font"},[e._v("人員管理")])]),e._v(" "),l("div",{staticClass:"son-li-right"},[l("img",{staticClass:"right-img",attrs:{src:a("MLuv")}})])])])])])]),e._v(" "),l("el-main",{staticClass:"home-container-main",style:e.defaultHeight,attrs:{id:"mainContainer"}},[1==e.selected?l("onSale"):e._e(),e._v(" "),2==e.selected?l("sold"):e._e(),e._v(" "),3==e.selected?l("export"):e._e(),e._v(" "),4==e.selected?l("publish"):e._e(),e._v(" "),5==e.selected?l("warehouse"):e._e(),e._v(" "),6==e.selected?l("bill-entry"):e._e(),e._v(" "),7==e.selected?l("bill-report"):e._e(),e._v(" "),8==e.selected&&"system_admin"==e.role?l("system-company-admin"):e._e(),e._v(" "),8==e.selected&&"admin"==e.role?l("company-admin"):e._e(),e._v(" "),8==e.selected&&"normal_admin"==e.role?l("normal-admin"):e._e(),e._v(" "),9==e.selected?l("user-admin"):e._e(),e._v(" "),10==e.selected?l("sales-ticket-admin"):e._e(),e._v(" "),11==e.selected?l("sales-history"):e._e(),e._v(" "),12==e.selected?l("sales-statement"):e._e(),e._v(" "),13==e.selected?l("send-documents-add"):e._e(),e._v(" "),14==e.selected?l("send-documents-history"):e._e(),e._v(" "),15==e.selected?l("cost-not"):e._e(),e._v(" "),16==e.selected?l("goods-delivery"):e._e(),e._v(" "),17==e.selected?l("goods-return"):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("4Uuu"),a("rO/L")},"data-v-0d0229ba",null);t.default=i.exports},MLuv:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAMCAYAAABBV8wuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QTJEMEEzNzYwN0QxMUVCOTE0NUFBN0VDMzlBRUM4MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QTJEMEEzODYwN0QxMUVCOTE0NUFBN0VDMzlBRUM4MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVBMkQwQTM1NjA3RDExRUI5MTQ1QUE3RUMzOUFFQzgzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVBMkQwQTM2NjA3RDExRUI5MTQ1QUE3RUMzOUFFQzgzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nvxR8AAAAJRJREFUeNpimLv5ziMg7vj//z8DMmZiYGA4AcTl87bcTWVAAkxJPsphQLoHiGchSzKCtIEAUHA+kEoA4gig4pVwCajkAiAVD8SeTMjmAlWCdCwG4u0oElAANgJFAmpPHBB7MSEJroBaHgQ0EmIUULAbSIUDcRpQcD1IjAUouBJIg/ySChScA/cgEJsCcTOyIAgABBgAbZBBH/UYMoUAAAAASUVORK5CYII="},Mqg4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG4GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wNC0yMVQxNDowNjo0NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDQtMjFUMTQ6NDg6MzQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDQtMjFUMTQ6NDg6MzQrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU2OTlkY2MzLTE5MTMtNjQ0NC04NTMxLWVjNWZmNzEwMjgxMSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmIyMjBjYzlmLTRmNjItMmY0ZC1hY2VkLTIxMzE4MmNlZDQ5MyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjEyZmQwYWRiLTE5YTItNGU0NC04OWI2LWQ1OTQzNDY2Y2Y4ZCI+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwOEY2Qzg2OUY1NzA0QzZFNTIyRDA4MDc4MTk1Q0RGPC9yZGY6bGk+IDxyZGY6bGk+MTNGMjNDQUVBQzYzQzlFRDk0NTNERTYwMzQ0QUNDMDI8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMmZkMGFkYi0xOWEyLTRlNDQtODliNi1kNTk0MzQ2NmNmOGQiIHN0RXZ0OndoZW49IjIwMjItMDQtMjFUMTQ6MDY6NDQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTY5OWRjYzMtMTkxMy02NDQ0LTg1MzEtZWM1ZmY3MTAyODExIiBzdEV2dDp3aGVuPSIyMDIyLTA0LTIxVDE0OjQ4OjM0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pim7MTQAAApLSURBVHic7Z1tcFTlFcd/u9klhEACNOElUiaGBGgBkVYLVmRgisJUW4pl0BFKh4FiLXxwWqb1Q1GKZVpahlItWg1Ry5u8FCyCFhBEMUxR6ChQJZGXZJiAQCJCdjcv7CbbDyeb7G727e4+997dZH8zO4S99z7nPM9/9967z3POuZbq6mqSnHzgDmAUUAQUAoOAPKA/YAd6t+3rBNzAdaAOuAJUAxeAT4FTQK1hnseBzWwHQlAMTAPubXsN1XCsT5h+wLAw+1wEjra99gPn4nNTHyxJ8g0ZCcwFHkEEMZJzwDZgE1BhsO1OmClIf+AxRIjxZjkRxIeIMFuQ057hmCHICOCXwDygp9HGY6QJ2ACsASqNNGw10NZw5NP3GbCI5BUDxLdFiK+bEd8NwQhB8oB1yF3OHINsqsKKnFY/RfqQZ4RBvbAAC4CzwC9Izju6WLEhfTgLLET6pgt6CVIIvAusB/rqZMMM+gKlSN8K9TCghyBzgZPAZB3aThYmI32cq7phlYJkIp+ejUCOwnaTlRykr6VI35WgSpBBwAfI+bW7sRDp+2AVjakQZDTyg+puBW2lKncDx5CxSIhEBZkAHEHbfFNXZSgyFhMSaSQRQSYB7yATeWmEfsiYTIq3gXgFGQ+8RcfsapoOegN7iXN+Lh5BxiDT1mkxwtMHGaMxWg/UKkgB8DaQq9VQNyQXGashWg7SIkgPYJdWA92cIcA/kbGLCS3zS+tQtW7h9tCyew+thw7TeqEaGhuVNBuKjOkP0Dx4INnz5+lmIwrjgReI8TdarILMjbXBaHhr63A/9Vu8Z8+raC4qLfsO4MqwAF6y5//UEJshWAC8hyw/RCSWBapCZN4m8ekQt4dbP19imBg+bmbI5Gz2vDlmilIPjEWCLsIS7RpiAV5B0dxUy5t7DRfDH9eGzbjKXjPLfA7wKlGm7qMJsgCYosqj1oPvqmoqblybtuBa/6pZ5icT5dQfSZCvAatUetP6+VmVzcWNa/PruEpfMcv8KmRsQxJJkN8hkSHqcHuUNpcIri1bcb203gzT/YAV4TaGE2Q48Lgu7iQRrq3bcf291AzTiwgTOBFOkGdI7TXwmHFt24HzhZeMNmsDlofaEEqQEcCjenqTbDTs2Inrby8abfYRJGIzgFCC/CrM+10a1843cD63zkiTViRgsNOb/uShw8J9qtDwxm6ca5830uRcgmK9ggWZB2QZ5o5BZHhj37dh9x6ca/6qnzOBZAEBUwfBgvzMKE+MpIdXgyJAw563cP55jU7edCLgh6K/IN8mxEWmK9DDq+1bAtDw9j6cf1ytj0OBjETGHggUZLYR1s2iV6tXuyj7D+BcqXSyIhztY+8vyMNGWDYLK9C71UvPNmFiDc5tOHgI57N/0NM18Bt7nyDDMD5zyRQyvSJMTouX3Bhf9sNH9HarmLYUPJ8g0/W2mNJ4DJmDmw4dgkw0wmKaiEyEDkHuNdGRNEK7IPnA1831JQ0SoZJvQ5LyleN1e6h/cy/OQ4e5VVVNa2MjWHVLPALkzskO9PJ6ydZwJ5VE3GlDKiQoxVNXx5WnltF8ztj1cy9wC7hlseCyQF6rlwxDPUiYb1iRchXK8Lo9pogRjBuos1rQ+FvQbIqswO0qW6zfs9d0MXy4AVdqnbeKrEi8rjKcBw+rbC5hGiwppchgK4pzr5vPJkdkiQ+32Q5oI9+G4rRlb4TIkiFLn6TPyBEB7zVevsyll8tw11ymcMUysgoCv7DXDrzDl9t3AZAzdQq3Pdp5DtRRUUnN6rWh/dHov8nkWsG4G5E+I0eQNWggjorK9lf/b41j3EYJXCuYPg2Pw9G+zeNwMOqZZRSuWAZAzp1j6XfHmIDjHRWV1H9y0qgu6I3NhiSXGEbjlasBn+brhw4zYdd2eo0bK9svXQ7YfmncWO7a9BrXj5S3vxfu29AF6J30wQwNH5/EWVVF/0ndY7rNBjgw8FuSNWggQ5Y+KcZz+jDgvonUfvgRDR+HP+00XrlKVkEBjvpKbNnZfPej8oDt50vLuFpqWryuSpw2oMVIi7bs7IAL+7UPyql++tmox3kcDvnX5eKTxxcHbIskZorhsQE3MLBAjOP8Bc4sfCLm/e1DCsi/ZwKVa5/DniupjV1IgGBuWpHqnUlJztQpjFy9CmdVVVc5JUWj1gZcNtsLf4bOnsXQ2bMAOb3V/ucYFUt/Y7JXhvGFDahS2aLFbgv74/Dc8sjXiuMPz8aen9/+f3dtLe6ajs9Lzeq1XN26XZs/mvY2nSobUmRYGZklJTR9dibkNv/BDbc9ln20YNe0t+mctyKFHpXR+3vKMuCU0Etj1KLJnLEiGbbKyPnhg/QYpnSJJW7sQHZK6cEpK1ILvUZVixa7ncGrfk9mcbhK38ZgR1YMU+gaUgNc9U2dlEfaUyu2vDxue/F58pY8QeaI4Vh7GlOi14LUsOjr9TIg9ZZvy6Ejba0cxVlTFruN3FkzyZ01s/295kn3qzTR1TgKHXFZ+0x0JI3wb+gQ5HzbK405tI+///T7LnN8SQPs9P3hL8g2ExxJI+zw/eEvyH9JggeadEMqgRO+/wSvGJpSa6KbE1BKIliQfwD6lXdLE0wjMubtBAtSRwxVz9IoYxNB61GhghzWAK2GuNO9aQX+EvxmKEEqSN9xGcE2oNM6RbgwoOVA8hS36np4kHpknQgnyOfAy7q5k6aUME9/ixQo9zTwlVI37ClagitLafmXG8CycBsjCfIloDS6wDq8RGVzhmEtKlTZ3K+RsQ1tK8rB65ECwEqwJtnybqwo9Ps9ovz4jiaIF5iPFAFOmIwZD2EpTo7l3VixDCsiY8ZDKpqqR8Yy4qJyLMHW1cDiaDvFhN2OfdVKLCXmLu/GiqW4CPufVoJdSezKEqJUtQZtz8JdjxRWTpy2YvwtBw7irb4ITU1KmlVCz55YCoeS8cBUMmb8QNWNSBkx1s7XIkgm8oyl78TnU7flBFKloTmWnbXkhzQDP0ZhhEo3oAaYSYxigPbqozXA94GbGo/rjtxExkrTBzieDKrTSCkhZxzHdhecyBid1npgvCltx4AHSYsSCicyNsfiOTiRHMMjwP3IVEAa4QYyJnGXoEs06fMY8hDFiwm20xW4iIxFXN8MHyqycE8jjxs9rqCtVOU4cA9xXDOCUZUW/QXy6ShT1F4qUYb0XUkmmso89Sbk1+hPUDT3leTUI6XZFyJ9V4IehQM2AeOA93VoO1l4H+njRtUN61XJ4QLyMLFFdK27sBtIn6agOBXQh56lNbzIUmUJ8qTLVF6j9yB9KEH6pFtelhG1TuqQ6fvRwBZSK8SoFXgd8X0xBuT0G1l8phKYA3wTCaBIojn3TjQhPo4CHiNMQIIeaJl+V00+HXcpyfKYjApk3WcDkntpOGYK4s9dyEOyfoTxDwU4B/wLCVw7EXlX/UkWQfwpBqYh5c/vQ/3z2y8hc01Hgf2IIElDMgoSzACk+vZopKTt7cBApHhnPyTxNrttXxdSS/kr5AJ8FSkdUgX8DzgFXDPQd838H8bku/0fi/+LAAAAAElFTkSuQmCC"},MwR5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNkYxRDA0QUE5NkUxMUVBOTJBN0M5N0FCRDk3NDRFRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNkYxRDA0QkE5NkUxMUVBOTJBN0M5N0FCRDk3NDRFRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM2RjFEMDQ4QTk2RTExRUE5MkE3Qzk3QUJEOTc0NEVFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM2RjFEMDQ5QTk2RTExRUE5MkE3Qzk3QUJEOTc0NEVFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XFMMzwAAAa1JREFUeNqs1E0oRFEYxvHrouyYWFIoxYZQhNJQNOWzaFY21hYWkkhiYWdBsVIUWZHCIGpSklJWFgpJvncUEZHxf+u9ddIM905O/bp35nSfznnPR4J/JmLF2UpRstNpTTt/JMQZVo8tfd+Fn9CIHUdQnQYdYArVCNfMWilJHoOqsK3vo1jDGcax4WVktdjDAy6wikqmN6GjrHE7sgaEIAXOxhvuJZzprfMsx6LtskYS9IoCPOMDGRreiGVGGLRdBEmNnlCIE6OvC/J9iKA2S3/8VWwZRT7Ojb5hTGKdoCbnz1g1q9BivyNP62MZqzig26PR/MiOsWr7WuRcXBt9IxokWyLw80M7SlAYp0jDndE3hiEpNpqjTccMC2iQtBedotNkU/ZgBW2ximwbh3YTN+hDsa5cKvrRrSNq/W3pnQUY1Kcs/6MWfE53uk82JIJ/bUhzZLcaJG1ej4tPn0E3x8QJy8KxvmdiQou8gBa3h1emmW7sdvNyW0KHlytFwnJwhCt84lKvlSmvF52EHaLI+ocmYe0alijXuHOduw3gCpKWLDOTsF6U/cPAvr4FGABx92Wow81cOwAAAABJRU5ErkJggg=="},N1kN:function(e,t){},N52f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAhCAYAAAAh3nDkAAAAAXNSR0IArs4c6QAABGRJREFUWEfFl2toXEUUx/9n7m26Se1DYhErKqZUqlaxiqlJ9sZXFWtDI5UipkKlUBUFQYxiUXPnxg8aiqLFL2q/WPABfrDVpNQHTejeGNKaRq2xUiRQtS2Cj2psmmTvnb/cbTdsHrt3twk4X+d/zu+cmTNnZgQljuRzvFAS5jUIHgJgAzhMUVv8Fukt0RUkn8E1mmWVCJsAtRaCxaQ5ZsB3lajtAlw7yW4Eou4xhALNagEUhIf+qbD2fPeMnM7HmBZep7lEiWkHsLKEbAhMSeYkaTb7es7e6fxMC096JiVgsgRwIelIaKnlX70gxyaLpsDrX+IyGnN0lsBZN9tSrvXs/wMndqS0tSUWDk3liDkI4MbZyp7kRl/b78fDASQ1qyD8XMClMw2A5E5/wNqMjyQsCh6Jkq3h40JsB2CdfwDsGaa1uk/LcFHVfn0z5y2cb94CsPH8oRMsD5PqPl/LYMHMI/CCC8IvReSWWQJn3fxCpm/zdWJCABOOmuMFuwBpnB4sBwEuArBsunkCwyD3QeTeTIebOgbHbFXb+7z8lp0ahzs63AZBc56MgzGqygBDZeWY1ymCFbm6s2C11tfS5ehgN0TW5fHTb1HVd2n5N5rPwOta046i2l9wqYnXU9p6ytk6tJiJis6c/n7GQDV2u/JFvcu7qcxuAIkCvt5JudYjZ+EbaDkrTD+A6+L2mcCrvms1V29l5dwEOwFeBajGlCuf1Xnp2wWqXYCKOD9guCqlyw5InResUZA9sQbnBCS221BPnwYuKhNc3e1Kp+MFjYR8IEB5cX6kI+WqBknq4D0RaYoxOmLEPKqMPRoiSIzC/jr37Dqa1VRpETOHgNlQoHYyGAJUSi2VpGeOC7ikEJyQVJrSUA6YrK5rAGeirnWTZsX8nOpOS/iAguwoYgWelKQXhnmOxgT7KCXJBJ0dmb3ucLwwOruX54iL64jkJ+J4YY7DIuLN7j243nftjx0vPAHgkuItx5X9RcEJnBBRTcZgNGs6B/ixS8upmlauVAZzx9dDzGMANsUHw54IfgrAwsJi+Tag3GGAINIFCQgGMdz3tqRXaS7I2trDICqCZiWqJRZOfhgVXI+Asb2cQFqAzLXIqMDI+31ttzue+QngpeO7UeRxM+DD4uiwDYIpT5zYyMGGlGt3OJ4ZBHhlvH6iwhh1hdTodK0tqrtUY8wILvtTrro109uTOugp9RoluM537U8dL/wZwGWlBE+qNb6WvRl4bStvtmiiH0feT8Rk5yS+geCIAA+WAobIvlSLujOyyb1SPQjiq7Qk0mSxnBzjSHWvrvh1Ajyz/F74pgBPzMh/fuO/KOouv0X6spIpy+x44YsA3Jk9HKdkfNSIrO9ukYHcmWn3uLY1XWMZ6xUI62e4CkMk3vgTqu2Hc6+XWHhWEB1DS6lNIKKfZ1WRgYwC0XeZu0ZH1M4DL8sf+eyKq25NVQNU2cANhFkuwMUAFkFYTkjUnn8X4LiB+n5kGIf62uTvYgL9D1oFvPv9iToMAAAAAElFTkSuQmCC"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={};a.d(l,"currentRole",function(){return k}),a.d(l,"isLogin",function(){return C});var s={};a.d(s,"userStatus",function(){return w}),a.d(s,"userToken",function(){return S}),a.d(s,"userType",function(){return x});var i={};a.d(i,"setRole",function(){return A}),a.d(i,"setToken",function(){return I}),a.d(i,"setType",function(){return _});var o=a("//Fk"),r=a.n(o),n=a("7+uW"),c={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},computed:{isLogin:function(){return sessionStorage.getItem("role")&&sessionStorage.getItem("token")?this.$store.commit("userStatus",sessionStorage.getItem("role")):this.$store.commit("userStatus",null),console.log("ddd"),console.log(this.$store.getters.isLogin),this.$store.getters.isLogin}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("i/+S")},null,null).exports,p=a("/ocq"),m=a("EV1k");n.default.use(p.a);var h=new p.a({mode:"history",base:"/admin/",routes:[{path:"/",component:m.default,children:[{path:"/login",component:m.default}]},{path:"/home",name:"home",component:function(){return new Promise(function(e){e()}).then(a.bind(null,"LqM4"))}}]}),v=a("mtWM"),g=a.n(v),y=a("zL8q"),f=a.n(y),b=(a("tvR6"),a("NYxO")),k=function(e){return e.currentRole},C=function(e){return e.isLogin},w=function(e,t){t?(e.currentRole=t,e.isLogin=!0):null==t&&(sessionStorage.setItem("role",null),sessionStorage.setItem("token",""),e.currentRole=null,e.isLogin=!1,e.token="")},S=function(e,t){e.token=t||null},x=function(e,t){e.type=t||null},A=function(e,t){(0,e.commit)("userStatus",t)},I=function(e,t){(0,e.commit)("userToken",t)},_=function(e,t){(0,e.commit)("userType",t)};n.default.use(b.a);var D=new b.a.Store({state:{baseUrl:"https://hk.wistechx.cn/HermesApi",baseCompanyUrl:"https://hk.wistechx.cn/HermesNewApi",currentRole:null,isLogin:!1,token:"",type:"",imgUrl:"",imgUrl2:""},getters:l,mutations:s,actions:i});var T=a("ZBoC");T.keys().forEach(function(e){var t,a=T(e),l=(t=e.replace(/(\.\/)(?:[^\/]*\/)/,"").replace(/\.\w+$/,"")).charAt(0).toUpperCase()+t.slice(1);n.default.component(l,a.default||a)});var L=a("EAZf"),N=a.n(L),R=(a("N1kN"),a("YyHR")),M=a.n(R),U=a("BO1k"),P=a.n(U),H={install:function(e){e.directive("preventClick",{inserted:function(e,t){e.addEventListener("click",function(){e.disabled||(e.disabled=!0,setTimeout(function(){e.disabled=!1},3e3))})}})}};n.default.config.productionTip=!1,n.default.prototype.$axios=g.a,n.default.use(function(e){var t=[{label:"采购中",value:"0"},{label:"存货",value:"1"},{label:"客人预留",value:"2"},{label:"已出售",value:"3"},{label:"购入退货",value:"6"},{label:"已寄卖",value:"8"},{label:"遗失",value:"7"},{label:"客人取回",value:"5"}];e.prototype.soldStateRgx=function(e){if(3==e||4==e)return"已出售";for(var a=0;a<t.length;++a)if(e==t[a].value)return t[a].label;return""};var a=[{label:"買入",value:0},{label:"賣出",value:1},{label:"轉賬",value:2},{label:"買入退款",value:3},{label:"賣出退款",value:4},{label:"其他收入",value:5},{label:"其他支出",value:6}];e.prototype.tradeTypeRgx=function(e){for(var t=0;t<a.length;++t)if(e==a[t].value)return a[t].label;return""};var l=[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}];e.prototype.currencyRgx=function(e){for(var t=0;t<l.length;++t)if(e==l[t].value)return l[t].label.split("").slice(0,3).join("");return""},e.prototype.currencyFontRgx=function(e){for(var t=0;t<l.length;++t)if(e==l[t].label.split("").slice(0,3).join(""))return l[t].label.split("").slice(3,6).join("");return""},e.prototype.productCodeGet=function(e){if(e.length>0){var t="",a=!0,l=!1,s=void 0;try{for(var i,o=P()(e);!(a=(i=o.next()).done);a=!0)t+=i.value.productCode+"<br />"}catch(e){l=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(l)throw s}}return t}return"/"},e.prototype.formatNumberRgx=function(e){if(""==e||null==e||0==e)return 0;var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},e.prototype.getPriceNum=function(e){if(console.log(e),""!=e&&null!=e){var t=e.toString().replace(/,/g,"").match(/(\-)?\d+[0-9]+([.]{1}[0-9]+){0,1}/g);return console.log(t),t?t.join(""):e}return""},e.prototype.getIntegerNum=function(e){if(console.log(e),""!=e&&null!=e){var t=e.toString().replace(/,/g,"").match(/(\-)?\d+[0-9]+([0-9]+){0,1}/g);return console.log(t),t?t.join(""):e}return""},e.prototype.timeLong=function(e){if(null!==e&&""!==e){var t=new Date(e),a=new Date;return Math.floor((a-t)/1e3/60/60/24)+" 天"}return"-"},e.prototype.bigImg=function(e){return""!=e&&null!=e?e.split("|").filter(function(e){return e&&e.trim()}):[]}}),n.default.use(H),n.default.use(f.a),n.default.use(M.a),n.default.use(N.a),N.a.setDefaults({Options:{inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,url:"data-source"}}),g.a.interceptors.request.use(function(e){var t=location.pathname;return sessionStorage.getItem("token")&&"/"!=t&&"/login"!=t&&(e.headers.common.token=sessionStorage.getItem("token")),e},function(e){return r.a.reject(error)}),g.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(e.response.status){case 401:sessionStorage.setItem("token",null),sessionStorage.setItem("role",null),console.log(h.currentRoute.fullPath),h.replace({path:"/login",query:{redirect:h.currentRoute.fullPath}})}return r.a.reject(e.response)}),new n.default({el:"#app",router:h,store:D,components:{App:u},template:"<App/>"})},Ncla:function(e,t){},O7nl:function(e,t){},OWnv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i=a("pFYg"),o=a.n(i),r={components:{detailsVue:a("XMJn").default},data:function(){return{baseUrl:this.$store.state.baseUrl,page:1,pagesize:10,total:0,searchKey:"",onSaleProducts:[],myList:[],stockLocId:[],stockLocList:[],soldSel:"",sold:"",soldList:[{label:"全部",value:""},{label:"未出库",value:"3"},{label:"已出库",value:"4"}],soldList2:[{label:"未出库",value:"3"},{label:"已出库",value:"4"}],currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],dialogStateVisible:!1,updateStateId:null,sellCurrencyId:"",priceTran:"",customer:"",soldTime:null,stockOutTime:null,note:"",createTime:"",bill:"",saleLogHkPrice:"",saleTotalHkPrice:"",headSellMoney:"",isHeadConsigns:0,headCurrency:"",isReceiveCheck:!1,sellPaymentList:[],isUpdateOrDel:null,updateId:null,pageSel:0,currencyGlobal:"",sellerId:"",sellerList:[],customerTypeList:[],customerType:"",numIsEquality:!1}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.getStockLocList(),this.getCustomerList(),this.getSellerAndCustomerType()},methods:{editProduct:function(e){this.updateId=e,this.pageSel=1,document.getElementById("soldContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(e){console.log(e),this.pageSel=0,this.searchProducts()},goback:function(){this.pageSel=0},getCustomerList:function(){var e=this;this.$axios.get(this.baseUrl+"/consumerListGet").then(function(t){console.log("客户列表"),console.log(t),e.customerList=t.data}).catch(function(e){console.log(e)})},querySearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.customer=e.value},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerTypeList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.customerType=e.value},isSellHKD:function(){2==this.sellCurrencyId?this.saleTotalHkPrice=this.priceTran:this.saleTotalHkPrice=void 0},currencyShow:function(e){for(var t=0;t<this.currencyIds.length;++t)if(e==this.currencyIds[t].value)return this.currencyIds[t].label;return""},radioChange:function(){this.page=1},stateupdate:function(e){console.log("数据"),console.log(e);var t=sessionStorage.getItem("companyId");e.companyId!=t?this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3}):(this.updateStateId=e.id,this.sold=e.sold,this.bill=e.bill,this.createTime=e.createTime,this.priceTran=e.priceTran,this.customer=e.customer,this.soldTime=e.soldTime,this.sellCurrencyId=e.sellCurrencyId,this.stockOutTime=e.stockOutTime,this.note=e.note,this.saleLogHkPrice=e.saleLogHkPrice,this.saleTotalHkPrice=e.saleTotalHkPrice,this.headSellMoney=0==e.headSellMoney?"":e.headSellMoney,this.isHeadConsigns=e.isHeadConsigns,this.headCurrency=e.headCurrency,this.sellPaymentList=e.sellPaymentList,this.isUpdateOrDel=e.isUpdateOrDel,this.isReceiveCheck=0!=e.isReceiveCheck&&null!=e.isReceiveCheck,this.sellerId=e.sellerId,this.customerType=e.customerType,this.dialogStateVisible=!0)},dataCheck:function(){var e=this;if(null==this.sold)return this.$message.error({message:"请选择库存状态",showClose:!0,duration:2e3}),1;if(4==this.sold&&(""==this.soldTime||null==this.soldTime||""==this.customer||null==this.customer||""==this.stockOutTime||null==this.stockOutTime||""==this.bill||null==this.bill||(""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||null==this.saleTotalHkPrice)&&1!=this.isHeadConsigns||(""==this.headSellMoney||void 0==this.headSellMoney||null==this.headSellMoney)&&1==this.isHeadConsigns||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType))return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(this.sellPaymentList.length>0){var t;if(t=this.sellPaymentList.reduce(function(e,t){return e+1*t.totalHkPrice},0),this.saleTotalHkPrice&&this.saleTotalHkPrice!=t){this.numIsEquality=!0;var a="產品出售記錄總金額為："+t+this.currencyGlobal+" ,您錄入的出售金額為："+this.saleTotalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log("確定提交"),e.numIsEquality=!1,e.submitData()}).catch(function(){console.log("取消提交")})}this.numIsEquality=!1}else this.numIsEquality=!1},PrefixInteger:function(e){return(Array(6).join("0")+e).slice(-6)},stateupdateSure:function(){-1===this.isUpdateOrDel?(this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3}),this.dialogStateVisible=!1):1!==this.dataCheck()&&0==this.numIsEquality&&this.submitData()},submitData:function(){var e=this;this.$axios.put(this.baseUrl+"/stateSave",{id:this.updateStateId,sold:this.sold,bill:this.bill,createTime:this.createTime,priceTran:this.priceTran,customer:this.customer,soldTime:this.soldTime,sellCurrencyId:this.sellCurrencyId,stockOutTime:8==this.sold?this.soldTime:this.stockOutTime,note:this.note,saleLogHkPrice:this.saleLogHkPrice,saleTotalHkPrice:this.saleTotalHkPrice,headSellMoney:this.headSellMoney,isReceiveCheck:0==this.isReceiveCheck?0:1,sellerId:this.sellerId,customerType:this.customerType}).then(function(t){console.log(t),200==t.status&&(e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.dialogStateVisible=!1,e.searchProducts())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},bigImg:function(e){return e.split("|").filter(function(e){return e&&e.trim()})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.searchProducts(),document.getElementById("soldContainer").scrollIntoView({behavior:"smooth"})},money:function(e,t){var a=t-e;return this.formatNumberRgx(a)},searchProducts:function(){var e=this;console.log("111"),this.$axios.post(this.baseUrl+"/sellSearch",{keyword:this.searchKey,page:this.page,pageNum:10,stockLocId:this.stockLocId&&2==this.stockLocId.length?this.stockLocId[1]:null,companyId:this.stockLocId&&1==this.stockLocId.length&&-1!=this.stockLocId[0]?this.stockLocId[0]:null,sold:this.soldSel}).then(function(t){console.log("已出售商品"),console.log(t),e.onSaleProducts=t.data.list,e.total=t.data.total,console.log(e.onSaleProducts)})},getStockLocList:function(){var e=this;this.$axios.get(this.baseUrl+"/stockSearchLocList").then(function(t){if(console.log("库存列表"),console.log(t),e.stockLocList=t.data,e.stockLocId=[],e.stockLocList.length>0){e.stockLocList[0].warehouseList=void 0;var a=Number(sessionStorage.getItem("companyId"));e.stockLocId.push(a)}e.searchProducts(),e.getStockLocSelfList()}).catch(function(e){console.log(e)})},getStockLocSelfList:function(){var e=this;this.$axios.get(this.baseUrl+"/stockLocList").then(function(t){console.log("自己公司库存地列表"),console.log(t),e.stockLocs=t.data,e.stockLocs.length>0&&e.stockLocs.splice(0,1)}).catch(function(e){console.log(e)})},stockReg:function(e){for(var t=0;t<this.stockLocs.length;++t)if(e==this.stockLocs[t].warehouseId)return this.stockLocs[t].warehouseName;return""}}},n={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"soldContainer"}},[l("div",{staticClass:"sold-container"},[0==e.pageSel?l("div",[l("div",[l("el-form",{attrs:{inline:""}},[l("el-form-item",{attrs:{label:"库存地："}},[l("el-cascader",{attrs:{options:e.stockLocList,props:{value:"id",label:"name",children:"warehouseList",checkStrictly:!0},clearable:"","popper-class":"disableFirstLevel"},on:{change:e.radioChange},model:{value:e.stockLocId,callback:function(t){e.stockLocId=t},expression:"stockLocId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"库存状态："}},[l("el-select",{on:{change:e.radioChange},model:{value:e.soldSel,callback:function(t){e.soldSel=t},expression:"soldSel"}},e._l(e.soldList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"输入款式，尺寸，材质，色号，色系，客户，货号可搜索，如：H000001、000001、1"},on:{focus:e.radioChange},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-button",{attrs:{type:"primary"},on:{click:e.searchProducts}},[e._v("查询")])],1)],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.onSaleProducts,border:""}},[l("el-table-column",{attrs:{align:"center",prop:"productCode",label:"货号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"pic",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2985449157)}),e._v(" "),l("el-table-column",{attrs:{width:"300px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"stockLocId",label:"库存点"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(e.stockReg(t.row.stockLocId))+"\n            ")])]}}],null,!1,3515403245)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"bill",label:"账单号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"customer",label:"客户名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(t.row.customer?t.row.customer:"-")+"\n            ")])]}}],null,!1,3761847193)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"sold",label:"库存状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){return e.stateupdate(t.row)}}},[l("span",{staticClass:"handle-button"},[e._v(e._s(3==t.row.sold?"未出库":"已出库"))]),e._v(" "),l("img",{staticStyle:{width:"15px",height:"18px"},attrs:{src:a("MwR5")}})])])]}}],null,!1,4254923732)}),e._v(" "),l("el-table-column",{attrs:{width:"130px",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row.id)}}},[e._v("编辑")])],1)]}}],null,!1,1038427187)})],1),e._v(" "),e.dialogStateVisible?l("el-dialog",{attrs:{title:"库存数据",visible:e.dialogStateVisible,width:"800px","close-on-press-escape":!1,"close-on-click-modal":!1,"modal-append-to-body":!1,"append-to-body":!1},on:{"update:visible":function(t){e.dialogStateVisible=t}}},[l("div",[l("el-form",{attrs:{"label-width":"121px"}},[l("el-form-item",{attrs:{label:"库存状态",required:""}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.sold,callback:function(t){e.sold=t},expression:"sold"}},e._l(e.soldList2,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"账单号",required:3!=e.sold}},[l("el-input",{model:{value:e.bill,callback:function(t){e.bill=t},expression:"bill"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"出售时间",required:3!=e.sold}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.soldTime,callback:function(t){e.soldTime=t},expression:"soldTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"出售外币金额"}},[l("div",{staticStyle:{width:"100%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"请输入出售外币金额",clearable:""},on:{change:e.isSellHKD},model:{value:e.priceTran,callback:function(t){e.priceTran=t},expression:"priceTran"}}),e._v(" "),l("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.isSellHKD},model:{value:e.sellCurrencyId,callback:function(t){e.sellCurrencyId=t},expression:"sellCurrencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),l("el-form-item",{attrs:{label:"是否收款完成"}},[l("el-switch",{model:{value:e.isReceiveCheck,callback:function(t){e.isReceiveCheck=t},expression:"isReceiveCheck"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"物流费/手续费"}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入物流费/银行手续费送货"},model:{value:e.saleLogHkPrice,callback:function(t){e.saleLogHkPrice=t},expression:"saleLogHkPrice"}}),e._v(" "),l("span",[e._v(e._s(e.currencyGlobal))])],1)]),e._v(" "),l("el-form-item",{attrs:{label:"出售"+e.currencyFontRgx(e.currencyGlobal)+"金额",required:1!=e.isHeadConsigns&&4==e.sold}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入出售"+e.currencyFontRgx(e.currencyGlobal)+"金额"},model:{value:e.saleTotalHkPrice,callback:function(t){e.saleTotalHkPrice=t},expression:"saleTotalHkPrice"}})],1)]),e._v(" "),1==e.isHeadConsigns?l("el-form-item",{attrs:{label:"出售"+e.currencyFontRgx(e.headCurrency)+"金额",required:3!=e.sold}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入出售"+e.currencyFontRgx(e.headCurrency)+"金额，用于与总公司结算"},model:{value:e.headSellMoney,callback:function(t){e.headSellMoney=t},expression:"headSellMoney"}})],1)]):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"销售人员",required:3!=e.sold}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择销售人员"},model:{value:e.sellerId,callback:function(t){e.sellerId=t},expression:"sellerId"}},e._l(e.sellerList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"客户姓名",required:3!=e.sold}},[l("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择/输入客户姓名"},on:{select:e.handleSelect},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"客户类型",required:3!=e.sold}},[l("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"请选择/输入客户类型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.customerType,callback:function(t){e.customerType=t},expression:"customerType"}})],1),e._v(" "),4==e.sold?l("el-form-item",{attrs:{label:"出库时间",required:""}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"备注"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.sellPaymentList.length>0,expression:"sellPaymentList.length > 0"}],attrs:{label:"出售记录"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sellPaymentList}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",[e._v("\n                        "+e._s(t.row.time)+"\n                      ")]),e._v(" "),l("div",[e._v("\n                        "+e._s("【"+t.row.personName+"】")+"\n                      ")])])]}}],null,!1,2844442074)}),e._v(" "),l("el-table-column",{attrs:{width:"200px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v("\n                          "+e._s(t.row.productDes)+"\n                        ")])])],1)]}}],null,!1,1639563411)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                      "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n                    ")])]}}],null,!1,1377001616)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                      "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                    ")])]}}],null,!1,3795726521)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                      "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n                    ")])]}}],null,!1,1417055533)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),l("el-table-column",{attrs:{width:"200px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,3520230835)})],1)],1)],1)],1),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogStateVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.stateupdateSure}},[e._v("确 定\n          ")])],1)]):e._e(),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1):l("div",[l("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.goback,updateSuccess:e.updateSuccess}})],1)])])},staticRenderFns:[]};var c=a("VU/8")(r,n,!1,function(e){a("F/me"),a("KfFI")},"data-v-41f898e0",null);t.default=c.exports},OYBT:function(e,t){},P5Jt:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAAAXNSR0IArs4c6QAAAStJREFUOE+lkjtLA1EQhb+TNCklIBLcFbFTm/RaWMnG3hSCrY2dgo/OVhBsxFIQsRIsszeFCGLlD7CzcVOICNYRNyN5CCbochOnuXA58w0z54heWRw6oIiw7z+v1yirLbQDcswhVj0BV0hV0k6vC2qyuLSI8tdAwWtyVyRMsSpJ1VzoZC7YAR0OAfiWvitKij1IuA0cjQB5U5SM+0DaRz4FWwCVBwb5QqyFsUGhcU4zOAOt/wB5Q/ZAu5g9IGZBU8NBjGNVki27CSb50B1iZth1nmgl81qhaS6IQLWOrf2VtY6lWG5Jled7u50eo5k+AqVf3MuEvCpqTPTSeAla+8P+TEiDfLrMZ34f9bkxyPJ1JzOCXUgc1mXun4mtBxdtyCZwMkLsXxQlnYN/AXgKpm3PvPolAAAAAElFTkSuQmCC"},"PK+x":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={components:{detailsVue:a("XMJn").default},data:function(){return{baseUrl:this.$store.state.baseUrl,pageSel:0,page:1,pagesize:10,total:0,delId:0,updateId:0,onSaleProducts:[]}},created:function(){this.searchProducts()},methods:{goback:function(e){this.pageSel=e},editProduct:function(e){this.updateId=e,this.pageSel=1,document.getElementById("onsaleContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(e){this.pageSel=e,this.searchProducts()},bigImg:function(e){return e.split("|").filter(function(e){return e&&e.trim()})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.searchProducts(),document.getElementById("onsaleContainer").scrollIntoView({behavior:"smooth"})},radioChange:function(){this.page=1,this.searchProducts()},PrefixInteger:function(e){return(Array(6).join("0")+e).slice(-6)},money:function(e,t){console.log(e,t);var a=t-e;return this.formatNumberRgx(a)},searchProducts:function(){var e=this;console.log("ffff222"),this.$axios.get(this.$store.state.baseUrl+"/noPriceList?page="+this.page+"&pageNum=10&flag=2").then(function(t){console.log(t),e.onSaleProducts=t.data.list,e.total=t.data.total,console.log(e.onSaleProducts)})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"onsaleContainer"}},[a("div",{staticClass:"onsale-container"},[0==e.pageSel?a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.onSaleProducts,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"productCode",label:"货号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pic",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2985449157)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row.id)}}},[e._v("编辑")])],1)]}}],null,!1,1038427187)})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1):e._e(),e._v(" "),1==e.pageSel?a("div",[a("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.goback,updateSuccess:e.updateSuccess}})],1):e._e()])])},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("Ncla")},"data-v-00325117",null);t.default=i.exports},PnDV:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAUZJREFUOE+V071KHFEYxvH/M7PrF1oErMQYCyuJnYUbbUQ0q5DCXIA2oq2XIOQSxMpCQbSxCMFCJZDOZUu9BNnRtQgkYKXuzCMK6uosMnPaw/s778d55cOP24hFch9vqhwty0f9FVApf7yrmo1KD8AJ6EtuAFdUjsabgRvwb1AjjbkdmAGFL3dp4IpYCwTJXQpI6CBkH9T9HpCzinQGYP4hP5VgTCdST2v5LWCf0xENaZLnHvigr5diUAcVWvQl1UTg4XXFTXWGrYMBuaqv+cZ4CfxAt8fEbQEBn1Wu/cr2D+y/JPEohXACa+Ux04B1zUQ/swHyEolixBb2H6ALaQwxnw0oNgZpFA4wI9i7SP+BOcxFNqD9+gM33aegT0CdxDuEGsAezrZMSr7hYApYfTVOe03Z1tlnJI1pVNxA/g5KEHu01ZbuAbgqoYP1zepdAAAAAElFTkSuQmCC"},PxuV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i={data:function(){return{baseUrl:this.$store.state.baseUrl,imgSrcs:[]}},methods:{inputChange:function(e){var t=this,a=e.target.files;if(void 0!=a[0]){this.loading=this.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});var l=!0,i=!1,o=void 0;try{for(var r,n=s()(a);!(l=(r=n.next()).done);l=!0){var c=r.value;console.log(c),c.size/1024>2050?this.photoCompress2(c,{quality:.7},function(e){var a=t.base64UrlToBlob2(e);t.uploadLice2(a)}):this.uploadLice2(c)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}}},photoCompress2:function(e,t,a){var l=this,s=new FileReader;s.readAsDataURL(e),s.onload=function(e){var s=e.target.result;l.canvasDataURL2(s,t,a)}},canvasDataURL2:function(e,t,a){var l=new Image;l.src=e,l.onload=function(){var e=this.width,l=this.height,s=e/l;e=t.width||e,l=t.height||e/s;var i=.7,o=document.createElement("canvas"),r=o.getContext("2d"),n=document.createAttribute("width");n.nodeValue=e;var c=document.createAttribute("height");c.nodeValue=l,o.setAttributeNode(n),o.setAttributeNode(c),r.fillStyle="#fff",r.fillRect(0,0,e,l),r.drawImage(this,0,0,e,l),t.quality&&t.quality>=1&&t.quality<0&&(i=t.quality);var d=o.toDataURL("image/jpeg",i);a(d)}},base64UrlToBlob2:function(e){console.log("转Blob格式/file格式",e);for(var t=e.split(",")[0].match(/:(.*?);/)[1],a=atob(e.split(",")[1]).length,l=new Uint8Array(a);a--;)l[a]=atob(e.split(",")[1]).charCodeAt(a);console.log("u8arr数据",l);var s=Date.parse(new Date)+".jpg";return new File([l],s,{type:t})},uploadLice2:function(e){var t=this;console.log("圖片file",e);var a=new FormData;a.append("upload-images",e),this.$axios.post(this.baseUrl+"/upload",a).then(function(e){200==e.status&&t.$message.success({message:"图片上传成功",showClose:!0,duration:2e3}),console.log(e),t.loading.close(),t.imgSrcs.push(e.data.split("|")[0])}).catch(function(e){t.loading.close(),console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delImage2:function(e,t){console.log(e,t),this.imgSrcs.splice(t,1)}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-imgs"},[a("div",{staticClass:"add"},[a("form",{staticStyle:{width:"100px",height:"100px"},attrs:{enctype:"multipart/form-data"}},[a("input",{staticClass:"inputUpload",attrs:{type:"file",name:"upload-images",accept:"image/*",multiple:""},on:{change:function(t){return e.inputChange(t)}}}),e._v(" "),a("i",{staticClass:"el-icon-plus addIcon"})])]),e._v(" "),e._l(e.imgSrcs,function(t,l){return a("div",{key:l,staticStyle:{margin:"0 10px 10px 0",position:"relative"}},[a("span",{staticClass:"spanStyle",on:{click:function(a){return e.delImage2(t,l)}}},[e._v("x")]),e._v(" "),a("img",{staticStyle:{"border-radius":"5px","object-fit":"cover"},attrs:{src:e.baseUrl+"/file/"+t,width:"100px",height:"100px"}})])})],2)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(e){a("hzLi")},"data-v-b49027fe",null);t.default=r.exports},Q3md:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDRkI5M0MzMjQyQjQxMUVDOTlCRkNCRkRFQjE3QkMyMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDRkI5M0MzMzQyQjQxMUVDOTlCRkNCRkRFQjE3QkMyMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkNGQjkzQzMwNDJCNDExRUM5OUJGQ0JGREVCMTdCQzIwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNGQjkzQzMxNDJCNDExRUM5OUJGQ0JGREVCMTdCQzIwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nrUv1gAAANNJREFUeNpi9Jr9ngEHKAbiUCBmBOLdQFyDTREjDgPYgPgnmpg4EL9CV8iEw3ZmIP6IJsaOTSELDgP+A/FvJP5fqBgD1EsqUPoOLgOwgW9Qei8QO0LZR5hIMOArlHZEErMhxQCY2jdIYp9IMQA5fOBsFmiUGUBtuAnE70kxDWTAYSA2g/IfArEiljSA119mSHx5qKH/STHgAxL/F6kBQk4gYhjAiJw3SGWDDOBHEmBFYgvjcKkIEpsPJLEPSeAaEP+BsncjiV8E4h9Q9lEk8dMAAQYAB+Ak9c68suwAAAAASUVORK5CYII="},SUJm:function(e,t){},T2hl:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAZZJREFUOE+dk71qlEEYhZ8zn24sNDegiGiVrGsTyR1o7DQIASEBC60EBTEK8Q8vwM4r0DVVsJCIlWBjDBFEQlZiIZJaS5F8cec98hkTN8sKWaedmYfnvGdGk61YFRyhz2XzuTmnhqZaUQK1Pu+D+fltQAcqwDow0DcAynU0+N8Aw0bJHwNDIXQFkbdNcgYVg8gPAXUbGtbKlo79NjDUBB9s2jsOJvbJNHrEW83SmdlhrfUfwSw7aSbM19m6lrYBhrboiNBzsHqnxDVHXABNkjW+BUgKnWQPVSNQgms8wj7Vob+UpenCnkdaJGIFpeVdRTAsEvmeUvEM2A+EQmcfNzS/G8BbS/edY1RJt2VqFJp4MqQKxibApCg0UkDZNi4iLiHdxCxEoQeKOE5VszmMdL5Z1/OtaD2HuFmr3ji4JcUoKV3FPmRpvDmsF521/ivC+8i6mJJfIb4DBwOde1rXy+43oamV2EDs3bEh3bE5gfgi+7qTTjeH9LrXf6kMPgJHuwCXbd+V+OSkGwqmcfz4eybZeCxKjf0CuKLHX3JBUvUAAAAASUVORK5CYII="},T8Qe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),s=a.n(l),i=a("Xxa5"),o=a.n(i),r=a("exGp"),n=a.n(r),c={data:function(){return{companyList:[],companyAddData:{headCompanyName:"",currencyId:null},selCompanyMsg:{},dialogUpdateCompanyVisible:!1,updateCompanyMsg:{},dialogDelCompanyVisible:!1,delCompanyId:null,branchCompanyList:[],branchCompanyAddData:{branchName:"",currencyId:null},selBranchCompanyMsg:{},dialogUpdateBranchCompanyVisible:!1,updateBranchCompanyMsg:{},dialogDelBranchCompanyVisible:!1,delBranchCompanyId:null,companyWarehouseList:[],companyWarehouseAddData:{warehouseName:""},dialogUpdateCompanyWarehouseVisible:!1,updateWarehouseMsg:{},dialogDelCompanyWarehouseVisible:!1,delCompanyWarehouseId:null,companyAdminList:[],companyAdministratorAddData:{username:"",password:""},dialogUpdateAccountNumberVisible:!1,updateAccountNumberMsg:{},dialogDelAccountNumberVisible:!1,delAccountNumberId:null,isNormalAdmin:!1,companyId:null,filialeWarehouseList:[],filialeWarehouseAddData:{name:""},normalAdminList:[],normalAdminListAddData:{username:"",password:""},normalAdminId:null,dialogNormalWarehouseAdminVisible:!1,allWarehouseList:[],normalWarehouseList:[],activePatchName:"1",activePatchNameSel:"1",currencyIds:[{value:1,label:"CNY人民币"},{value:2,label:"HKD港币"},{value:3,label:"USD美元"},{value:4,label:"EUR欧元"},{value:5,label:"GBP英镑"},{value:6,label:"AUD澳元"}],middleSel:{},middleSureSel:{}}},mounted:function(){var e=this;return n()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllData();case 2:e.tableSelSureValue(0);case 3:case"end":return t.stop()}},t,e)}))()},methods:{addCompany:function(){var e,t=this;""==this.companyAddData.headCompanyName||""==this.companyAddData.currencyId||null==this.companyAddData.currencyId?this.$message.error({message:"請輸入公司名稱/選擇幣種"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/company/companySave",{companyName:this.companyAddData.headCompanyName,currencyId:this.companyAddData.currencyId}).then((e=n()(o.a.mark(function e(a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("添加總公司"),console.log(a),t.$message.success({message:"添加成功",showClose:!0,duration:2e3}),t.companyAddData.headCompanyName="",t.companyAddData.currencyId=null,e.next=7,t.getAllData();case 7:t.tableSelSureValue(0);case 8:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},updateCompany:function(e){console.log(e),this.updateCompanyMsg=JSON.parse(s()(e)),this.dialogUpdateCompanyVisible=!0},updateCompanySure:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/company/companySave",{id:this.updateCompanyMsg.id,companyName:this.updateCompanyMsg.headCompanyName,currencyId:this.updateCompanyMsg.currencyId}).then(function(t){console.log("修改總公司"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogUpdateCompanyVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},delCompany:function(e){console.log(e),this.delCompanyId=e.id,this.dialogDelCompanyVisible=!0},delCompanySure:function(){var e,t=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/company/companyDel?id="+this.delCompanyId).then((e=n()(o.a.mark(function e(a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("刪除總公司"),console.log(a),t.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.next=5,t.getAllData();case 5:t.tableSelSureValue(0),t.dialogDelCompanyVisible=!1;case 7:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},selCompanyChange:function(e){console.log("總公司"),console.log(e),null!=e&&(this.selCompanyMsg=e,this.branchCompanyList=[{id:this.selCompanyMsg.id,branchName:this.selCompanyMsg.headCompanyName,warehouseList:this.selCompanyMsg.warehouseList,companyAdminList:this.selCompanyMsg.companyAdminList}],this.branchCompanyList=this.branchCompanyList.concat(e.branchCompanyList),this.$refs.branchCompanyListTable.setCurrentRow(this.branchCompanyList[0]),this.branchCompanyList.length>0?this.filialeWarehouseList=this.branchCompanyList[0].warehouseList:this.filialeWarehouseList=[],this.normalAdminList=this.selCompanyMsg.normalAdminList,this.allWarehouseList=this.selCompanyMsg.allWarehouseList)},addBranchCompany:function(){var e=this;""==this.branchCompanyAddData.branchName||""==this.branchCompanyAddData.currencyId||null==this.branchCompanyAddData.currencyId?this.$message.error({message:"請輸入公司名稱/選擇幣種"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/company/companySave",{parentId:this.selCompanyMsg.id,companyName:this.branchCompanyAddData.branchName,currencyId:this.branchCompanyAddData.currencyId}).then(function(t){console.log("添加分公司"),console.log(t),e.$message.success({message:"添加成功",showClose:!0,duration:2e3}),e.branchCompanyAddData.branchName="",e.branchCompanyAddData.currencyId=null,e.tableSelValue()}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},updateBranchCompany:function(e){console.log(e),this.updateBranchCompanyMsg=JSON.parse(s()(e)),this.dialogUpdateBranchCompanyVisible=!0},updateBranchCompanySure:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/company/companySave",{id:this.updateBranchCompanyMsg.id,companyName:this.updateBranchCompanyMsg.branchName,parentId:this.selCompanyMsg.id,currencyId:this.updateBranchCompanyMsg.currencyId}).then(function(t){console.log("修改分公司"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogUpdateBranchCompanyVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},delBranchCompany:function(e){console.log(e),this.delBranchCompanyId=e.id,this.dialogDelBranchCompanyVisible=!0},delBranchCompanySure:function(){var e=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/company/companyDel?id="+this.delBranchCompanyId).then(function(t){console.log("刪除分公司"),console.log(t),e.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogDelBranchCompanyVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},selBranchCompany:function(e,t){console.log("分公司改變"),console.log(e),console.log(t),this.middleSel=e,console.log(this.middleSel.id,this.middleSureSel.id),this.middleSel.id!=this.middleSureSel.id?this.activePatchName="1":this.activePatchName=this.activePatchNameSel,null!=e&&(this.companyId=e.id,this.filialeWarehouseList=e.warehouseList,this.companyAdminList=e.companyAdminList)},addWarehouse:function(e,t){var a=this;console.log(t),t?this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/companyWarehouseSave",{companyId:e,warehouseName:t}).then(function(e){console.log("添加總公司倉庫"),console.log(e),a.$message.success({message:"添加成功",showClose:!0,duration:2e3}),a.companyWarehouseAddData.warehouseName="",a.filialeWarehouseAddData.warehouseName="",a.middleSureSel=a.middleSel,a.tableSelValue()}).catch(function(e){console.log(e),a.$message.error({message:e.data.status,showClose:!0,duration:2e3})}):this.$message.error({message:"請輸入倉庫名稱"})},updateWarehouse:function(e,t,a){var l=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/companyWarehouseSave",{id:e,companyId:t,warehouseName:a}).then(function(e){console.log("修改總公司倉庫"),console.log(e),l.$message.success({message:"修改成功",showClose:!0,duration:2e3}),l.dialogUpdateCompanyWarehouseVisible=!1,l.middleSureSel=l.middleSel,l.tableSelValue()}).catch(function(e){console.log(e),l.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delWarehouse:function(e){var t=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/warehouse/warehouseDel?id="+e).then(function(e){console.log("刪除倉庫"),console.log(e),t.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),t.dialogDelCompanyWarehouseVisible=!1,t.middleSureSel=t.middleSel,t.tableSelValue()}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},updateCompanyWarehouseSure:function(){this.updateWarehouse(this.updateWarehouseMsg.id,this.companyId,this.updateWarehouseMsg.warehouseName)},delCompanyWarehouse:function(e){console.log(e),this.delCompanyWarehouseId=e.id,this.dialogDelCompanyWarehouseVisible=!0},delCompanyWarehouseSure:function(){this.delWarehouse(this.delCompanyWarehouseId)},addAdmin:function(e,t,a,l){var s=this;""==l||""==t?this.$message.error({message:"用戶名/密碼不能為空"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/company/adminMsgSave",{companyId:e,password:t,role:a,username:l}).then(function(e){console.log("添加管理賬號"),console.log(e),s.$message.success({message:"添加成功",showClose:!0,duration:2e3}),s.companyAdministratorAddData.username="",s.companyAdministratorAddData.password="",s.normalAdminListAddData.username="",s.normalAdminListAddData.password="",s.middleSureSel=s.middleSel,s.tableSelValue()}).catch(function(e){console.log(e),s.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},updateAccountNumber:function(){0==this.isNormalAdmin?this.updateAccountNumberSure(this.updateAccountNumberMsg.id,this.companyId,this.updateAccountNumberMsg.password,"admin",this.updateAccountNumberMsg.username):this.updateAccountNumberSure(this.updateAccountNumberMsg.id,this.selCompanyMsg.id,this.updateAccountNumberMsg.password,"normal_admin",this.updateAccountNumberMsg.username)},updateAccountNumberSure:function(e,t,a,l,s){var i=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/company/adminMsgSave",{id:e,companyId:t,password:a,role:l,username:s}).then(function(e){console.log("修改管理賬號"),console.log(e),i.$message.success({message:"修改成功",showClose:!0,duration:2e3}),i.dialogUpdateAccountNumberVisible=!1,i.middleSureSel=i.middleSel,i.middleSureSel=i.middleSel,i.tableSelValue()}).catch(function(e){console.log(e),i.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delAccountNumberSure:function(){var e=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/company/adminDel?id="+this.delAccountNumberId).then(function(t){console.log("刪除賬號"),console.log(t),e.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.dialogDelAccountNumberVisible=!1,e.middleSureSel=e.middleSel,e.tableSelValue()}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},addCompanyAdministrator:function(){this.addAdmin(this.companyId,this.companyAdministratorAddData.password,"admin",this.companyAdministratorAddData.username)},updateCompanyAdministrator:function(e){console.log(e),this.updateAccountNumberMsg=JSON.parse(s()(e)),this.isNormalAdmin=!1,this.dialogUpdateAccountNumberVisible=!0},delCompanyAdministrator:function(e){console.log(e),this.delAccountNumberId=e.id,this.dialogDelAccountNumberVisible=!0},addfilialeWarehouse:function(){this.addWarehouse(this.companyId,this.filialeWarehouseAddData.warehouseName)},updateFilialeWarehouse:function(e){console.log(e),this.updateWarehouseMsg=JSON.parse(s()(e)),this.dialogUpdateCompanyWarehouseVisible=!0},delFilialeWarehouse:function(e){console.log(e),this.delCompanyWarehouseId=e.id,this.dialogDelCompanyWarehouseVisible=!0},addNormalAdmin:function(){this.addAdmin(this.selCompanyMsg.id,this.normalAdminListAddData.password,"normal_admin",this.normalAdminListAddData.username)},updateNormalAdmin:function(e){console.log(e),this.updateAccountNumberMsg=JSON.parse(s()(e)),this.isNormalAdmin=!0,this.dialogUpdateAccountNumberVisible=!0},delNormalAdmin:function(e){console.log(e),this.delAccountNumberId=e.id,this.dialogDelAccountNumberVisible=!0},warehouseBinding:function(e){console.log(e),this.normalAdminId=e.id,this.normalWarehouseList=e.warehouseList.map(function(e){return e.id}),console.log("普通管理倉庫"),console.log(this.normalWarehouseList),this.dialogNormalWarehouseAdminVisible=!0},warehouseBindingSure:function(){var e=this;console.log(this.normalWarehouseList),this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/normalWarehouseSave",{id:this.normalAdminId,warehouseIdList:this.normalWarehouseList}).then(function(t){console.log("修改普通賬戶管理倉庫"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.dialogNormalWarehouseAdminVisible=!1,e.tableSelValue()}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},patchCollapseChange:function(e){console.log("-------",e),this.activePatchNameSel=e},getAllData:function(){var e=this;return n()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$store.state.baseCompanyUrl+"/company/companyMsgGet").then(function(t){console.log("公司管理數據"),console.log(t),e.companyList=t.data}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},tableSelValue:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllData();case 2:if(console.log("右邊",e.activePatchNameSel),e.activePatchName=e.activePatchNameSel,e.companyList.length>0)for(a in e.companyList)e.companyList[a].id==e.selCompanyMsg.id&&e.tableSelSureValue(a);case 5:case"end":return t.stop()}},t,e)}))()},tableSelSureValue:function(e){if(console.log(e),this.companyList.length>0)if(this.$refs.companyListTable.setCurrentRow(this.companyList[e]),this.branchCompanyList=[{id:this.companyList[e].id,branchName:this.companyList[e].headCompanyName,warehouseList:this.companyList[e].warehouseList,companyAdminList:this.companyList[e].companyAdminList}],this.branchCompanyList=this.branchCompanyList.concat(this.companyList[e].branchCompanyList),this.$refs.branchCompanyListTable.setCurrentRow(this.branchCompanyList[0]),this.branchCompanyList.length>0)for(var t in this.filialeWarehouseList=this.branchCompanyList[0].warehouseList,this.branchCompanyList)this.branchCompanyList[t].id==this.middleSureSel.id&&(console.log("yyyyyyyyyyyyyyyy"),this.$refs.branchCompanyListTable.setCurrentRow(this.branchCompanyList[t]),this.filialeWarehouseList=this.branchCompanyList[t].warehouseList);else this.filialeWarehouseList=[]}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-admin-container"},[a("div",{staticClass:"container-left"},[a("div",{staticClass:"title"},[e._v("\n      公司\n    ")]),e._v(" "),a("div",{staticStyle:{padding:"0 10px","text-align":"right"}},[a("el-form",{attrs:{model:e.companyAddData,inline:""}},[a("el-form-item",{attrs:{prop:"headCompanyName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"請輸入公司名稱"},model:{value:e.companyAddData.headCompanyName,callback:function(t){e.$set(e.companyAddData,"headCompanyName",t)},expression:"companyAddData.headCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"請選擇幣種"},model:{value:e.companyAddData.currencyId,callback:function(t){e.$set(e.companyAddData,"currencyId",t)},expression:"companyAddData.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addCompany}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"20px 10px"}},[a("el-table",{ref:"companyListTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.companyList,"highlight-current-row":""},on:{"current-change":e.selCompanyChange}},[a("el-table-column",{attrs:{prop:"headCompanyName",label:"名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateCompany(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delCompany(t.row)}}},[e._v("刪除")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改公司信息",visible:e.dialogUpdateCompanyVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateCompanyVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"headCompanyName",label:"公司名稱："}},[a("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:e.updateCompanyMsg.headCompanyName,callback:function(t){e.$set(e.updateCompanyMsg,"headCompanyName",t)},expression:"updateCompanyMsg.headCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId",label:"幣種："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.updateCompanyMsg.currencyId,callback:function(t){e.$set(e.updateCompanyMsg,"currencyId",t)},expression:"updateCompanyMsg.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateCompanyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateCompanySure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除公司信息",visible:e.dialogDelCompanyVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelCompanyVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n          確定刪除該公司信息？刪除後不能恢復\n        ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelCompanyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delCompanySure}},[e._v("確 定")])],1)])],1)]),e._v(" "),a("div",{staticClass:"container-middle"},[a("div",{staticClass:"title"},[e._v("\n      公司列表\n    ")]),e._v(" "),a("div",{staticStyle:{padding:"0 10px","text-align":"right"}},[a("el-form",{staticStyle:{"text-align":"right"},attrs:{model:e.branchCompanyAddData,inline:""}},[a("el-form-item",{attrs:{prop:"branchName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"請輸入分公司名稱"},model:{value:e.branchCompanyAddData.branchName,callback:function(t){e.$set(e.branchCompanyAddData,"branchName",t)},expression:"branchCompanyAddData.branchName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"請選擇幣種"},model:{value:e.branchCompanyAddData.currencyId,callback:function(t){e.$set(e.branchCompanyAddData,"currencyId",t)},expression:"branchCompanyAddData.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addBranchCompany}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"20px 10px"}},[a("el-table",{ref:"branchCompanyListTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.branchCompanyList,"highlight-current-row":""},on:{"current-change":e.selBranchCompany}},[a("el-table-column",{attrs:{prop:"branchName",label:"名稱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{style:{"font-weight":t.row.id==e.selCompanyMsg.id?"bold":"normal"}},[e._v("\n                "+e._s(t.row.branchName))]),e._v(" "),a("span",[e._v(e._s(t.row.id==e.selCompanyMsg.id?"(總公司)":"(分公司)"))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.id!=e.selCompanyMsg.id,expression:"scope.row.id != selCompanyMsg.id"}]},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateBranchCompany(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delBranchCompany(t.row)}}},[e._v("刪除")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改分公司信息",visible:e.dialogUpdateBranchCompanyVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateBranchCompanyVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"branchName",label:"公司名稱："}},[a("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:e.updateBranchCompanyMsg.branchName,callback:function(t){e.$set(e.updateBranchCompanyMsg,"branchName",t)},expression:"updateBranchCompanyMsg.branchName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId",label:"幣種："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.updateBranchCompanyMsg.currencyId,callback:function(t){e.$set(e.updateBranchCompanyMsg,"currencyId",t)},expression:"updateBranchCompanyMsg.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateBranchCompanyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateBranchCompanySure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除分公司信息",visible:e.dialogDelBranchCompanyVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelBranchCompanyVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n          確定刪除該公司信息？刪除後不能恢復\n        ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelBranchCompanyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delBranchCompanySure}},[e._v("確 定")])],1)])],1)]),e._v(" "),a("div",{staticClass:"container-right"},[a("el-collapse",{attrs:{accordion:""},on:{change:e.patchCollapseChange},model:{value:e.activePatchName,callback:function(t){e.activePatchName=t},expression:"activePatchName"}},[a("el-collapse-item",{attrs:{title:"倉庫",name:"1"}},[a("div",[a("el-form",{staticStyle:{"text-align":"right"},attrs:{model:e.filialeWarehouseAddData,inline:""}},[a("el-form-item",{attrs:{prop:"warehouseName"}},[a("el-input",{attrs:{placeholder:"請輸入倉庫名稱"},model:{value:e.filialeWarehouseAddData.warehouseName,callback:function(t){e.$set(e.filialeWarehouseAddData,"warehouseName",t)},expression:"filialeWarehouseAddData.warehouseName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addfilialeWarehouse}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"filialeWarehouseTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.filialeWarehouseList,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"warehouseName",label:"名稱",align:"center"}}),e._v(" "),a("el-table-column",{key:1,attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateFilialeWarehouse(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delFilialeWarehouse(t.row)}}},[e._v("刪除")])],1)]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"公司管理員",name:"2"}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{model:e.companyAdministratorAddData,inline:""}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"請輸入賬號名稱"},model:{value:e.companyAdministratorAddData.username,callback:function(t){e.$set(e.companyAdministratorAddData,"username",t)},expression:"companyAdministratorAddData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"請輸入賬號密碼"},model:{value:e.companyAdministratorAddData.password,callback:function(t){e.$set(e.companyAdministratorAddData,"password",t)},expression:"companyAdministratorAddData.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addCompanyAdministrator}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"companyAdministratorTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.companyAdminList}},[a("el-table-column",{attrs:{prop:"username",label:"賬號名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateCompanyAdministrator(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delCompanyAdministrator(t.row)}}},[e._v("刪除")])],1)]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.companyId==e.selCompanyMsg.id,expression:"companyId == selCompanyMsg.id"}],attrs:{title:"普通管理賬號",name:"3"}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{model:e.normalAdminListAddData,inline:""}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"請輸入賬號名稱"},model:{value:e.normalAdminListAddData.username,callback:function(t){e.$set(e.normalAdminListAddData,"username",t)},expression:"normalAdminListAddData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"請輸入賬號密碼"},model:{value:e.normalAdminListAddData.password,callback:function(t){e.$set(e.normalAdminListAddData,"password",t)},expression:"normalAdminListAddData.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addNormalAdmin}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"normalAdminTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.normalAdminList}},[a("el-table-column",{attrs:{prop:"username",label:"賬號名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateNormalAdmin(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delNormalAdmin(t.row)}}},[e._v("刪除")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.warehouseBinding(t.row)}}},[e._v("倉庫綁定")])],1)]}}])})],1)],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改倉庫信息",visible:e.dialogUpdateCompanyWarehouseVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateCompanyWarehouseVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"warehouseName",label:"公司名稱："}},[a("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:e.updateWarehouseMsg.warehouseName,callback:function(t){e.$set(e.updateWarehouseMsg,"warehouseName",t)},expression:"updateWarehouseMsg.warehouseName"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateCompanyWarehouseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateCompanyWarehouseSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除倉庫信息",visible:e.dialogDelCompanyWarehouseVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelCompanyWarehouseVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該倉庫信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelCompanyWarehouseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delCompanyWarehouseSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改賬號信息",visible:e.dialogUpdateAccountNumberVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateAccountNumberVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"username",label:"賬號名稱："}},[a("el-input",{attrs:{placeholder:"請輸入賬號名稱"},model:{value:e.updateAccountNumberMsg.username,callback:function(t){e.$set(e.updateAccountNumberMsg,"username",t)},expression:"updateAccountNumberMsg.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"賬號密碼："}},[a("el-input",{attrs:{placeholder:"請輸入賬號密碼"},model:{value:e.updateAccountNumberMsg.password,callback:function(t){e.$set(e.updateAccountNumberMsg,"password",t)},expression:"updateAccountNumberMsg.password"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateAccountNumberVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateAccountNumber}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除賬號信息",visible:e.dialogDelAccountNumberVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelAccountNumberVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該賬號信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelAccountNumberVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delAccountNumberSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"绑定仓库",visible:e.dialogNormalWarehouseAdminVisible,width:"500px"},on:{"update:visible":function(t){e.dialogNormalWarehouseAdminVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"85px"}},[a("el-form-item",{attrs:{label:"倉庫選擇："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"可多選"},model:{value:e.normalWarehouseList,callback:function(t){e.normalWarehouseList=t},expression:"normalWarehouseList"}},e._l(e.allWarehouseList,function(e){return a("el-option",{key:e.id,attrs:{label:e.warehouseName,value:e.id}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogNormalWarehouseAdminVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.warehouseBindingSure}},[e._v("確 定")])],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("63fn"),a("v0xc")},"data-v-19d033eb",null);t.default=u.exports},U2Kl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,s=a("bOdI"),i=a.n(s),o=a("pFYg"),r=a.n(o),n=a("BO1k"),c=a.n(n),d={components:{detailsVue:a("XMJn").default},data:function(){var e=this,t=void 0;return{baseUrl:this.$store.state.baseUrl,role:null,pageSel:0,addDataConsign:{sold:null,bill:"",isReceiveCheck:!1,customer:"",soldTime:"",stockOutTime:"",sellCurrencyId:"",sellerId:"",customerType:""},sellerList:[],customerTypeList:[],addDataRules:{sold:[{required:!0,message:"請選擇庫存狀態",trigger:"change"}],bill:[{required:!1,message:"請輸入賬單號",trigger:"blur"}],sellerId:[{required:!1,message:"請選擇銷售人員",trigger:"change"}],customer:[{required:!1,message:"請選擇客戶",trigger:"change"}],customerType:[{required:!1,message:"請選擇客戶類型",trigger:"change"}],soldTime:[{required:!1,message:"請選擇日期",trigger:"change"}],stockOutTime:[{required:!1,message:"請選擇出庫時間",trigger:"change"}]},currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stateList:[{label:"已出售",value:"3"},{label:"已出库",value:"4"}],stateList2:[{label:"全部",value:""},{label:"已售未出库",value:"3"},{label:"已出库",value:"4"}],stateUpdateList:[{label:"存货",value:"1"}],sellStockList:[],customerList:[],sellOrderList:[],sellOrderTotal:0,sellKeyword:"",sellPage:1,sellSold:"",sellTime:null,dialogStateVisible:!1,updateSellMsg:{},updateSellId:null,certificateData:{id:8,bill:"20220329",companyName:"POWER EXPRESS INTERNATIONAL TRADING LIMITED",companyAddr:"7F,68 Kimberley Road, Tsim Sha Tsui, Kowloon",paymentTerms:"C.O.D",bankAccountName:"Power Express International Trading Limited (威通國際貿易有限公司)",bankName:"BANK OF COMMUNICATIONS CO., LTD (交通銀行)",bankCode:"027",bankAccountNumber:"8411 - 0124 - 4401",swiftCode:"COMMHKHH",bankAddr:"20 Pedder Street, Central, Hong Kong (香港中環畢打街20號)"},BagBillList:[],printLoading:!1,printData:{id:"printArea",popTitle:"",extraHead:"",preview:!1,beforeOpenCallback:function(){console.log("开始打印之前！")},openCallback:function(){t.close(),console.log("执行打印了！")},closeCallback:function(){console.log("关闭了打印工具！")},clickMounted:function(){console.log("点击v-print绑定的按钮了！"),t=e.$loading({lock:!0,text:"加載中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"})},standard:"",extarCss:""},dialogDownloadVisible:!1,downloadType:null,deleteBill:null,dialogDeleteBillVisible:!1,subTotal:0,pdfUrl:"",isShow:!1,currencyGlobal:"",updateId:null,numIsEquality:!1,updateBill:null}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.role=sessionStorage.getItem("role"),this.getSellOrderList(),this.getSellerAndCustomerType()},mounted:function(){this.getCustomerList()},methods:(l={editProduct:function(e){this.updateId=e.id,this.pageSel=1,document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(){this.pageSel=0,this.page=1,this.getSellOrderList(),document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})},gobackAdd:function(){this.pageSel=0},getSubPrice:function(){this.subTotal=0;var e=!0,t=!1,a=void 0;try{for(var l,s=c()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;this.subTotal+=Number(i.saleTotalHkPrice)+Number(i.saleLogHkPrice)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}},getIsHeadConsigns:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=c()(this.sellStockList);!(e=(l=s.next()).done);e=!0){if(1==l.value.isHeadConsigns)return 1}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}return 0},getHeadCurrency:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=c()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;if(3==i.headCurrency.length)return i.headCurrency}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}return""},getNumber:function(e){e.saleTotalHkPrice=this.getPriceNum(e.saleTotalHkPrice),this.getSubPrice()},cancelSales:function(e){console.log(e),this.deleteBill=e.bill,this.dialogDeleteBillVisible=!0},cancelSureSales:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderRevoke?bill="+this.deleteBill).then(function(t){console.log(t),e.dialogDeleteBillVisible=!1,200==t.status&&(e.$message.success({message:"撤銷成功",showClose:!0,duration:2e3}),e.getSellOrderList())}).catch(function(t){console.log(t),e.dialogDeleteBillVisible=!1,e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},printSalesCredentials:function(e){var t=this;console.log(e),this.updateBill=e,this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/salesCredentials?bill="+this.updateBill).then(function(e){console.log("銷售憑證"),console.log(e),t.certificateData=e.data,t.pageSel=4,document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},blobToArrayBuffer:function(e,t){var a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){return t(this.result)}},submitExcel:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/electronicBillingSave",this.certificateData.electronicBill).then(function(t){console.log("修改下載憑證"),console.log(t),e.$message.success({message:"憑證信息修改成功",showClose:!0,duration:2e3}),e.printSalesCredentials(e.updateBill)}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},downloadExcel:function(){this.downloadType=null,this.dialogDownloadVisible=!0},downloadSureExcel:function(){var e=this;this.dialogDownloadVisible=!1;var t=this.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/electronicBillingExport?id="+this.certificateData.electronicBill.id+"&type="+this.downloadType,{responseType:"blob"}).then(function(a){t.close(),console.log("下載憑證"),console.log(a);var l=document.createElement("a");if(1==e.downloadType){var s=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});l.style.display="none",l.href=URL.createObjectURL(s),l.setAttribute("download","Inv"+e.certificateData.bill+".xlsx")}else if(2==e.downloadType){var i=new Blob([a.data],{type:"application/pdf;charset=utf-8"});l.style.display="none",l.href=URL.createObjectURL(i),l.setAttribute("download","Inv"+e.certificateData.bill+".pdf")}document.body.appendChild(l),l.click(),document.body.removeChild(l)}).catch(function(a){t.close(),console.log(a),e.$message.error({message:a.data.status,showClose:!0,duration:2e3})})},updateSellOrder:function(e){console.log(e),this.updateSellId="修改",this.addDataConsign.sold=e.sold+"",this.addDataConsign.bill=e.bill,this.addDataConsign.isReceiveCheck=0!=e.isReceiveCheck,this.addDataConsign.customer=e.customer,this.addDataConsign.sellerId=e.sellerId,this.addDataConsign.customerType=e.customerType,this.addDataConsign.soldTime=e.soldTime,this.addDataConsign.stockOutTime=e.stockOutTime,this.addDataConsign.sellCurrencyId=e.sellCurrencyId?e.sellCurrencyId+"":"",this.sellStockList=e.stockList;var t=this.sellStockList.map(function(e){return{stockId:e.id,productCode:e.productCode,pic:e.pic,pics:e.pics,name:e.name,priceTran:e.priceTran,saleLogHkPrice:e.saleLogHkPrice,saleTotalHkPrice:e.saleTotalHkPrice,note:e.note,headSellMoney:e.headSellMoney,isHeadConsigns:e.isHeadConsigns,headCurrency:e.headCurrency,totalBillSaleMoney:e.totalBillSaleMoney}});this.sellStockList=t,this.getSubPrice(),this.pageSel=2,this.stateChange(),document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})},salesReturn:function(e){console.log(e),this.updateSellMsg=e,this.updateSellMsg.sold="1",this.dialogStateVisible=!0},salesReturnSure:function(){var e=this;this.updateSellMsg.createTime&&this.updateSellMsg.sold?this.$axios.put(this.baseUrl+"/stateSave",{id:this.updateSellMsg.id,sold:this.updateSellMsg.sold,createTime:this.updateSellMsg.createTime,note:this.updateSellMsg.note}).then(function(t){console.log(t),200==t.status&&(e.$message.success({message:"退貨成功",showClose:!0,duration:2e3}),e.dialogStateVisible=!1,e.getSellOrderList())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})}):this.$message.error({message:"庫存狀態/入庫時間不能為空",showClose:!0,duration:2e3})},dataCheck:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=c()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;if(1==i.isHeadConsigns&&""==i.headSellMoney)return this.$message.error({message:"貨號 "+i.productCode+" 請輸入出售"+this.currencyFontRgx(this.getHeadCurrency())+"金額，用於與總公司結算",showClose:!0,duration:2e3}),1;if(-1==i.isHeadConsigns&&""==i.saleTotalHkPrice)return this.$message.error({message:"貨號 "+i.productCode+" 請輸入出售"+this.currencyFontRgx(this.currencyGlobal)+"金額",showClose:!0,duration:2e3}),1}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}return 0},submitSales:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log(t.sellStockList),t.sellStockList.forEach(function(e){if(t.$set(e,"sellCurrencyId",t.addDataConsign.sellCurrencyId),e.totalBillSaleMoney&&e.saleTotalHkPrice&&e.totalBillSaleMoney!=e.saleTotalHkPrice){t.numIsEquality=!0;var a="貨號"+e.productCode+"賬單出售記錄總金額為："+e.totalBillSaleMoney+t.currencyGlobal+" ,您錄入的出售金額為："+e.saleTotalHkPrice+t.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";t.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log("確定提交"),t.numIsEquality=!1,t.updateRequest()}).catch(function(){console.log("取消提交")})}else t.numIsEquality=!1}),4==t.addDataConsign.sold?1!=t.dataCheck()&&0==t.numIsEquality&&t.updateRequest():0==t.numIsEquality&&t.updateRequest()})},updateRequest:function(){var e=this;console.log("修改銷售單"),console.log(this.addDataConsign),this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderUpdate",{sold:this.addDataConsign.sold,bill:this.addDataConsign.bill,customer:this.addDataConsign.customer,soldTime:this.addDataConsign.soldTime,stockOutTime:4==this.addDataConsign.sold?this.addDataConsign.stockOutTime:null,isReceiveCheck:0==this.addDataConsign.isReceiveCheck?0:1,sellCurrencyId:this.addDataConsign.sellCurrencyId,sellStockList:this.sellStockList,sellerId:this.addDataConsign.sellerId,customerType:this.addDataConsign.customerType}).then(function(t){console.log("修改銷售單信息"),console.log(t),200==t.status&&(e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.pageSel=0,document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"}),e.getSellOrderList())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},querySearch:function(e,t){console.log(void 0===e?"undefined":r()(e));var a=this.customerList,l=!0,s=!1,i=void 0;try{for(var o,n=c()(a);!(l=(o=n.next()).done);l=!0){var d=o.value;d.value=d.name}}catch(e){s=!0,i=e}finally{try{!l&&n.return&&n.return()}finally{if(s)throw i}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.addDataConsign.customer=e.value},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":r()(e));var a=this.customerTypeList,l=!0,s=!1,i=void 0;try{for(var o,n=c()(a);!(l=(o=n.next()).done);l=!0){var d=o.value;d.value=d.name}}catch(e){s=!0,i=e}finally{try{!l&&n.return&&n.return()}finally{if(s)throw i}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.addDataConsign.customerType=e.value},stateChange:function(){console.log(this.addDataConsign.sold),3==this.addDataConsign.sold?(console.log("33333333"),this.addDataRules.bill[0].required=!1,this.addDataRules.customer[0].required=!1,this.addDataRules.sellerId[0].required=!1,this.addDataRules.customerType[0].required=!1,this.addDataRules.soldTime[0].required=!1,this.addDataRules.stockOutTime[0].required=!1):4==this.addDataConsign.sold&&(console.log("4444444444"),this.addDataRules.bill[0].required=!0,this.addDataRules.customer[0].required=!0,this.addDataRules.sellerId[0].required=!0,this.addDataRules.customerType[0].required=!0,this.addDataRules.soldTime[0].required=!0,this.addDataRules.stockOutTime[0].required=!0)},getRowKeys:function(e){return e.id},goback:function(){this.pageSel=0}},i()(l,"gobackAdd",function(){this.pageSel=0}),i()(l,"bigImg",function(e){if(e)return e.split("|").filter(function(e){return e&&e.trim()})}),i()(l,"isSellHKD",function(e){2==this.addDataConsign.sellCurrencyId?(e.saleTotalHkPrice=e.priceTran,this.getSubPrice()):e.saleTotalHkPrice=""}),i()(l,"getCustomerList",function(){var e=this;this.$axios.get(this.baseUrl+"/consumerListGet").then(function(t){console.log("客户列表"),console.log(t),e.customerList=t.data}).catch(function(e){console.log(e)})}),i()(l,"handleCurrentChangeSell",function(e){this.sellPage=e,this.getSellOrderList(),document.getElementById("salesHistoryContainer").scrollIntoView({behavior:"smooth"})}),i()(l,"searchSell",function(){this.sellPage=1,this.getSellOrderList()}),i()(l,"getSellOrderList",function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderList",{page:this.sellPage,pageNum:5,keyword:this.sellKeyword,sold:this.sellSold,startTime:this.sellTime?this.sellTime[0]:"",endTime:this.sellTime?this.sellTime[1]:""}).then(function(t){console.log("銷售單列表"),console.log(t),e.sellOrderList=t.data.data,e.sellOrderTotal=t.data.total}).catch(function(e){console.log(e)})}),l)},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"salesHistoryContainer"}},[l("div",{staticClass:"new-consignment-container"},[l("div",{directives:[{name:"show",rawName:"v-show",value:0===e.pageSel,expression:"pageSel === 0"}]},[l("div",{staticClass:"back-style"},[l("el-form",{attrs:{inline:""}},[l("el-form-item",{attrs:{label:"庫存狀態"}},[l("el-select",{model:{value:e.sellSold,callback:function(t){e.sellSold=t},expression:"sellSold"}},e._l(e.stateList2,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"出售時間"}},[l("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.sellTime,callback:function(t){e.sellTime=t},expression:"sellTime"}})],1),e._v(" "),l("el-form-item",[l("el-input",{staticStyle:{width:"450px"},attrs:{placeholder:"可輸入賬單號、商品貨號、客戶名稱搜索",clearable:""},model:{value:e.sellKeyword,callback:function(t){e.sellKeyword=t},expression:"sellKeyword"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.searchSell}},[e._v("查詢")])],1)],1)],1),e._v(" "),0==e.sellOrderList.length?l("div",{staticStyle:{width:"100%",padding:"20px 0","margin-top":"20px","text-align":"center","background-color":"#fff","border-radius":"6px"}},[e._v("\n        暫無數據\n      ")]):l("div",{staticStyle:{"margin-top":"20px"}},[e._l(e.sellOrderList,function(t,a){return l("div",{key:a,staticStyle:{padding:"20px","margin-bottom":"20px","background-color":"#fff","border-radius":"6px"}},[l("div",[l("div",{staticClass:"bill-container"},[l("div",{staticClass:"container-top-left"},[l("div",{staticStyle:{"font-size":"16px",color:"#000"}},[e._v("\n                  賬單號："),l("span",{staticStyle:{"font-size":"14px",color:"#666"}},[e._v(e._s(t.bill))])]),e._v(" "),l("div",{staticStyle:{"margin-left":"30px","font-size":"16px",color:"#000"}},[e._v("\n                  出售時間："),l("span",{staticStyle:{"font-size":"14px",color:"#666"}},[e._v(e._s(t.soldTime))])]),e._v(" "),l("div",{staticStyle:{"margin-left":"30px","font-size":"16px",color:"#000"}},[e._v("\n                  客戶名稱："),l("span",{staticStyle:{"font-size":"14px",color:"#666"}},[e._v(e._s(t.customer))])])]),e._v(" "),l("div",{staticClass:"print"},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.updateSellOrder(t)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.printSalesCredentials(t.bill)}}},[e._v("銷售憑證")]),e._v(" "),l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.cancelSales(t)}}},[e._v("撤銷")]),e._v(" "),l("el-dialog",{attrs:{title:"撤銷",visible:e.dialogDeleteBillVisible},on:{"update:visible":function(t){e.dialogDeleteBillVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n                    確定刪除該銷售單？刪除後不可恢復\n                  ")]),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogDeleteBillVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.cancelSureSales}},[e._v("确 定")])],1)])],1)]),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:t.stockList}},[l("el-table-column",{attrs:{width:"80px",align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),l("el-table-column",{attrs:{width:"120px",align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"priceTran",label:"出售外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(t.row.priceTran?e.formatNumberRgx(t.row.priceTran)+" "+e.currencyRgx(t.row.sellCurrencyId):"--")+"\n                  ")])]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleLogHkPrice",label:"物流費/手續費("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(t.row.saleLogHkPrice?e.formatNumberRgx(t.row.saleLogHkPrice)+" "+e.currencyGlobal:"--")+"\n                  ")])]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice",label:"出售"+e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(t.row.saleTotalHkPrice?e.formatNumberRgx(t.row.saleTotalHkPrice)+" "+e.currencyGlobal:"--")+"\n                  ")])]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"note",label:"備註"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[l("div",{staticClass:"tooltipWarp",attrs:{slot:"content"},slot:"content"},[e._v("\n                        "+e._s(t.row.note)+"\n                      ")]),e._v(" "),l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.note))])])],1)]}}],null,!0)}),e._v(" "),l("el-table-column",{attrs:{width:"120px",align:"center",prop:"note",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.salesReturn(t.row)}}},[e._v("退貨")]),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row)}}},[e._v("詳情")]),e._v(" "),e.dialogStateVisible?l("el-dialog",{attrs:{title:"退貨",visible:e.dialogStateVisible,width:"800px","close-on-press-escape":!1,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0},on:{"update:visible":function(t){e.dialogStateVisible=t}}},[l("div",[l("el-form",{attrs:{"label-width":"110px"}},[l("el-form-item",{attrs:{label:"庫存狀態",required:""}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.updateSellMsg.sold,callback:function(t){e.$set(e.updateSellMsg,"sold",t)},expression:"updateSellMsg.sold"}},e._l(e.stateUpdateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"入庫時間",required:""}},[l("el-form-item",[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"請選擇日期時間","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.updateSellMsg.createTime,callback:function(t){e.$set(e.updateSellMsg,"createTime",t)},expression:"updateSellMsg.createTime"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"備註"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.updateSellMsg.note,callback:function(t){e.$set(e.updateSellMsg,"note",t)},expression:"updateSellMsg.note"}})],1)],1)],1),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogStateVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.salesReturnSure}},[e._v("确 定\n                        ")])],1)]):e._e()],1)]}}],null,!0)})],1)],1)])}),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.sellPage,"page-size":5,layout:"total, prev, pager, next, jumper",total:e.sellOrderTotal},on:{"current-change":e.handleCurrentChangeSell}})],1)],2)]),e._v(" "),1==e.pageSel?l("div",[l("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.gobackAdd,updateSuccess:e.updateSuccess}})],1):e._e(),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:2===e.pageSel,expression:"pageSel === 2"}],staticClass:"back-style"},[l("div",{staticStyle:{width:"60px","margin-bottom":"20px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:e.gobackAdd}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("div",[l("el-form",{ref:"addSalesTicketForm",attrs:{model:e.addDataConsign,rules:e.addDataRules,"label-width":"98px"}},[l("el-form-item",{attrs:{label:"庫存狀態",required:""}},[l("el-form-item",{attrs:{prop:"sold"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇"},on:{change:e.stateChange},model:{value:e.addDataConsign.sold,callback:function(t){e.$set(e.addDataConsign,"sold",t)},expression:"addDataConsign.sold"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"bill",label:"賬單號"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入賬單號"},model:{value:e.addDataConsign.bill,callback:function(t){e.$set(e.addDataConsign,"bill",t)},expression:"addDataConsign.bill"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否收款完成",prop:"isReceiveCheck"}},[l("el-switch",{model:{value:e.addDataConsign.isReceiveCheck,callback:function(t){e.$set(e.addDataConsign,"isReceiveCheck",t)},expression:"addDataConsign.isReceiveCheck"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"銷售人員",prop:"sellerId"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇銷售人員"},model:{value:e.addDataConsign.sellerId,callback:function(t){e.$set(e.addDataConsign,"sellerId",t)},expression:"addDataConsign.sellerId"}},e._l(e.sellerList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"客戶姓名",prop:"customer"}},[l("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"請選擇/輸入客戶姓名"},on:{select:e.handleSelect},model:{value:e.addDataConsign.customer,callback:function(t){e.$set(e.addDataConsign,"customer",t)},expression:"addDataConsign.customer"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"客戶類型",prop:"customerType"}},[l("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"請選擇/輸入客戶類型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.addDataConsign.customerType,callback:function(t){e.$set(e.addDataConsign,"customerType",t)},expression:"addDataConsign.customerType"}})],1),e._v(" "),l("el-form-item",{attrs:{prop:"soldTime",label:"出售日期"}},[l("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇"},model:{value:e.addDataConsign.soldTime,callback:function(t){e.$set(e.addDataConsign,"soldTime",t)},expression:"addDataConsign.soldTime"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.addDataConsign.sold,expression:"addDataConsign.sold == 4"}],attrs:{label:"出庫時間",prop:"stockOutTime"}},[l("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"請選擇日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.addDataConsign.stockOutTime,callback:function(t){e.$set(e.addDataConsign,"stockOutTime",t)},expression:"addDataConsign.stockOutTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"外幣金額幣種",prop:"sellCurrencyId"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},model:{value:e.addDataConsign.sellCurrencyId,callback:function(t){e.$set(e.addDataConsign,"sellCurrencyId",t)},expression:"addDataConsign.sellCurrencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("div",[l("el-table",{attrs:{border:"",data:e.sellStockList}},[l("el-table-column",{attrs:{width:"80px",align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),l("el-table-column",{attrs:{width:"120px",align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"priceTran",label:"出售外幣金額\n              "},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.isSellHKD(t.row)}},model:{value:t.row.priceTran,callback:function(a){e.$set(t.row,"priceTran",a)},expression:"scope.row.priceTran"}},[l("i",{staticStyle:{color:"#000","font-style":"normal","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.currencyRgx(e.addDataConsign.sellCurrencyId)))])])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleLogHkPrice",label:"物流費/手續費("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:e.getSubPrice},model:{value:t.row.saleLogHkPrice,callback:function(a){e.$set(t.row,"saleLogHkPrice",a)},expression:"scope.row.saleLogHkPrice"}})],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice"},scopedSlots:e._u([{key:"header",fn:function(t){return[l("div",[l("span",[e._v("出售"+e._s(e.currencyFontRgx(e.currencyGlobal))+"金額")]),e._v(" "),l("span",{directives:[{name:"show",rawName:"v-show",value:4==e.addDataConsign.sold&&0==e.getIsHeadConsigns(),expression:"\n                      addDataConsign.sold == 4 && getIsHeadConsigns() == 0\n                    "}],staticStyle:{color:"red"}},[e._v("*")])])]}},{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.getNumber(t.row)}},model:{value:t.row.saleTotalHkPrice,callback:function(a){e.$set(t.row,"saleTotalHkPrice",a)},expression:"scope.row.saleTotalHkPrice"}})],1)]}}])}),e._v(" "),e.getIsHeadConsigns()?l("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice"},scopedSlots:e._u([{key:"header",fn:function(t){return[l("div",[l("span",[e._v("出售"+e._s(e.currencyFontRgx(e.getHeadCurrency()))+"金額")]),e._v(" "),l("span",{directives:[{name:"show",rawName:"v-show",value:4==e.addDataConsign.sold,expression:"addDataConsign.sold == 4"}],staticStyle:{color:"red"}},[e._v("*")])])]}},{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},model:{value:t.row.headSellMoney,callback:function(a){e.$set(t.row,"headSellMoney",a)},expression:"scope.row.headSellMoney"}})],1)]}}],null,!1,148971602)}):e._e(),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"note",label:"備註"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-input",{attrs:{type:"textarea",placeholder:"请输入",clearable:""},model:{value:t.row.note,callback:function(a){e.$set(t.row,"note",a)},expression:"scope.row.note"}})],1)]}}])})],1),e._v(" "),l("div",[l("p",{staticStyle:{"text-align":"right"}},[e._v("\n              總金額："+e._s(e.formatNumberRgx(e.subTotal)+" "+e.currencyGlobal)+"\n            ")])])],1),e._v(" "),l("div",{staticStyle:{margin:"20px 40px 20px 0","text-align":"right"}},[l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){return e.submitSales("addSalesTicketForm")}}},[e._v("提 交")])],1)],1)]),e._v(" "),4==e.pageSel?l("div",{staticClass:"back-style"},[l("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[l("div",{staticStyle:{width:"60px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:e.goback}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("div",[l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.submitExcel}},[e._v("保存憑證")]),e._v(" "),l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.downloadExcel}},[e._v("下載憑證")]),e._v(" "),l("el-button",{directives:[{name:"print",rawName:"v-print",value:e.printData,expression:"printData"}],attrs:{type:"primary"}},[e._v("打印憑證")]),e._v(" "),l("el-dialog",{attrs:{width:"400px",title:"選擇下載格式",visible:e.dialogDownloadVisible},on:{"update:visible":function(t){e.dialogDownloadVisible=t}}},[l("div",{attrs:{id:"selectType"}},[l("el-form",[l("el-form-item",{attrs:{label:""}},[l("el-radio-group",{on:{change:e.downloadSureExcel},model:{value:e.downloadType,callback:function(t){e.downloadType=t},expression:"downloadType"}},[l("el-radio",{attrs:{label:1}},[l("img",{staticStyle:{width:"80px",height:"80px","object-fit":"cover"},attrs:{src:a("DRmM")}})]),e._v(" "),l("el-radio",{attrs:{label:2}},[l("img",{staticStyle:{width:"80px",height:"80px","object-fit":"cover"},attrs:{src:a("Mqg4")}})])],1)],1)],1)],1)])],1)]),e._v(" "),l("div",{ref:"reconciliationWrapper",staticStyle:{margin:"30px","padding-bottom":"50px"},attrs:{id:"printArea"}},[e._m(0),e._v(" "),l("div",{staticStyle:{width:"395px"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.companyName,expression:"certificateData.electronicBill.companyName"}],attrs:{type:"text",placeholder:"請輸入公司名稱"},domProps:{value:e.certificateData.electronicBill.companyName},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"companyName",t.target.value)}}})]),e._v(" "),l("div",{staticStyle:{width:"395px"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.companyAddr,expression:"certificateData.electronicBill.companyAddr"}],attrs:{type:"text",placeholder:"請輸入公司地址"},domProps:{value:e.certificateData.electronicBill.companyAddr},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"companyAddr",t.target.value)}}})]),e._v(" "),l("div",{staticStyle:{"margin-top":"20px","text-align":"center","font-size":"24px","font-weight":"bold"}},[e._v("\n          Invoice\n        ")]),e._v(" "),l("div",{staticStyle:{"margin-top":"20px","text-align":"left","font-size":"16px","font-weight":"bold"}},[e._v("\n          To："+e._s(e.certificateData.customer)+"\n        ")]),e._v(" "),l("div",{staticStyle:{"text-align":"right"}},[l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Invoice No.:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.certificateData.bill)+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Invoice Date:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.certificateData.soldTime)+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Payment Terms:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.paymentTerms,expression:"certificateData.electronicBill.paymentTerms"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.paymentTerms},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"paymentTerms",t.target.value)}}})])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Currency:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.certificateData.currency)+"\n            ")])])]),e._v(" "),l("table",{staticStyle:{width:"100%",margin:"20px 0","border-spacing":"0","border-collapse":"collapse"},attrs:{border:""}},[e._m(1),e._v(" "),e._l(e.certificateData.stockDetailList,function(t){return l("tr",{key:t.id,staticStyle:{width:"100%"}},[l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              Hermes\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center"}},[l("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.pics.split("|")[0]}})]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.productCode)+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.model)+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.size?t.size:"-")+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.color?t.color:"-")+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(t.leather?t.leather:"-")+"\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              1\n            ")]),e._v(" "),l("td",{staticStyle:{width:"10%",padding:"10px","text-align":"center","font-size":"14px"}},[e._v("\n              "+e._s(e.formatNumberRgx(t.priceTran))+"\n            ")])])})],2),e._v(" "),l("div",{staticStyle:{"text-align":"right"}},[l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Subtotal:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.formatNumberRgx(e.certificateData.subtotal))+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Shipping Cost:\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.formatNumberRgx(e.certificateData.shippingCost))+"\n            ")])]),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[l("div",{staticStyle:{width:"150px","margin-right":"5px","margin-bottom":"5px","text-align":"right","font-size":"15px"}},[e._v("\n              Total in "+e._s(e.currencyGlobal)+":\n            ")]),e._v(" "),l("div",{staticStyle:{width:"100px","text-align":"left","font-size":"15px"}},[e._v("\n              "+e._s(e.formatNumberRgx(e.certificateData.totalInHkd))+"\n            ")])])]),e._v(" "),l("div",{staticStyle:{"margin-top":"30px",display:"flex","justify-content":"space-between","align-items":"center"}},[l("el-form",{attrs:{"label-width":"235px"}},[l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank account name (收款人):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankAccountName,expression:"certificateData.electronicBill.bankAccountName"}],staticStyle:{width:"460px"},attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankAccountName},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankAccountName",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank Name (銀行名稱):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankName,expression:"certificateData.electronicBill.bankName"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankName},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankName",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank Code (銀行代碼):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankCode,expression:"certificateData.electronicBill.bankCode"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankCode},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankCode",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank account Number (收款賬號):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankAccountNumber,expression:"certificateData.electronicBill.bankAccountNumber"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankAccountNumber},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankAccountNumber",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Swift code (銀行國際代碼):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.swiftCode,expression:"certificateData.electronicBill.swiftCode"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.swiftCode},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"swiftCode",t.target.value)}}})]),e._v(" "),l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[l("span",{staticStyle:{"font-size":"14px",color:"#000"}},[e._v("Bank Address (銀行地址):")])]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.certificateData.electronicBill.bankAddr,expression:"certificateData.electronicBill.bankAddr"}],attrs:{type:"text"},domProps:{value:e.certificateData.electronicBill.bankAddr},on:{input:function(t){t.target.composing||e.$set(e.certificateData.electronicBill,"bankAddr",t.target.value)}}})])],1),e._v(" "),e._m(2)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"20px","font-weight":"bold","font-size":"14px"}},[e._v("\n          此單所列貨物均為香港交貨價，如需攜帶出香港請貴客自行向所到地海關申報，並承擔有關費用，本公司概不負責!\n        ")])])]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:a("+jss")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticStyle:{width:"100%"}},[a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Brand\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Images\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Product No.\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Model\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Size\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Color\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Leather\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              Qty\n            ")]),e._v(" "),a("th",{staticStyle:{width:"10%",padding:"10px","text-align":"center","background-color":"#ccc",color:"#fff"}},[e._v("\n              AMOUNT\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{width:"250px","text-align":"center"}},[t("img",{attrs:{src:a("0L8t")}}),this._v(" "),t("div",{staticStyle:{width:"259px"}},[t("img",{attrs:{src:a("99yL")}})]),this._v(" "),t("div",{staticStyle:{"text-align":"right"}},[this._v("Stamp")])])}]};var p=a("VU/8")(d,u,!1,function(e){a("ZTWj"),a("2/eQ")},"data-v-5af70a38",null);t.default=p.exports},U2gf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),s=a.n(l),i={data:function(){return{warehouseList:[],dialogUpdateCompanyWarehouseVisible:!1,updateWarehouseMsg:{}}},created:function(){this.getData()},methods:{updateWarehouse:function(e){console.log(e),this.updateWarehouseMsg=JSON.parse(s()(e)),this.dialogUpdateCompanyWarehouseVisible=!0},updateCompanyWarehouseSure:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/companyWarehouseSave",{id:this.updateWarehouseMsg.id,companyId:this.updateWarehouseMsg.companyId,warehouseName:this.updateWarehouseMsg.warehouseName}).then(function(t){console.log("修改倉庫"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.getData(),e.dialogUpdateCompanyWarehouseVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},getData:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/company/companyMsgGet").then(function(t){console.log("公司管理數據"),console.log(t),e.warehouseList=t.data}).catch(function(e){console.log(e)})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"normal-admin-container"},[a("div",{staticStyle:{"padding-bottom":"20px","font-size":"20px","font-weight":"bold"}},[e._v("\n    管理倉庫列表\n  ")]),e._v(" "),a("el-table",{staticStyle:{width:"500px"},attrs:{border:"",data:e.warehouseList}},[a("el-table-column",{attrs:{prop:"warehouseName",label:"倉庫名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.updateWarehouse(t.row)}}},[e._v("修改信息")]),e._v(" "),a("el-dialog",{attrs:{title:"修改倉庫信息",visible:e.dialogUpdateCompanyWarehouseVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateCompanyWarehouseVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"warehouseName",label:"公司名稱："}},[a("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:e.updateWarehouseMsg.warehouseName,callback:function(t){e.$set(e.updateWarehouseMsg,"warehouseName",t)},expression:"updateWarehouseMsg.warehouseName"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateCompanyWarehouseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateCompanyWarehouseSure}},[e._v("確 定")])],1)])],1)}}])})],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(e){a("mvtP")},"data-v-37f0da76",null);t.default=r.exports},UF1d:function(e,t){},UN6Q:function(e,t){},"V/l6":function(e,t){},"Vi+3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RjdBODA1NjYwN0QxMUVCODdDOEVGMEZFQjQ0Mjc4MSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RjdBODA1NzYwN0QxMUVCODdDOEVGMEZFQjQ0Mjc4MSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVGN0E4MDU0NjA3RDExRUI4N0M4RUYwRkVCNDQyNzgxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVGN0E4MDU1NjA3RDExRUI4N0M4RUYwRkVCNDQyNzgxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YnIwGgAAAV9JREFUeNqM1M0rRFEYx/F7NcVCsTGL2chCsvG2YxZYiqQQYi8ZI1ssaJQShYXwD1hSkgW2ljYSWSqErIYsGHyf6Zk6ne7LeerTzDmdfvfcM88cP5vLewHVjhE04xib+A1auLVYWfxMWPM+tpEx5rowiAG8eSFVZo2nrJBSdWDPiyg7KBOxVnaUcgmqQWNEkLx2t0tQ0ouvpEvQA/5igt5dgqQPziNC5EEnroe9FLLuFE26owXc261jB11iBgVj7lH76Fb6Dy2oRy9eZlc+hoOCpI7wbYw39OyekcWQsa4ar3ZQOSZxhQpj/hATuNax7OxAv98gza5SCQ3LYRpVATuU0H3tI6kdHY+iVeUlZA7zISFSX2jAso7X9LB93X1awiWoJ6Z3xvGkfx/5ET5RKweNNtRxAxTk1VbxY52LWZ3YxZleKf16xcitsK7nVOyFCxVXY0bjSj/doa90H/0LMABV6EooSgsaJAAAAABJRU5ErkJggg=="},Vnrh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("pFYg"),s=a.n(l),i=a("BO1k"),o=a.n(i),r=a("mvHQ"),n=a.n(r),c={data:function(){return{baseUrl:this.$store.state.baseUrl,productCode:"",dialogCodeVisible:!1,isClick:!1,billData:{personId:"",time:new Date,tradeType:"",payeeId:"",productDes:"",money:"",currencyId:"",totalToHkRate:"",totalHkPrice:"",receiveType:"",remark:"",stockList:[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}]},billRules:{personId:[{required:!0,message:"請選擇賬戶",trigger:"change"}],time:[{required:!0,message:"請選擇賬單日期",trigger:"change"}],tradeType:[{required:!0,message:"請選擇交易類型",trigger:"change"}],payeeId:[{required:!1,message:"請選擇收款賬戶",trigger:"change"}],money:[{required:!1,message:"請輸入外幣金額",trigger:"blur"}],totalHkPrice:[{required:!0,message:"請輸入金額",trigger:"blur"}]},userList:[],typeList:[{label:"買入",value:0},{label:"賣出",value:1},{label:"轉賬",value:2},{label:"買入退款",value:3},{label:"賣出退款",value:4},{label:"其他收入",value:5},{label:"其他支出",value:6}],currencyIds:[{value:1,label:"CNY人民币"},{value:2,label:"HKD港币"},{value:3,label:"USD美元"},{value:4,label:"EUR欧元"},{value:5,label:"GBP英镑"},{value:6,label:"AUD澳元"}],meansList:[],billList:[],dialogDelVisible:!1,delId:null,productCodeIsKong:!1,productCodeIsNull:!0,personType:null,payeeType:null,personCurrency:null,payeeCurrency:null,companyCurrency:"",accountNumberType:null,currencyGlobal:""}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.$nextTick(function(){document.getElementById("billEntryContainer").scrollIntoView({behavior:"smooth"})}),this.getBillUserList(),this.getMeansList();var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var l=e.getDate(),s=t+"-"+a+"-"+(l=l<10?"0"+l:l);this.billData.time=s,this.accountNumberType=sessionStorage.getItem("type")},methods:{personShow:function(){return console.log(this.billData.tradeType),1==this.billData.tradeType||3==this.billData.tradeType||5==this.billData.tradeType?"收款賬戶":0==this.billData.tradeType||2==this.billData.tradeType||4==this.billData.tradeType||6==this.billData.tradeType?"支出賬戶":void 0},updateBill:function(e,t){this.isClick=!1,this.billData=JSON.parse(n()(e)),0==this.billData.stockList.length?(this.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}],this.productCodeIsNull=!0):this.productCodeIsNull=!1},updateBillSure:function(){1==this.isClick&&""!=this.billData.stockList[0].productCode?this.$message.error({message:"有貨號查詢產品描述失敗，請檢查貨號輸入是否正確",showClose:!0,duration:5e3}):(this.isKong(),0==this.productCodeIsKong?(console.log("通過"),this.updateData()):(console.log("不通過"),this.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}]))},updateData:function(){var e=this;this.$refs.billForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$axios.post(e.baseUrl+"/billSave",e.billData).then(function(t){if(console.log("修改賬單信息"),console.log(t),200===t.status){e.$message.success({message:"賬單信息修改成功",showClose:!0,duration:2e3});var a=e.billData.personId;e.$refs.billForm.resetFields(),e.billData.id=null,e.billData.currencyId="",e.billData.totalToHkRate="",e.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}],e.billData.personId=a,e.getBillList(),document.getElementById("billEntryContainer").scrollIntoView({behavior:"smooth"})}}).catch(function(t){console.log(t),e.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}],e.$message.error({message:t.data.status,showClose:!0,duration:3e3})})})},delBill:function(e,t){this.isClick=!1,"操作"==t.label&&(this.delId=e.id,this.dialogDelVisible=!0)},delBillSure:function(){var e=this;this.$axios.get(this.baseUrl+"/billDelete?id="+this.delId).then(function(t){console.log("刪除賬單信息"),console.log(t),200===t.status&&(e.$message.success({message:"賬單刪除成功",showClose:!0,duration:2e3}),e.dialogDelVisible=!1,e.getBillList(),document.getElementById("billEntryContainer").scrollIntoView({behavior:"smooth"}))}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:3e3})})},clearForm:function(){var e=this.billData.personId;this.$refs.billForm.resetFields(),this.billData.id=null,this.billData.currencyId="",this.billData.totalToHkRate="",this.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}],this.billData.personId=e,console.log(this.billData)},submitData:function(){var e=this;this.$refs.billForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;1==e.isClick&&""!=e.billData.stockList[0].productCode?e.$message.error({message:"有貨號查詢產品描述失敗，請檢查貨號是否正確",showClose:!0,duration:5e3}):(e.billData.id=null,e.isKong(),0==e.productCodeIsKong?(console.log("通過"),e.submitFormData()):(console.log("不通過"),0==e.billData.stockList.length&&(e.billData.stockList=[{stockId:null,productCode:"",money:e.billData.money,totalHkPrice:e.billData.totalHkPrice,saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}])))})},submitFormData:function(){var e=this;this.$axios.post(this.baseUrl+"/billSave",this.billData).then(function(t){if(console.log("提交賬單信息"),console.log(t),200===t.status){e.$message.success({message:"賬單錄入成功",showClose:!0,duration:2e3});var a=e.billData.personId;e.$refs.billForm.resetFields(),e.billData.currencyId="",e.billData.totalToHkRate="",e.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}],e.billData.personId=a,e.getBillList(),document.getElementById("billEntryContainer").scrollIntoView({behavior:"smooth"})}}).catch(function(t){console.log(t),0==e.billData.stockList.length&&(e.billData.stockList=[{stockId:null,productCode:"",money:e.billData.money,totalHkPrice:e.billData.totalHkPrice,saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}]),e.$message.error({message:t.data.status,showClose:!0,duration:3e3})})},isKong:function(){var e=this;if(this.productCodeIsKong=!1,""==this.billData.stockList[0].productCode)this.billData.stockList=[],this.productCodeIsNull=!0;else{this.productCodeIsNull=!1;var t=!0,a=!1,l=void 0;try{for(var s,i=o()(this.billData.stockList);!(t=(s=i.next()).done);t=!0){var r=s.value;if(1==this.billRules.money[0].required){if(""==r.money||0==r.money)return this.$message.error({message:"產品貨號列表外幣金額不能為空，請輸入",showClose:!0,duration:2e3}),void(this.productCodeIsKong=!0)}else this.productCodeIsKong=!1;if(2!=this.billData.tradeType&&5!=this.billData.tradeType&&6!=this.billData.tradeType){if(""==r.totalHkPrice)return this.$message.error({message:"產品貨號列表"+this.companyCurrency+"金額不能為空，請輸入",showClose:!0,duration:2e3}),void(this.productCodeIsKong=!0)}else this.productCodeIsKong=!1;if(0==this.billData.tradeType){if(r.treasuryPrices&&r.totalHkPrice&&r.treasuryPrices!=r.totalHkPrice){this.productCodeIsKong=!0;var n="貨號"+r.productCode+"入庫金額為："+r.treasuryPrices+this.currencyGlobal+" ，您錄入的買入金額為："+r.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(n,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.productCodeIsKong=!1,e.billData.id?e.updateData():e.submitFormData()}).catch(function(){console.log("取消提交")})}this.productCodeIsKong=!1}else if(1==this.billData.tradeType){if(r.saleTotalHkPrice&&r.totalHkPrice&&r.saleTotalHkPrice!=r.totalHkPrice){this.productCodeIsKong=!0;var c="貨號"+r.productCode+"出售金額為："+r.saleTotalHkPrice+this.currencyGlobal+" ，您錄入的賣出金額為："+r.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(c,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.productCodeIsKong=!1,e.billData.id?e.updateData():e.submitFormData()}).catch(function(){console.log("取消提交")})}this.productCodeIsKong=!1}}}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}if(2==this.billData.tradeType){var d;if(d=this.billData.stockList.reduce(function(e,t){return e+1*t.saleTotalHkMoney},0),this.billData.totalHkPrice&&this.saleHkMoneyTotal&&this.billData.totalHkPrice!=d){this.productCodeIsKong=!0;var u="產品列表出售總金額為："+d+this.currencyGlobal+" ，您的轉賬金額為："+this.billData.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(u,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.productCodeIsKong=!1,e.billData.id?e.updateData():e.submitFormData()}).catch(function(){console.log("取消提交")})}this.productCodeIsKong=!1}}},querySearch:function(e,t){console.log(void 0===e?"undefined":s()(e));var a=this.meansList,l=!0,i=!1,r=void 0;try{for(var n,c=o()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.billData.receiveType=e.value},personChange:function(){this.getBillList();var e=void 0,t=!0,a=!1,l=void 0;try{for(var s,i=o()(this.userList);!(t=(s=i.next()).done);t=!0){var r=s.value;if(r.id==this.billData.personId){console.log(r),this.personType=r.type,this.personCurrency=r.currencyId,e=r.companyCurrencyId,console.log(e);var n=!0,c=!1,d=void 0;try{for(var u,p=o()(this.currencyIds);!(n=(u=p.next()).done);n=!0){var m=u.value;if(m.value===e){this.companyCurrency=m.label.match(/[\u4e00-\u9fa5]/g).join("")}}}catch(e){c=!0,d=e}finally{try{!n&&p.return&&p.return()}finally{if(c)throw d}}return 2==this.billData.tradeType&&""!=this.billData.payeeId&&null!=this.billData.payeeId?2==this.personCurrency?this.billData.currencyId=this.payeeCurrency:2==this.payeeCurrency?this.billData.currencyId=this.personCurrency:this.personCurrency!=this.payeeCurrency?this.$message.error({message:"支出賬戶與收款賬戶結算幣種不同，不能轉賬"}):this.billData.currencyId=Number(r.currencyId):this.billData.currencyId=Number(r.currencyId),2==r.type||2==this.payeeType?this.billRules.money[0].required=!0:this.billRules.money[0].required=!1,void(2==this.billData.currencyId&&(this.billData.currencyId=""))}}}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}},isSam:function(){if(2==this.billData.tradeType){var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.userList);!(e=(l=s.next()).done);e=!0){var i=l.value;if(i.id==this.billData.payeeId)return this.payeeType=i.type,this.payeeCurrency=i.currencyId,2==i.type||2==this.personType?this.billRules.money[0].required=!0:this.billRules.money[0].required=!1,""!=this.billData.personId&&null!=this.billData.personId&&0!=this.personType?2==this.personCurrency?this.billData.currencyId=this.payeeCurrency:2==this.payeeCurrency?this.billData.currencyId=this.personCurrency:this.personCurrency!=this.payeeCurrency?this.$message.error({message:"支出賬戶與收款賬戶結算幣種不同，不能轉賬"}):this.billData.currencyId=Number(i.currencyId):this.billData.currencyId=Number(i.currencyId),void(2==this.billData.currencyId&&(this.billData.currencyId=""))}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}}},getBillList:function(){var e=this;console.log(this.billData.personId),this.$axios.post(this.baseUrl+"/billSearch?page=1&pageNum=10",{personId:this.billData.personId,flag:1}).then(function(t){console.log("賬單列表"),console.log(t),e.billList=t.data.list}).catch(function(e){console.log(e)})},getBillUserList:function(){var e=this;this.$axios.get(this.baseUrl+"/billUserList").then(function(t){console.log("用戶列表"),console.log(t),e.userList=t.data}).catch(function(e){console.log(e)})},searchCode:function(e,t){var a=this;console.log(e,t),e=e.trim(),this.billData.stockList[t].productCode=e,""!=e&&this.$axios.get(this.baseUrl+"/productCodeSearch?productCode="+e).then(function(l){console.log("產品描述列表"),console.log(l);var s=l.data;s.stockId?(a.billData.productDes+=s.productDes+"\n",a.isClick=!1,a.billData.stockList[t].stockId=s.stockId,a.billData.stockList[t].saleTotalHkMoney=s.saleTotalHkMoney,a.billData.stockList[t].treasuryPrices=s.totalHkPrice,a.billData.stockList[t].saleTotalHkPrice=s.saleTotalHkPrice):(a.productCode=e,a.dialogCodeVisible=!0,a.isClick=!0)}).catch(function(e){console.log(e)})},delCode:function(e){this.billData.stockList.splice(e,1);var t=this.billData.productDes.split("\n");t.splice(e,1),this.billData.productDes=t.join("\n"),this.tableHKPriceChange()},addCode:function(){this.billData.stockList.push({stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0})},tablePriceChange:function(e){e.money=this.getPriceNum(e.money),e.totalHkPrice=this.getIntegerNum(e.totalHkPrice),0!=e.money&&""!=e.money&&""!=this.billData.totalToHkRate&&(1==this.billData.currencyId&&this.billData.totalToHkRate<1?e.totalHkPrice=(e.money/this.billData.totalToHkRate).toFixed(0):e.totalHkPrice=(e.money*this.billData.totalToHkRate).toFixed(0)),this.tableHKPriceChange()},hkRateTableNum:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.billData.stockList);!(e=(l=s.next()).done);e=!0){var i=l.value;1==this.billData.currencyId&&this.billData.totalToHkRate<1?i.totalHkPrice=(i.money/this.billData.totalToHkRate).toFixed(0):i.totalHkPrice=(i.money*this.billData.totalToHkRate).toFixed(0)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}this.hkMoneyNum()},tableHKPriceChange:function(){this.billData.money=0,this.billData.totalHkPrice=0;var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.billData.stockList);!(e=(l=s.next()).done);e=!0){var i=l.value;this.billData.money+=Number(i.money),this.billData.totalHkPrice+=Number(i.totalHkPrice)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}},hkMoneyNum:function(){this.billData.money=this.getPriceNum(this.billData.money),console.log(this.billData.money),2==this.billData.currencyId?this.billData.totalHkPrice=Number(this.billData.money).toFixed(0):""!=this.billData.money&&0!=this.billData.money&&""!=this.billData.totalToHkRate&&(1==this.billData.currencyId&&this.billData.totalToHkRate<1?this.billData.totalHkPrice=(this.billData.money/this.billData.totalToHkRate).toFixed(0):this.billData.totalHkPrice=(this.billData.money*this.billData.totalToHkRate).toFixed(0))},hkNum:function(){this.billData.totalHkPrice=this.getIntegerNum(this.billData.totalHkPrice)},tradeTypeChange:function(){console.log(this.billData.tradeType),2==this.billData.tradeType?this.billRules.payeeId[0].required=!0:this.billRules.payeeId[0].required=!1},getMeansList:function(){var e=this;this.$axios.get(this.baseUrl+"/receiveTypeList").then(function(t){if(console.log("交易方式列表"),console.log(t),e.meansList=[],t.data.length>0){var a=!0,l=!1,s=void 0;try{for(var i,r=o()(t.data);!(a=(i=r.next()).done);a=!0){var n=i.value;""!=n&&null!=n&&e.meansList.push({name:n})}}catch(e){l=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw s}}}}).catch(function(e){console.log(e)})},formatNumberRgx:function(e){if(""==e||null==e||0==e)return 0;var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},tradeTypeRgx:function(e){for(var t=0;t<this.typeList.length;++t)if(e==this.typeList[t].value)return this.typeList[t].label;return""}}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"billEntryContainer"}},[l("div",{staticClass:"bill-entry-container"},[l("div",{staticClass:"container-left"},[l("el-form",{ref:"billForm",attrs:{model:e.billData,rules:e.billRules,"label-width":"110px"}},[l("el-form-item",{attrs:{label:"賬單日期",prop:"time"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"請選擇賬單日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.billData.time,callback:function(t){e.$set(e.billData,"time",t)},expression:"billData.time"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"交易類型",prop:"tradeType"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},on:{change:e.tradeTypeChange},model:{value:e.billData.tradeType,callback:function(t){e.$set(e.billData,"tradeType",t)},expression:"billData.tradeType"}},e._l(e.typeList,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:e.personShow(),prop:"personId"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",clearable:""},on:{change:e.personChange},model:{value:e.billData.personId,callback:function(t){e.$set(e.billData,"personId",t)},expression:"billData.personId"}},e._l(e.userList,function(e,t){return l("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.billData.tradeType,expression:"billData.tradeType == 2"}],attrs:{label:"收款賬戶",prop:"payeeId"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},on:{change:e.isSam},model:{value:e.billData.payeeId,callback:function(t){e.$set(e.billData,"payeeId",t)},expression:"billData.payeeId"}},e._l(e.userList,function(t,a){return l("el-option",{directives:[{name:"show",rawName:"v-show",value:t.id!=e.billData.personId,expression:"item.id != billData.personId"}],key:a,attrs:{label:t.name,value:t.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"交易方式",prop:"receiveType"}},[l("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"請選擇/輸入內容"},on:{select:e.handleSelect},model:{value:e.billData.receiveType,callback:function(t){e.$set(e.billData,"receiveType",t)},expression:"billData.receiveType"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.accountNumberType,expression:"accountNumberType == 1"}],attrs:{label:"產品貨號",prop:"productCode"}},[l("div",{staticClass:"code-table"},[l("div",{staticClass:"every1"},[l("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("\n              貨號\n            ")]),e._v(" "),l("div",{staticClass:"every2"},[e._v("\n              外幣金額\n            ")]),e._v(" "),l("div",{staticClass:"every3"},[e._v("外幣轉"+e._s(e.companyCurrency)+"匯率")]),e._v(" "),l("div",{staticClass:"every4"},[l("span",{directives:[{name:"show",rawName:"v-show",value:2!=e.billData.tradeType&&5!=e.billData.tradeType&&6!=e.billData.tradeType,expression:"\n                  billData.tradeType != 2 &&\n                    billData.tradeType != 5 &&\n                    billData.tradeType != 6\n                "}],staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.companyCurrency)+"金額\n            ")]),e._v(" "),l("div",{staticClass:"every5"},[e._v("\n              操作\n            ")])]),e._v(" "),e._l(e.billData.stockList,function(t,s){return l("div",{key:s,staticClass:"code-table",staticStyle:{"margin-top":"5px"}},[l("div",{staticClass:"every1"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{change:function(a){return e.searchCode(t.productCode,s)}},model:{value:t.productCode,callback:function(a){e.$set(t,"productCode",a)},expression:"items.productCode"}})],1),e._v(" "),l("div",{staticClass:"every2"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{change:function(a){return e.tablePriceChange(t)}},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"items.money"}}),e._v(" "),l("el-select",{attrs:{placeholder:"請選擇幣種"},model:{value:e.billData.currencyId,callback:function(t){e.$set(e.billData,"currencyId",t)},expression:"billData.currencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",{staticClass:"every3"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{input:e.hkRateTableNum},model:{value:e.billData.totalToHkRate,callback:function(t){e.$set(e.billData,"totalToHkRate",t)},expression:"billData.totalToHkRate"}})],1),e._v(" "),l("div",{staticClass:"every4"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{change:function(a){return e.tablePriceChange(t)}},model:{value:t.totalHkPrice,callback:function(a){e.$set(t,"totalHkPrice",a)},expression:"items.totalHkPrice"}})],1),e._v(" "),l("div",{staticClass:"every5"},[0==s?l("img",{staticStyle:{width:"30px",height:"30px",cursor:"pointer"},attrs:{src:a("kaoy")},on:{click:e.addCode}}):l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delCode(s)}}},[e._v("刪除")])],1)])}),e._v(" "),l("el-dialog",{attrs:{title:"提示",visible:e.dialogCodeVisible,width:"520px"},on:{"update:visible":function(t){e.dialogCodeVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n              未查找到"+e._s(e.productCode)+"，請檢查貨號輸入是否正確\n            ")]),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{staticClass:"sure-button",attrs:{type:"primary"},on:{click:function(t){e.dialogCodeVisible=!1}}},[e._v("確 定")])],1)])],2),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.accountNumberType,expression:"accountNumberType == 1"}],attrs:{label:"產品描述",prop:"productDes"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"產品描述"},model:{value:e.billData.productDes,callback:function(t){e.$set(e.billData,"productDes",t)},expression:"billData.productDes"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"外幣金額",prop:"money"}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{attrs:{placeholder:"請輸入外幣金額"},on:{change:e.hkMoneyNum},model:{value:e.billData.money,callback:function(t){e.$set(e.billData,"money",t)},expression:"billData.money"}}),e._v(" "),l("el-select",{attrs:{placeholder:"請選擇金額幣種",disabled:1==e.accountNumberType&&(0==e.billData.tradeType||1==e.billData.tradeType||3==e.billData.tradeType||4==e.billData.tradeType)},model:{value:e.billData.currencyId,callback:function(t){e.$set(e.billData,"currencyId",t)},expression:"billData.currencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),(e.billData.stockList.length>0?""==e.billData.stockList[0].productCode:e.productCodeIsNull)?l("el-form-item",{attrs:{label:"外幣轉"+e.companyCurrency+"匯率",prop:"totalToHkRate"}},[l("el-input",{attrs:{placeholder:"請輸入"},on:{input:e.hkMoneyNum},model:{value:e.billData.totalToHkRate,callback:function(t){e.$set(e.billData,"totalToHkRate",t)},expression:"billData.totalToHkRate"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:e.companyCurrency+"金額",prop:"totalHkPrice"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"請輸入金額"},on:{change:e.hkNum},model:{value:e.billData.totalHkPrice,callback:function(t){e.$set(e.billData,"totalHkPrice",t)},expression:"billData.totalHkPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"備註",prop:"remark"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"請輸入備註信息"},model:{value:e.billData.remark,callback:function(t){e.$set(e.billData,"remark",t)},expression:"billData.remark"}})],1)],1),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end","text-align":"right"}},[l("el-button",{staticStyle:{"margin-right":"50px"},attrs:{type:"primary"},on:{click:e.clearForm}},[e._v("\n          重置\n        ")]),e._v(" "),e.billData.id?l("el-button",{attrs:{type:"primary"},on:{click:e.updateBillSure}},[e._v("修改")]):l("el-button",{attrs:{type:"primary"},on:{click:e.submitData}},[e._v("提交")])],1)],1),e._v(" "),l("div",{staticClass:"container-right"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.billList,"tooltip-effect":"dark",border:"","highlight-current-row":""},on:{"row-click":e.delBill,"row-dblclick":e.updateBill}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"賬單日期"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"tradeType",label:"交易類型"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(e.tradeTypeRgx(t.row.tradeType))+"\n            ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n            ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.companyCurrency+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n            ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作"}},[[l("div",[l("span",{staticStyle:{color:"#409EFF",cursor:"pointer"}},[e._v("刪除")])])]],2)],1),e._v(" "),l("el-dialog",{attrs:{title:"刪除該賬單",visible:e.dialogDelVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n          確定刪除該賬單？刪除後不能恢復\n        ")]),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogDelVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.delBillSure}},[e._v("確 定")])],1)])],1)])])},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("gF7c")},"data-v-dbee1ebc",null);t.default=u.exports},XMJn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i=a("pFYg"),o=a.n(i),r=a("bOdI"),n=a.n(r),c={data:function(){var e;return e={baseUrl:this.$store.state.baseUrl,modelSize:[],updateId:this.updatesId,imgSrc:[],imgSrc2:[],imgurls:[],imgurls2:[],productCode:"",estimateTime:"",createTime:"",createAccount:"",sellCurrencyId:"",isPayCheck:!1,isReceiveCheck:!1,currencyId:"",cost:"",pricePeer:"",priceIndi:"",source:"",stockLocId:"",model:"",size:"",leather:"",metal:"",colorId:"",color:"",colorSeries:"",letter:"",stockStat:"",note:"",stock:[],priceTran:"",customer:"",bill:"",soldTime:new Date,isStock:0,stockOutTime:"",imgsUpload:"",dialogImageUrl:"",receiveWarehouseId:null,companyAndWarehouseList:[],sold:0,currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stockLocs:[],sizeList:[],leathers:[],clrs:[],metals:[],stockStats:[],colorList:[],imgs:"",delList:[],delList2:[],b:"",c:"",e:"",d:"",showImg:!1},n()(e,"stockOutTime",null),n()(e,"stockLocList",[]),n()(e,"isInput",1),n()(e,"isSelect",1),n()(e,"isColor",0),n()(e,"loading",null),n()(e,"stateList",[{label:"采购中",value:"0"},{label:"存货",value:"1"},{label:"客人预留",value:"2"},{label:"已出售",value:"3"},{label:"购入退货",value:"6"},{label:"已寄卖",value:"8"},{label:"遗失",value:"7"},{label:"客人取回",value:"5"}]),n()(e,"dialogStateVisible",!1),n()(e,"updateStateId",null),n()(e,"userId",null),n()(e,"userList",[]),n()(e,"stateList2",[{label:"全部",value:""},{label:"采购中",value:"0"},{label:"存货",value:"1"},{label:"客人预留",value:"2"},{label:"已出售",value:"3"},{label:"购入退货",value:"6"},{label:"已寄卖",value:"8"},{label:"遗失",value:"7"},{label:"客人取回",value:"5"}]),n()(e,"bill",""),n()(e,"isRequire",0),n()(e,"dialogWarehouseLocUpdateVisible",!1),n()(e,"locUpdateId",null),n()(e,"activeName","first"),n()(e,"saleLogHkPrice",""),n()(e,"saleTotalHkPrice",""),n()(e,"headSellMoney",""),n()(e,"isHeadConsigns",0),n()(e,"headCurrency",""),n()(e,"buyAllPrice",void 0),n()(e,"totalHkPrice",void 0),n()(e,"logHkPrice",void 0),n()(e,"customerList",[]),n()(e,"buyPaymentList",[]),n()(e,"sellPaymentList",[]),n()(e,"allPaymentList",[]),n()(e,"isUpdateOrDel",null),n()(e,"companyId",null),n()(e,"currencyGlobal",""),n()(e,"sellerId",""),n()(e,"sellerList",[]),n()(e,"customerTypeList",[]),n()(e,"customerType",""),n()(e,"numIsEquality",!1),e},props:["updatesId"],created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.getData(),this.getCustomerList(),this.getDataStock(),this.getCompanyAndWarehouseList(),this.getSellerAndCustomerType()},methods:{queryModelSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.modelSize,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createModelFilter(e)):a)},createModelFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleModelSelect:function(e){console.log(e),this.model=e.name,this.sizeSel(e)},querySizeSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.sizeList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createSizeFilter(e)):a)},createSizeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSizeSelect:function(e){console.log(e),this.size=e.name},getDetails:function(){var e=this;this.showImg=!1,this.$store.state.imgUrl="",this.$store.state.imgUrl2="",this.isInput=1,this.isSelect=1,this.$axios.get(this.baseUrl+"/detail?id="+this.updateId).then(function(t){console.log("产品详情"),console.log(t);var a=t.data;e.$store.state.imgUrl=a.pics,e.$store.state.imgUrl2=a.privateImg;var l=a.pics.split("|");e.imgSrc=[],e.imgSrc2=[];for(var i=0;i<l.length-1;i++)e.imgSrc.push(l[i]);if(""!==a.privateImg&&null!==a.privateImg)for(var o=a.privateImg.split("|"),r=0;r<o.length-1;r++)e.imgSrc2.push(o[r]);e.productCode=a.productCode,e.createAccount=a.createAccount,e.currencyId=a.currencyId,e.cost=0==a.cost?"":a.cost,e.pricePeer=0==a.pricePeer?"":a.pricePeer,e.priceIndi=0==a.priceIndi?"":a.priceIndi,e.source=a.source;var n=!0,c=!1,d=void 0;try{for(var u,p=s()(e.stockLocs);!(n=(u=p.next()).done);n=!0){var m=u.value;m.warehouseId==a.stockLocId&&m.companyId==a.companyId&&(e.stockLocId={warehouseId:Number(a.stockLocId),warehouseName:m.warehouseName,companyId:Number(a.companyId)})}}catch(e){c=!0,d=e}finally{try{!n&&p.return&&p.return()}finally{if(c)throw d}}e.companyId=a.companyId,a.modelId>100?e.isRequire=1:e.isRequire=0,e.model=a.model,e.size=a.size,e.sizeList=[];for(var h=[],v=0;v<e.modelSize.length;v++)if(e.model==e.modelSize[v].name){h=e.modelSize[v].size;break}if(h.length>0)for(var g in h)e.sizeList.push({name:h[g]});e.leather=a.leather,e.metal=a.metal,e.colorId=a.colorId,e.color=a.color,e.colorSeries=a.colorSeries,e.letter=a.letter,e.stockStat=a.stockStat,e.stock=a.stockStat.split("|"),e.note=a.note,e.logHkPrice=a.logHkPrice,e.buyAllPrice=a.buyAllPrice,e.totalHkPrice=a.totalHkPrice,e.buyPaymentList=a.buyPaymentList,e.sellPaymentList=a.sellPaymentList,e.allPaymentList=a.allPaymentList,e.isPayCheck=0!=a.isPayCheck&&null!=a.isPayCheck,e.isReceiveCheck=0!=a.isReceiveCheck&&null!=a.isReceiveCheck,4==a.sold?e.sold="3":e.sold=a.sold,e.createTime=a.createTime,e.bill=a.bill,e.estimateTime=a.estimateTime,e.priceTran=a.priceTran,e.customer=a.customer,e.soldTime=a.soldTime,e.sellCurrencyId=a.sellCurrencyId,e.stockOutTime=a.stockOutTime,e.saleLogHkPrice=a.saleLogHkPrice,e.saleTotalHkPrice=a.saleTotalHkPrice,e.headSellMoney=0==a.headSellMoney?"":a.headSellMoney,e.isHeadConsigns=a.isHeadConsigns,e.headCurrency=a.headCurrency,e.isUpdateOrDel=a.companyId,3==a.sold?e.isStock=0:4==a.sold&&(e.isStock=1),8==a.sold?e.receiveWarehouseId=[a.receiveCompanyId,a.receiveWarehouseId]:e.receiveWarehouseId=null,e.sellerId=a.sellerId,e.customerType=a.customerType,e.activeName="first",function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/5))}()})},dataCheck:function(){var e=this;if(3==this.sold&&1==this.isStock&&(console.log("同時出庫了"),""==this.soldTime||null==this.soldTime||""==this.customer||null==this.customer||""==this.stockOutTime||null==this.stockOutTime||""==this.bill||null==this.bill||(""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||null==this.saleTotalHkPrice)&&1!=this.isHeadConsigns||(""==this.headSellMoney||void 0==this.headSellMoney||null==this.headSellMoney)&&1==this.isHeadConsigns||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType))return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(!(1!=this.sold&&2!=this.sold&&3!=this.sold||""!=this.createTime&&null!=this.createTime))return this.$message.error({message:"请选择入库时间",showClose:!0,duration:2e3}),1;if(2==this.sold&&(""==this.customer||null==this.customer))return console.log("-"),this.$message.error({message:"请填写客户姓名",showClose:!0,duration:2e3}),1;if(5==this.sold&&(""==this.stockOutTime||null==this.stockOutTime))return this.$message.error({message:"请选择取回时间",showClose:!0,duration:2e3}),1;if(6==this.sold&&(""==this.stockOutTime||null==this.stockOutTime))return this.$message.error({message:"请选择退货时间",showClose:!0,duration:2e3}),1;if(7==this.sold&&(""==this.stockOutTime||null==this.stockOutTime))return this.$message.error({message:"请选择时间",showClose:!0,duration:2e3}),1;if(8==this.sold&&(""==this.soldTime||null==this.soldTime||null==this.receiveWarehouseId||""==this.receiveWarehouseId||""==this.bill||""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType))return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(this.buyPaymentList.length>0){var t;if(t=this.buyPaymentList.reduce(function(e,t){return e+1*t.totalHkPrice},0),this.totalHkPrice&&this.totalHkPrice!=t){this.numIsEquality=!0;var a="產品購入記錄總金額為："+t+this.currencyGlobal+" ,您錄入的入庫價為："+this.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.numIsEquality=!1,e.updateData()}).catch(function(){console.log("取消提交")})}this.numIsEquality=!1}else this.numIsEquality=!1;if(this.sellPaymentList.length>0&&(3==this.sold||4==this.sold||8==this.sold)){var l;if(l=this.sellPaymentList.reduce(function(e,t){return e+1*t.totalHkPrice},0),this.saleTotalHkPrice&&this.saleTotalHkPrice!=l){this.numIsEquality=!0;var s="產品出售記錄總金額為："+l+this.currencyGlobal+" ,您錄入的出售金額為："+this.saleTotalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(s,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.numIsEquality=!1,e.updateData()}).catch(function(){console.log("取消提交")})}this.numIsEquality=!1}else this.numIsEquality=!1},data1:function(){this.stockStat="",console.log(this.stock);var e=!0,t=!1,a=void 0;try{for(var l,i=s()(this.stock);!(e=(l=i.next()).done);e=!0){var o=l.value;""!==o&&(this.stockStat+=o+"|")}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}if(""==this.$store.state.imgUrl||""==this.productCode||""==this.stockLocId||""==this.model)return console.log("------"),this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(0==this.isRequire){if(""==this.size||""==this.leather||""==this.metal||""==this.stockStat)return console.log("------"),this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(""==this.colorId&&""==this.color)return this.$message.error({message:"请输入颜色",showClose:!0,duration:2e3}),1;if(""==this.color)return this.$message.error({message:"颜色色号输入错误，请重新填写",showClose:!0,duration:2e3}),1}},basicInfoUpdateSure:function(){var e=sessionStorage.getItem("companyId");this.isUpdateOrDel!=e?this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3}):1!=this.data1()&&1!=this.dataCheck()&&0==this.numIsEquality&&(console.log("銷售人員",this.sellerId,this.customerType),console.log(this.cost),(this.logHkPrice||this.totalHkPrice)&&this.cost&&this.cost!=Number(this.totalHkPrice)+Number(this.logHkPrice)?this.$message.error({message:"總成本不等於入庫價與物流費之和，不可提交"}):this.updateData())},updateData:function(){var e=this,t=void 0;t=""==this.metal?1==this.isRequire?this.model+" "+this.size+" "+this.colorId+" "+this.color+" "+this.leather:this.size+" "+this.colorId+" "+this.color+" "+this.leather:1==this.isRequire?this.model+" "+this.size+" "+this.colorId+" "+this.color+" "+this.leather+" "+this.metal+"扣":this.size+" "+this.colorId+" "+this.color+" "+this.leather+" "+this.metal+"扣",this.$axios.put(this.baseUrl+"/update",{id:this.updateId,pics:this.$store.state.imgUrl,privateImg:this.$store.state.imgUrl2,productCode:this.productCode,createAccount:this.createAccount,currencyId:this.currencyId,cost:this.cost,pricePeer:this.pricePeer,priceIndi:this.priceIndi,source:this.source,stockLocId:this.stockLocId.warehouseId,companyId:this.stockLocId.companyId,model:this.model,size:this.size,leather:this.leather,metal:this.metal,colorId:this.colorId,color:this.color,letter:this.letter,stockStat:this.stockStat,name:t,colorSeries:this.colorSeries,note:this.note,saleStat:"出售中",buyAllPrice:this.buyAllPrice,totalHkPrice:this.totalHkPrice,logHkPrice:this.logHkPrice,sold:this.sold,bill:this.bill,createTime:this.createTime,estimateTime:this.estimateTime,priceTran:this.priceTran,customer:this.customer,soldTime:this.soldTime,sellCurrencyId:this.sellCurrencyId,isStock:this.isStock,stockOutTime:this.stockOutTime,saleLogHkPrice:this.saleLogHkPrice,saleTotalHkPrice:this.saleTotalHkPrice,headSellMoney:this.headSellMoney,isPayCheck:0==this.isPayCheck?0:1,isReceiveCheck:0==this.isReceiveCheck?0:1,receiveWarehouseId:8==this.sold?this.receiveWarehouseId[1]:null,sellerId:this.sellerId,customerType:this.customerType}).then(function(t){console.log(t),200==t.status&&(e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.$emit("updateSuccess",0))}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},goback:function(){this.$emit("goback",0)},stateChange:function(){this.activeName="first",8==this.sold?this.customerType="公司":this.customerType=""},getCustomerList:function(){var e=this;this.$axios.get(this.baseUrl+"/consumerListGet").then(function(t){console.log("客户列表"),console.log(t),e.customerList=t.data}).catch(function(e){console.log(e)})},querySearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.customer=e.value},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerTypeList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.customerType=e.value},isInputSel:function(){0==this.isInput?this.isInput=1:1==this.isInput&&(this.isInput=0)},isSelectSel:function(){0==this.isSelect?this.isSelect=1:1==this.isSelect&&(this.isSelect=0)},showImgSel:function(){this.showImg?this.showImg=!1:this.showImg=!0},sizeSel:function(e){e.id>100?this.isRequire=1:this.isRequire=0,console.log(this.model),this.size="",this.sizeList=[];for(var t=[],a=0;a<this.modelSize.length;a++)if(this.model==this.modelSize[a].name){t=this.modelSize[a].size;break}if(t.length>0)for(var l in t)this.sizeList.push({name:t[l]})},isPurchaseHKD:function(){this.buyAllPrice=this.getIntegerNum(this.buyAllPrice),2==this.currencyId?this.totalHkPrice=this.buyAllPrice:this.totalHkPrice=void 0},isSellHKD:function(){2==this.sellCurrencyId?this.saleTotalHkPrice=this.priceTran:this.saleTotalHkPrice=void 0},costCalculate:function(){console.log("是否来了"),this.totalHkPrice=this.getIntegerNum(this.totalHkPrice),this.logHkPrice=this.getIntegerNum(this.logHkPrice),this.cost=Number(this.totalHkPrice)+Number(this.logHkPrice)},numCheckout:function(){this.cost=this.getIntegerNum(this.cost),this.pricePeer=this.getIntegerNum(this.pricePeer),this.priceIndi=this.getIntegerNum(this.priceIndi)},handleChange:function(e){console.log("ssss"),console.log(e),this.leather=e[1],console.log(this.leather)},colorIdBlur:function(){for(var e in this.b="",this.c="",this.e="",this.d="",this.color="",this.colorSeries="",this.clrs)for(var t in this.clrs[e].yanse)null!==this.colorId.match(/[a-z]/g)?(this.colorId=this.colorId.toUpperCase(),-1!==this.colorId.indexOf("/")?(this.colorList=this.colorId.split("/"),this.colorList[0]==this.clrs[e].yanse[t].sehao&&(this.e=this.clrs[e].yanse[t].name,this.b=this.clrs[e].sexi),this.colorList[1]==this.clrs[e].yanse[t].sehao&&(this.d=this.clrs[e].yanse[t].name,this.c=this.clrs[e].sexi),this.color=this.e+"拼"+this.d,this.colorSeries=this.b+"/"+this.c):this.colorId==this.clrs[e].yanse[t].sehao&&(this.color=this.clrs[e].yanse[t].name,this.colorSeries=this.clrs[e].sexi)):-1!==this.colorId.indexOf("/")?(this.colorList=this.colorId.split("/"),this.colorList[0]==this.clrs[e].yanse[t].sehao&&(this.e=this.clrs[e].yanse[t].name,this.b=this.clrs[e].sexi),this.colorList[1]==this.clrs[e].yanse[t].sehao&&(this.d=this.clrs[e].yanse[t].name,this.c=this.clrs[e].sexi),this.color=this.e+"拼"+this.d,this.colorSeries=this.b+"/"+this.c):this.colorId==this.clrs[e].yanse[t].sehao&&(this.color=this.clrs[e].yanse[t].name,this.colorSeries=this.clrs[e].sexi)},isColorSel:function(){this.colorId="",0==this.isColor?this.isColor=1:1==this.isColor&&(this.isColor=0)},getData:function(){var e=this;this.$axios.get(this.baseUrl+"/modelSizeLeathers").then(function(t){console.log("选项数据"),console.log(t),e.modelSize=t.data.modelSize,e.leathers=t.data.leathers,e.metals=t.data.metals,e.stockStats=t.data.stockStats,e.clrs=t.data.clrs,e.getDetails()})},getDataStock:function(){var e=this;this.$axios.get(this.baseUrl+"/stockLocList").then(function(t){console.log("库存地"),console.log(t),e.stockLocs=t.data,e.stockLocs.length>0&&e.stockLocs.splice(0,1)})},delImage:function(e,t){this.$store.state.imgUrl="",console.log("-----"+e),console.log(t);var a=document.getElementById("delImg").children;console.log(a);for(var l=0;l<a.length;l++)this.delList.push(a[l]);console.log(this.delList),this.delList.splice(t,1),this.imgSrc.splice(t,1),console.log(this.imgSrc);var i=e+"|";console.log(i);var o=!0,r=!1,n=void 0;try{for(var c,d=s()(this.imgSrc);!(o=(c=d.next()).done);o=!0){var u=c.value;this.$store.state.imgUrl+=u+"|"}}catch(e){r=!0,n=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw n}}console.log(this.$store.state.imgUrl)},inputChange1:function(e){var t=e.target.files,a=this,l=t[0];if(console.log(l),void 0!=l)if(t.length>9)this.$message.error({message:"最多上传9张图片，请重新选择",showClose:!0,duration:2e3});else{this.loading=this.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});var i=!0,o=!1,r=void 0;try{for(var n,c=s()(t);!(i=(n=c.next()).done);i=!0){var d=n.value;d.size/1024>2050?this.photoCompress(d,{quality:.7},function(e){var t=a.base64UrlToBlob(e);a.uploadLice(t)}):this.uploadLice(d)}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}},base64UrlToBlob:function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],l=atob(t[1]),s=l.length,i=new Uint8Array(s);s--;)i[s]=l.charCodeAt(s);var o=Date.parse(new Date)+".jpg";return new File([i],o,{type:a})},photoCompress:function(e,t,a){var l=this,s=new FileReader;s.readAsDataURL(e),s.onload=function(){var e=this.result;l.canvasDataURL(e,t,a)}},canvasDataURL:function(e,t,a){var l=new Image;l.src=e,l.onload=function(){var e=this.width,l=this.height,s=e/l;e=t.width||e,l=t.height||e/s;var i=.7,o=document.createElement("canvas"),r=o.getContext("2d"),n=document.createAttribute("width");n.nodeValue=e;var c=document.createAttribute("height");c.nodeValue=l,o.setAttributeNode(n),o.setAttributeNode(c),r.fillStyle="#fff",r.fillRect(0,0,e,l),r.drawImage(this,0,0,e,l),t.quality&&t.quality>=1&&t.quality<0&&(i=t.quality);var d=o.toDataURL("image/jpeg",i);a(d)}},uploadLice:function(e){console.log(e);var t=new FormData;t.append("upload-images",e),this.uploadImg(t)},uploadImg:function(e){var t=this;console.log("查看上传数据"),console.log(e),this.imgSrc.length>8?(this.$message.error({message:"最多上传9张图片",showClose:!0,duration:2e3}),this.loading.close()):this.$axios.post(this.baseUrl+"/upload",e).then(function(e){200==e.status&&t.$message.success({message:"图片上传成功",showClose:!0,duration:2e3}),console.log(e),t.imgurls=e.data.split("|"),console.log(t.imgurls);document.getElementById("preview1");console.log(t.$store.state.imgUrl);for(var a=0;a<t.imgurls.length-1;a++){console.log(t.baseUrl+"/file/"+t.imgurls[a]),t.$store.state.imgUrl+=t.baseUrl+"/file/"+t.imgurls[a]+" | ";var l=t.baseUrl+"/file/"+t.imgurls[a];t.imgSrc.push(l),console.log(t.$store.state.imgUrl)}t.loading.close()}).catch(function(e){t.loading.close(),console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delImage2:function(e,t){this.$store.state.imgUrl2="",console.log("-----"+e),console.log(t);var a=document.getElementById("delImg2").children;console.log(a);for(var l=0;l<a.length;l++)this.delList2.push(a[l]);console.log(this.delList2),this.delList2.splice(t,1),this.imgSrc2.splice(t,1),console.log(this.imgSrc2);var i=e+"|";console.log(i);var o=!0,r=!1,n=void 0;try{for(var c,d=s()(this.imgSrc2);!(o=(c=d.next()).done);o=!0){var u=c.value;this.$store.state.imgUrl2+=u+"|"}}catch(e){r=!0,n=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw n}}console.log(this.$store.state.imgUrl2)},inputChange2:function(e){var t=e.target.files,a=this,l=t[0];if(console.log(l),void 0!=l)if(t.length>30)this.$message.error({message:"最多上传30张图片，请重新选择",showClose:!0,duration:2e3});else{this.loading=this.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});var i=!0,o=!1,r=void 0;try{for(var n,c=s()(t);!(i=(n=c.next()).done);i=!0){var d=n.value;d.size/1024>2050?this.photoCompress2(d,{quality:.7},function(e){var t=a.base64UrlToBlob2(e);a.uploadLice2(t)}):this.uploadLice2(d)}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}},base64UrlToBlob2:function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],l=atob(t[1]),s=l.length,i=new Uint8Array(s);s--;)i[s]=l.charCodeAt(s);var o=Date.parse(new Date)+".jpg";return new File([i],o,{type:a})},photoCompress2:function(e,t,a){var l=this,s=new FileReader;s.readAsDataURL(e),s.onload=function(){var e=this.result;l.canvasDataURL2(e,t,a)}},canvasDataURL2:function(e,t,a){var l=new Image;l.src=e,l.onload=function(){var e=this.width,l=this.height,s=e/l;e=t.width||e,l=t.height||e/s;var i=.7,o=document.createElement("canvas"),r=o.getContext("2d"),n=document.createAttribute("width");n.nodeValue=e;var c=document.createAttribute("height");c.nodeValue=l,o.setAttributeNode(n),o.setAttributeNode(c),r.fillStyle="#fff",r.fillRect(0,0,e,l),r.drawImage(this,0,0,e,l),t.quality&&t.quality>=1&&t.quality<0&&(i=t.quality);var d=o.toDataURL("image/jpeg",i);a(d)}},uploadLice2:function(e){console.log(e);var t=new FormData;t.append("upload-images",e),this.uploadImg2(t)},uploadImg2:function(e){var t=this;console.log(e),e.append("state",0),e.append("type",0),console.log("11111"),this.imgSrc2.length>29?(this.$message.error({message:"最多上传30张图片",showClose:!0,duration:2e3}),this.loading.close()):this.$axios.post(this.baseUrl+"/upload",e).then(function(e){200==e.status&&t.$message.success({message:"图片上传成功",showClose:!0,duration:2e3}),console.log(e),t.imgurls2=e.data.split("|"),console.log(t.imgurls2);document.getElementById("preview1");console.log(t.$store.state.imgUrl2);for(var a=0;a<t.imgurls2.length-1;a++){console.log(t.baseUrl+"/file/"+t.imgurls2[a]),t.$store.state.imgUrl2+=t.baseUrl+"/file/"+t.imgurls2[a]+" | ";var l=t.baseUrl+"/file/"+t.imgurls2[a];t.imgSrc2.push(l),console.log(t.$store.state.imgUrl2)}t.loading.close()}).catch(function(e){t.loading.close(),console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},getCompanyAndWarehouseList:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/receiveCompanyMsgGet").then(function(t){console.log("接收公司及倉庫"),console.log(t),e.companyAndWarehouseList=t.data;var a=[],l=!0,i=!1,o=void 0;try{for(var r,n=s()(e.companyAndWarehouseList);!(l=(r=n.next()).done);l=!0){var c=r.value;c.warehouseList.length>0&&a.push(c)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}e.companyAndWarehouseList=a}).catch(function(e){console.log(e)})}}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"update-container"},[l("div",{staticStyle:{width:"60px","margin-bottom":"20px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:e.goback}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("el-form",{ref:"globalForm",attrs:{"label-width":"110px"}},[l("el-form-item",{attrs:{label:"货号",required:""}},[l("el-form-item",[l("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入货号",clearable:""},model:{value:e.productCode,callback:function(t){e.productCode=t},expression:"productCode"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"库存地",required:""}},[8==e.sold?l("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择",clearable:"","value-key":"warehouseId"},model:{value:e.stockLocId,callback:function(t){e.stockLocId=t},expression:"stockLocId"}},e._l(e.stockLocs,function(t){return l("el-option",{key:t.warehouseId,attrs:{label:t.warehouseName,value:t}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.companyName))])])}),1):l("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择",clearable:"","value-key":"warehouseId"},model:{value:e.stockLocId,callback:function(t){e.stockLocId=t},expression:"stockLocId"}},e._l(e.stockLocs,function(t){return l("el-option",{directives:[{name:"show",rawName:"v-show",value:t.companyId==e.companyId,expression:"item.companyId == companyId"}],key:t.warehouseId,attrs:{label:t.warehouseName,value:t}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.companyName))])])}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"库存状态",required:""}},[l("el-form-item",[l("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择"},on:{change:e.stateChange},model:{value:e.sold,callback:function(t){e.sold=t},expression:"sold"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),0==e.sold?l("el-form-item",{attrs:{label:"预计到达时间"}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.estimateTime,callback:function(t){e.estimateTime=t},expression:"estimateTime"}})],1):e._e(),e._v(" "),1==e.sold||2==e.sold||3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"入库时间",required:""}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",disabled:3==e.sold||8==e.sold},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1):e._e(),e._v(" "),5==e.sold?l("el-form-item",{attrs:{label:"取回时间",required:""}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),6==e.sold?l("el-form-item",{attrs:{label:"退货时间",required:""}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),7==e.sold?l("el-form-item",{attrs:{label:"时间",required:""}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e()],1),e._v(" "),l("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"图片及参数",name:"first"}},[l("div",{staticStyle:{"text-align":"left","margin-bottom":"10px"}},[l("div",{staticStyle:{"margin-bottom":"15px"}},[l("span",{staticStyle:{color:"#f56c6c"}},[e._v("*")]),l("span",{staticStyle:{"font-size":"15px"}},[e._v("商品展示图：(最多上传9张图片)")])]),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("div",{staticClass:"upload-imgs"},[l("div",{staticClass:"add"},[l("div",{attrs:{id:"previewImg"}},[l("form",{staticStyle:{width:"100px",height:"100px"},attrs:{enctype:"multipart/form-data"}},[l("input",{staticClass:"inputUpload",attrs:{type:"file",name:"upload-images",accept:"image/*",multiple:""},on:{change:function(t){return e.inputChange1(t)}}}),e._v(" "),l("i",{staticClass:"el-icon-plus addIcon"})])])]),e._v(" "),l("div",{staticStyle:{display:"flex","flex-wrap":"wrap",position:"relative"},attrs:{id:"delImg"}},e._l(e.imgSrc,function(t,a){return l("div",{key:a,staticStyle:{"margin-left":"10px",position:"relative"}},[l("span",{staticClass:"spanStyle",on:{click:function(l){return e.delImage(t,a)}}},[e._v("x")]),e._v(" "),l("img",{staticStyle:{"border-radius":"5px","object-fit":"cover"},attrs:{src:t,width:"100px",height:"100px"}})])}),0)])])]),e._v(" "),l("div",{staticStyle:{"text-align":"left","margin-bottom":"10px"}},[l("div",{staticStyle:{"margin-bottom":"15px"}},[l("span",{staticStyle:{"font-size":"15px"}},[e._v("内部图：(最多上传30张图片)")]),e._v(" "),l("span",{staticStyle:{cursor:"pointer",color:"#409EFF","font-size":"15px"},on:{click:e.showImgSel}},[e._v("查看图片")])]),e._v(" "),e.showImg?l("div",{staticStyle:{display:"flex"}},[l("div",{staticClass:"upload-imgs"},[l("div",{staticClass:"add"},[l("div",{attrs:{id:"previewImg"}},[l("form",{staticStyle:{width:"100px",height:"100px"},attrs:{enctype:"multipart/form-data"}},[l("input",{staticClass:"inputUpload",attrs:{type:"file",name:"upload-images",accept:"image/*",multiple:""},on:{change:function(t){return e.inputChange2(t)}}}),e._v(" "),l("i",{staticClass:"el-icon-plus addIcon"})])])]),e._v(" "),l("div",{staticStyle:{display:"flex","flex-wrap":"wrap",position:"relative"},attrs:{id:"delImg2"}},e._l(e.imgSrc2,function(t,a){return l("div",{key:a,staticStyle:{"margin-left":"10px",position:"relative"}},[l("span",{staticClass:"spanStyle",on:{click:function(l){return e.delImage2(t,a)}}},[e._v("x")]),e._v(" "),l("img",{staticStyle:{"border-radius":"5px","object-fit":"cover"},attrs:{src:t,width:"100px",height:"100px"}})])}),0)])]):e._e()]),e._v(" "),l("el-form",{ref:"form",attrs:{"label-width":"80px"}},[l("el-form-item",{attrs:{label:"款式",required:""}},[l("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.queryModelSearch,placeholder:"请选择/输入款式"},on:{select:e.handleModelSelect},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"大小",required:0==e.isRequire}},[l("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.querySizeSearch,placeholder:"请选择/输入大小"},on:{select:e.handleSizeSelect},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"材质",required:0==e.isRequire}},[0==e.isInput?l("el-cascader",{staticStyle:{width:"50%"},attrs:{options:e.leathers},on:{change:e.handleChange},model:{value:e.leather,callback:function(t){e.leather=t},expression:"leather"}}):e._e(),e._v(" "),1==e.isInput?l("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入"},model:{value:e.leather,callback:function(t){e.leather=t},expression:"leather"}}):e._e(),e._v(" "),l("el-button",{staticStyle:{border:"0"},attrs:{type:"text"},on:{click:e.isInputSel}},[e._v(e._s(0==e.isInput?"输入":"选择"))])],1),e._v(" "),l("el-form-item",{attrs:{label:"金属质感",required:0==e.isRequire}},[0==e.isSelect?l("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.metal,callback:function(t){e.metal=t},expression:"metal"}},e._l(e.metals,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),1==e.isSelect?l("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入"},model:{value:e.metal,callback:function(t){e.metal=t},expression:"metal"}}):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:e.isSelectSel}},[e._v(e._s(0==e.isSelect?"输入":"选择"))])],1),e._v(" "),l("el-form-item",{attrs:{label:"色号"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入色号",clearable:""},on:{input:e.colorIdBlur},model:{value:e.colorId,callback:function(t){e.colorId=t},expression:"colorId"}}),e._v(" "),l("el-button",{staticStyle:{border:"0"},attrs:{type:"text"},on:{click:e.isColorSel}},[e._v(e._s(0==e.isColor?"无色号":"有色号"))])],1),e._v(" "),l("el-form-item",{attrs:{label:"颜色",required:0==e.isRequire}},[l("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",disabled:0==e.isColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"色系"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",disabled:0==e.isColor},model:{value:e.colorSeries,callback:function(t){e.colorSeries=t},expression:"colorSeries"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"刻度"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入刻度",clearable:""},model:{value:e.letter,callback:function(t){e.letter=t},expression:"letter"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态",required:0==e.isRequire}},[l("el-checkbox-group",{staticStyle:{width:"50%"},model:{value:e.stock,callback:function(t){e.stock=t},expression:"stock"}},e._l(e.stockStats,function(t){return l("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t)+"\n            ")])}),1)],1)],1)],1),e._v(" "),l("el-tab-pane",{attrs:{label:"采购及价格",name:"second"}},[l("el-form",{attrs:{"label-width":"100px"}},[l("el-form-item",{attrs:{label:"买手"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入买手",clearable:""},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"采购外币金额"}},[l("div",{staticStyle:{width:"50%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"请输入采购外币金额",clearable:"",controls:!1},on:{change:e.isPurchaseHKD},model:{value:e.buyAllPrice,callback:function(t){e.buyAllPrice=t},expression:"buyAllPrice"}}),e._v(" "),l("el-select",{attrs:{placeholder:"请选择采购价币种",clearable:""},on:{change:e.isPurchaseHKD},model:{value:e.currencyId,callback:function(t){e.currencyId=t},expression:"currencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),l("el-form-item",{attrs:{label:"是否付款完成"}},[l("el-switch",{model:{value:e.isPayCheck,callback:function(t){e.isPayCheck=t},expression:"isPayCheck"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"入库价("+e.currencyGlobal+")"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入入库价",clearable:"",controls:!1},on:{change:e.costCalculate},model:{value:e.totalHkPrice,callback:function(t){e.totalHkPrice=t},expression:"totalHkPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"物流费("+e.currencyGlobal+")"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入物流金额",clearable:"",controls:!1},on:{change:e.costCalculate},model:{value:e.logHkPrice,callback:function(t){e.logHkPrice=t},expression:"logHkPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"总成本("+e.currencyGlobal+")"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入总成本",clearable:"",controls:!1},on:{change:e.numCheckout},model:{value:e.cost,callback:function(t){e.cost=t},expression:"cost"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"同行价("+e.currencyGlobal+")"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{controls:!1,placeholder:"请输入同行价",clearable:""},on:{change:e.numCheckout},model:{value:e.pricePeer,callback:function(t){e.pricePeer=t},expression:"pricePeer"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"散客价("+e.currencyGlobal+")"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{controls:!1,placeholder:"请输入散客价",clearable:""},on:{change:e.numCheckout},model:{value:e.priceIndi,callback:function(t){e.priceIndi=t},expression:"priceIndi"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.buyPaymentList.length>0,expression:"buyPaymentList.length > 0"}],attrs:{label:"购入记录"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.buyPaymentList}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",[e._v("\n                    "+e._s(t.row.time)+"\n                  ")]),e._v(" "),l("div",[e._v("\n                    "+e._s("【"+t.row.personName+"】")+"\n                  ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.productDes))])])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n                ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n                ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}])})],1)],1)],1)],1),e._v(" "),2==e.sold||3==e.sold||8==e.sold?l("el-tab-pane",{attrs:{label:8==e.sold?"寄卖信息":"销售信息",name:"third"}},[l("el-form",{ref:"saleForm",attrs:{"label-width":"121px"}},[3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"账单号",required:1==e.isStock||8==e.sold}},[l("el-input",{staticStyle:{width:"50%"},model:{value:e.bill,callback:function(t){e.bill=t},expression:"bill"}})],1):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:8==e.sold?"寄卖时间":"出售时间",required:1==e.isStock||8==e.sold}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.soldTime,callback:function(t){e.soldTime=t},expression:"soldTime"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:8==e.sold?"寄卖外币金额":"出售外币金额"}},[l("div",{staticStyle:{width:"50%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:8==e.sold?"请输入寄卖外币金额":"请输入出售外币金额",clearable:""},on:{change:e.isSellHKD},model:{value:e.priceTran,callback:function(t){e.priceTran=t},expression:"priceTran"}}),e._v(" "),l("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.isSellHKD},model:{value:e.sellCurrencyId,callback:function(t){e.sellCurrencyId=t},expression:"sellCurrencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"是否收款完成"}},[l("el-switch",{model:{value:e.isReceiveCheck,callback:function(t){e.isReceiveCheck=t},expression:"isReceiveCheck"}})],1):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"物流费/手续费"}},[l("div",{staticStyle:{width:"50%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入物流费/银行手续费送货"},model:{value:e.saleLogHkPrice,callback:function(t){e.saleLogHkPrice=t},expression:"saleLogHkPrice"}}),e._v(" "),l("span",[e._v(e._s(e.currencyGlobal))])],1)]):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:8==e.sold?"寄卖"+e.currencyFontRgx(e.currencyGlobal)+"金额":"出售"+e.currencyFontRgx(e.currencyGlobal)+"金额",required:1==e.isStock&&1!=e.isHeadConsigns||8==e.sold}},[l("div",{staticStyle:{width:"50%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:8==e.sold?"请输入寄卖"+e.currencyFontRgx(e.currencyGlobal)+"金额":"请输入出售"+e.currencyFontRgx(e.currencyGlobal)+"金额"},model:{value:e.saleTotalHkPrice,callback:function(t){e.saleTotalHkPrice=t},expression:"saleTotalHkPrice"}})],1)]):e._e(),e._v(" "),3==e.sold&&1==e.isHeadConsigns?l("el-form-item",{attrs:{label:"出售"+e.currencyFontRgx(e.headCurrency)+"金额",required:1==e.isStock}},[l("div",{staticStyle:{width:"50%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入出售"+e.currencyFontRgx(e.headCurrency)+"金额，用于与总公司结算"},model:{value:e.headSellMoney,callback:function(t){e.headSellMoney=t},expression:"headSellMoney"}})],1)]):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"销售人员",required:1==e.isStock||8==e.sold}},[l("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择销售人员"},model:{value:e.sellerId,callback:function(t){e.sellerId=t},expression:"sellerId"}},e._l(e.sellerList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:8!=e.sold,expression:"sold != 8"}],attrs:{label:"客户姓名",required:1==e.isStock||2==e.sold}},[l("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择/输入客户姓名"},on:{select:e.handleSelect},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"客户类型",required:1==e.isStock||8==e.sold}},[l("el-autocomplete",{staticStyle:{width:"50%"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"请选择/输入客户类型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.customerType,callback:function(t){e.customerType=t},expression:"customerType"}})],1):e._e(),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:8==e.sold,expression:"sold == 8"}],attrs:{label:"接收仓库",required:""}},[l("el-cascader",{staticStyle:{width:"50%"},attrs:{options:e.companyAndWarehouseList,props:{value:"id",label:"name",children:"warehouseList"}},model:{value:e.receiveWarehouseId,callback:function(t){e.receiveWarehouseId=t},expression:"receiveWarehouseId"}})],1),e._v(" "),3==e.sold?l("el-form-item",{attrs:{label:"是否同时出库","label-width":"110px"}},[l("el-radio-group",{model:{value:e.isStock,callback:function(t){e.isStock=t},expression:"isStock"}},[l("el-radio",{attrs:{label:0}},[e._v("否")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1):e._e(),e._v(" "),3==e.sold&&1==e.isStock?l("el-form-item",{attrs:{label:"出库时间",required:""}},[l("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.sellPaymentList.length>0,expression:"sellPaymentList.length > 0"}],attrs:{label:"出售记录"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sellPaymentList}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",[e._v("\n                    "+e._s(t.row.time)+"\n                  ")]),e._v(" "),l("div",[e._v("\n                    "+e._s("【"+t.row.personName+"】")+"\n                  ")])])]}}],null,!1,484805850)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.productDes))])])],1)]}}],null,!1,1123870323)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n                ")])]}}],null,!1,3755857296)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                ")])]}}],null,!1,3661591481)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                  "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n                ")])]}}],null,!1,4209408813)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,3520230835)})],1)],1)],1)],1):e._e(),e._v(" "),e.allPaymentList.length>0?l("el-tab-pane",{attrs:{label:"资金流",name:"fifth"}},[l("el-table",{staticStyle:{width:"100%","margin-bottom":"22px"},attrs:{data:e.allPaymentList}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",[e._v("\n                "+e._s(t.row.time)+"\n              ")]),e._v(" "),l("div",[e._v("\n                "+e._s("【"+t.row.personName+"】")+"\n              ")])])]}}],null,!1,1286921178)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"tradeType",label:"買入/賣出"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(e.tradeTypeRgx(t.row.tradeType))+"\n            ")])]}}],null,!1,1165884861)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.productDes))])])],1)]}}],null,!1,1123870323)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n            ")])]}}],null,!1,3234581136)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n            ")])]}}],null,!1,3727199891)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n            ")])]}}],null,!1,2028374919)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,3520230835)})],1)],1):e._e(),e._v(" "),l("el-tab-pane",{attrs:{label:"备注信息",name:"fourth"}},[l("el-form",{ref:"noteForm"},[l("el-form-item",{attrs:{label:"备注"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1)],1)],1)],1),e._v(" "),l("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],staticClass:"update-sure-button",attrs:{type:"primary"},on:{click:e.basicInfoUpdateSure}},[e._v("确 定\n  ")])],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("z8U1")},"data-v-6dd04d01",null);t.default=u.exports},YH8a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i=a("pFYg"),o=a.n(i),r=a("bOdI"),n=a.n(r),c={components:{detailsVue:a("XMJn").default},data:function(){var e;return e={baseUrl:this.$store.state.baseUrl,pageSel:0,page:1,pagesize:10,total:0,searchKey:"",delId:0,updateId:0,onSaleProducts:[],centerDialogVisible:!1,stockLoc2:[],estimateTime:"",createTime:"",sellCurrencyId:"",isPayCheck:!1,isReceiveCheck:!1,currencyId:"",stockLoc:"",note:"",priceTran:"",customer:"",bill:"",soldTime:new Date,isStock:0,stockOutTime:"",receiveWarehouseId:null,companyAndWarehouseList:[],sold:0,currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stockLocs:[],stockLocList:[],stateList:[{label:"采购中",value:"0"},{label:"存货",value:"1"},{label:"已出售",value:"3"},{label:"已寄卖",value:"8"},{label:"客人预留",value:"2"},{label:"购入退货",value:"6"},{label:"客人取回",value:"5"},{label:"遗失",value:"7"}],dialogStateVisible:!1,updateStateId:null,stateList2:[{label:"全部",value:""},{label:"采购中",value:"0"},{label:"存货",value:"1"},{label:"已出售",value:"3"},{label:"已寄卖",value:"8"},{label:"客人预留",value:"2"},{label:"购入退货",value:"6"},{label:"客人取回",value:"5"},{label:"客人寄卖",value:"9"},{label:"遗失",value:"7"}],soldSel:"1",noteDialogVisible:!1},n()(e,"bill",""),n()(e,"isRequire",0),n()(e,"dialogWarehouseLocUpdateVisible",!1),n()(e,"locUpdateId",null),n()(e,"saleLogHkPrice",""),n()(e,"saleTotalHkPrice",""),n()(e,"headSellMoney",""),n()(e,"isHeadConsigns",0),n()(e,"headCurrency",""),n()(e,"buyAllPrice",void 0),n()(e,"totalHkPrice",void 0),n()(e,"logHkPrice",void 0),n()(e,"isWarehouse",null),n()(e,"customerList",[]),n()(e,"salePaymentList",[]),n()(e,"role",null),n()(e,"isUpdateOrDel",null),n()(e,"companyId",null),n()(e,"currencyGlobal",""),n()(e,"sellerId",""),n()(e,"sellerList",[]),n()(e,"customerTypeList",[]),n()(e,"customerType",""),n()(e,"numIsEquality",!1),e},created:function(){this.role=sessionStorage.getItem("role"),this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.getStockLocList(),this.getCustomerList(),this.getCompanyAndWarehouseList(),this.getSellerAndCustomerType()},methods:{soldChange:function(){8==this.sold?this.customerType="公司":this.customerType=""},getCustomerList:function(){var e=this;this.$axios.get(this.baseUrl+"/consumerListGet").then(function(t){console.log("客户列表"),console.log(t),e.customerList=t.data}).catch(function(e){console.log(e)})},querySearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.customer=e.value},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":o()(e));var a=this.customerTypeList,l=!0,i=!1,r=void 0;try{for(var n,c=s()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.customerType=e.value},isSellHKD:function(){2==this.sellCurrencyId?this.saleTotalHkPrice=this.priceTran:this.saleTotalHkPrice=void 0},noteCheck:function(e){this.note=e.note,this.noteDialogVisible=!0},warehouseLocUpdate:function(e){console.log(e);var t=sessionStorage.getItem("companyId");if(e.companyId!=t)this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3});else{this.locUpdateId=e.id;var a=!0,l=!1,i=void 0;try{for(var o,r=s()(this.stockLocs);!(a=(o=r.next()).done);a=!0){var n=o.value;n.warehouseId==e.stockLocId&&n.companyId==e.companyId&&(this.stockLoc={warehouseId:Number(e.stockLocId),warehouseName:n.warehouseName,companyId:Number(e.companyId)})}}catch(e){l=!0,i=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw i}}console.log(this.stockLoc),this.sold=e.sold,this.companyId=e.companyId,this.createTime=e.createTime,this.isWarehouse=e.sold,this.isUpdateOrDel=e.isUpdateOrDel,this.note=e.note,this.dialogWarehouseLocUpdateVisible=!0}},selectChange:function(){console.log(this.stockLoc)},warehouseLocUpdateSure:function(){var e=this;if(-1===this.isUpdateOrDel)this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3}),this.dialogWarehouseLocUpdateVisible=!1;else{if(0!=this.isWarehouse&&(""==this.createTime||null==this.createTime))return void this.$message.error({message:"数据不能为空",showClose:!0,duration:2e3});""==this.stockLoc?this.$message.error({message:"数据不能为空",showClose:!0,duration:2e3}):this.$axios.put(this.baseUrl+"/stockLocSave",{id:this.locUpdateId,stockLocId:this.stockLoc.warehouseId,companyId:this.stockLoc.companyId,createTime:this.createTime,note:this.note}).then(function(t){console.log(t),200==t.status&&(e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.dialogWarehouseLocUpdateVisible=!1,e.searchProducts())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})}},stateupdate:function(e){console.log("数据"),console.log(e);var t=sessionStorage.getItem("companyId");e.companyId!=t?this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3}):(this.updateStateId=e.id,4==e.sold?this.sold="3":this.sold=e.sold,this.bill=e.bill,this.estimateTime=e.estimateTime,this.createTime=e.createTime,this.priceTran=e.priceTran,this.customer=e.customer,this.soldTime=e.soldTime,this.sellCurrencyId=e.sellCurrencyId,this.stockOutTime=e.stockOutTime,this.note=e.note,this.sellPayList=e.sellPaymentList,this.saleLogHkPrice=e.saleLogHkPrice,this.saleTotalHkPrice=e.saleTotalHkPrice,this.headSellMoney=0==e.headSellMoney?"":e.headSellMoney,this.isHeadConsigns=null==e.isHeadConsigns||-1==e.isHeadConsigns?0:e.isHeadConsigns,this.headCurrency=e.headCurrency,this.salePaymentList=e.salePaymentList,this.isUpdateOrDel=e.isUpdateOrDel,this.isReceiveCheck=0!=e.isReceiveCheck&&null!=e.isReceiveCheck,3==e.sold?this.isStock=0:4==e.sold&&(this.isStock=1),8==e.sold?(this.receiveWarehouseId=[e.receiveCompanyId,e.receiveWarehouseId],console.log(this.receiveWarehouseId)):this.receiveWarehouseId=null,this.sellerId=e.sellerId,this.customerType=e.customerType,this.dialogStateVisible=!0)},dataCheck:function(){var e=this;if(1==this.sold){if(""==this.createTime||null==this.createTime)return this.$message.error({message:"请选择入库时间",showClose:!0,duration:2e3}),1}else if(2==this.sold){if(""==this.customer||null==this.customer)return this.$message.error({message:"请填写客户姓名",showClose:!0,duration:2e3}),1}else if(3==this.sold&&1==this.isStock){if(""==this.soldTime||null==this.soldTime||""==this.customer||null==this.customer||""==this.stockOutTime||null==this.stockOutTime||""==this.bill||null==this.bill||(""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||null==this.saleTotalHkPrice)&&0==this.isHeadConsigns||(""==this.headSellMoney||void 0==this.headSellMoney||null==this.headSellMoney)&&1==this.isHeadConsigns||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType)return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1}else if(5==this.sold){if(""==this.stockOutTime||null==this.stockOutTime)return this.$message.error({message:"请选择取回时间",showClose:!0,duration:2e3}),1}else if(6==this.sold){if(""==this.stockOutTime||null==this.stockOutTime)return this.$message.error({message:"请选择退货时间",showClose:!0,duration:2e3}),1}else if(7==this.sold){if(""==this.stockOutTime||null==this.stockOutTime)return this.$message.error({message:"请选择时间",showClose:!0,duration:2e3}),1}else if(8==this.sold&&(""==this.soldTime||null==this.soldTime||null==this.receiveWarehouseId||""==this.receiveWarehouseId||""==this.bill||""==this.saleTotalHkPrice||void 0==this.saleTotalHkPrice||""==this.sellerId||null==this.sellerId||""==this.customerType||null==this.customerType))return this.$message.error({message:"数据不能为空，请检查数据填写",showClose:!0,duration:2e3}),1;if(this.salePaymentList.length>0&&(3==this.sold||3==this.sold&&1==this.isStock||8==this.sold)){var t;if(t=this.salePaymentList.reduce(function(e,t){return e+1*t.totalHkPrice},0),this.saleTotalHkPrice&&this.saleTotalHkPrice!=t){this.numIsEquality=!0;var a="產品出售記錄總金額為："+t+this.currencyGlobal+" ,您錄入的出售金額為："+this.saleTotalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.numIsEquality=!1,e.submitData()}).catch(function(){console.log("取消提交")})}this.numIsEquality=!1}else this.numIsEquality=!1},stateupdateSure:function(){-1===this.isUpdateOrDel?(this.$message.error({message:"该商品不在您所管理的仓库中，不可进行修改",showClose:!0,duration:2e3}),this.dialogStateVisible=!1):1!==this.dataCheck()&&0==this.numIsEquality&&this.submitData()},submitData:function(){var e=this;this.$axios.put(this.baseUrl+"/stateSave",{id:this.updateStateId,sold:this.sold,bill:this.bill,createTime:1==this.sold?this.createTime:"",estimateTime:this.estimateTime,priceTran:this.priceTran,customer:this.customer,soldTime:this.soldTime,sellCurrencyId:this.sellCurrencyId,isStock:this.isStock,stockOutTime:8==this.sold?this.soldTime:this.stockOutTime,note:this.note,saleLogHkPrice:this.saleLogHkPrice,saleTotalHkPrice:this.saleTotalHkPrice,headSellMoney:this.headSellMoney,isReceiveCheck:0==this.isReceiveCheck?0:1,receiveWarehouseId:8==this.sold?this.receiveWarehouseId[1]:null,sellerId:this.sellerId,customerType:this.customerType}).then(function(t){console.log(t),200==t.status&&(e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.dialogStateVisible=!1,e.searchProducts())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},delProduct:function(e){console.log(e.sold);var t=sessionStorage.getItem("companyId");e.companyId!=t?this.$message.error({message:"该商品不在您所管理的仓库中，不可进行删除",showClose:!0,duration:2e3}):3==e.sold||4==e.sold||8==e.sold?this.$message.error({message:"该商品已出售，不可刪除",showClose:!0,duration:2e3}):(this.centerDialogVisible=!0,console.log(e),this.delId=e.id)},deleteSure:function(){var e=this;console.log("111"+this.delId),this.$axios.delete(this.baseUrl+"/delete?id="+this.delId).then(function(t){console.log(t),e.centerDialogVisible=!1,e.$message.success({message:"删除成功",showClose:!0,duration:1500}),e.handleCurrentChange(1)}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},editProduct:function(e){this.updateId=e.id,console.log(this.updateId),this.pageSel=1,document.getElementById("warehouseContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(e){this.pageSel=e,this.searchProducts()},goback:function(e){this.pageSel=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,this.searchProducts(),document.getElementById("warehouseContainer").scrollIntoView({behavior:"smooth"})},radioChange:function(){this.page=1},searchProducts:function(){var e=this;this.$axios.post(this.baseUrl+"/stockSearch",{keyword:this.searchKey,page:this.page,pageNum:10,stockLocId:this.stockLoc2&&2==this.stockLoc2.length?this.stockLoc2[1]:null,companyId:this.stockLoc2&&1==this.stockLoc2.length&&-1!=this.stockLoc2[0]?this.stockLoc2[0]:null,sold:this.soldSel}).then(function(t){console.log("模糊搜索數據"),console.log(t),e.onSaleProducts=t.data.list,e.total=t.data.total,console.log(e.onSaleProducts)})},getStockLocList:function(){var e=this;this.$axios.get(this.baseUrl+"/stockSearchLocList").then(function(t){if(console.log("所有公司库存地列表"),console.log(t),e.stockLocList=t.data,e.stockLoc2=[],e.stockLocList.length>0){e.stockLocList[0].warehouseList=void 0;var a=Number(sessionStorage.getItem("companyId"));e.stockLoc2.push(a)}e.searchProducts(),e.getStockLocSelfList()}).catch(function(e){console.log(e)})},getStockLocSelfList:function(){var e=this;this.$axios.get(this.baseUrl+"/stockLocList").then(function(t){console.log("自己公司库存地列表"),console.log(t),e.stockLocs=t.data,e.stockLocs.length>0&&e.stockLocs.splice(0,1)}).catch(function(e){console.log(e)})},stockReg:function(e){for(var t=0;t<this.stockLocs.length;++t)if(e==this.stockLocs[t].warehouseId)return this.stockLocs[t].warehouseName;return""},getCompanyAndWarehouseList:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/receiveCompanyMsgGet").then(function(t){console.log("接收公司及倉庫"),console.log(t),e.companyAndWarehouseList=t.data;var a=[],l=!0,i=!1,o=void 0;try{for(var r,n=s()(e.companyAndWarehouseList);!(l=(r=n.next()).done);l=!0){var c=r.value;c.warehouseList.length>0&&a.push(c)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}e.companyAndWarehouseList=a}).catch(function(e){console.log(e)})}}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"warehouseContainer"}},[l("div",{staticClass:"onsale-container"},[0==e.pageSel?l("div",[l("div",[l("el-form",{attrs:{inline:""}},[l("el-form-item",{attrs:{label:"库存地："}},[l("el-cascader",{attrs:{options:e.stockLocList,props:{value:"id",label:"name",children:"warehouseList",checkStrictly:!0},clearable:"","popper-class":"disableFirstLevel"},on:{change:e.radioChange},model:{value:e.stockLoc2,callback:function(t){e.stockLoc2=t},expression:"stockLoc2"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"库存状态："}},[l("el-select",{on:{change:e.radioChange},model:{value:e.soldSel,callback:function(t){e.soldSel=t},expression:"soldSel"}},e._l(e.stateList2,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"输入商品款式、尺寸、材质、色号、色系、客户、货号可搜索,如：H000001、000001、1"},on:{focus:e.radioChange},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-button",{attrs:{type:"primary"},on:{click:e.searchProducts}},[e._v("查询")])],1)],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.onSaleProducts,border:""}},[l("el-table-column",{attrs:{align:"center",prop:"productCode",label:"货号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"pic",label:"展示图"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2985449157)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"prop",label:"内部图"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!==t.row.privateImg&&null!==t.row.privateImg?l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.privatePic.trim(),"preview-src-list":e.bigImg(t.row.privateImg),"z-index":5e3}})],1):e._e()]}}],null,!1,860244651)}),e._v(" "),l("el-table-column",{attrs:{width:"300px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"cost",label:"总成本"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(0==t.row.cost?"-":e.formatNumberRgx(t.row.cost)+" "+t.row.currency)+"\n            ")])]}}],null,!1,2637632034)}),e._v(" "),l("el-table-column",{attrs:{width:"180px",align:"center",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[!t.row.estimateTime||0!=t.row.sold&&2!=t.row.sold&&3!=t.row.sold?e._e():l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                预计到达："+e._s(t.row.estimateTime)+"\n              ")]),e._v(" "),!t.row.createTime||1!=t.row.sold&&2!=t.row.sold&&3!=t.row.sold&&5!=t.row.sold&&6!=t.row.sold&&7!=t.row.sold?e._e():l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                入库时间："+e._s(t.row.createTime)+"\n              ")]),e._v(" "),t.row.soldTime?l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                出售时间："+e._s(t.row.soldTime)+"\n              ")]):e._e(),e._v(" "),t.row.stockOutTime&&5==t.row.sold?l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                取回时间："+e._s(t.row.stockOutTime)+"\n              ")]):e._e(),e._v(" "),t.row.stockOutTime&&6==t.row.sold?l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                退货时间："+e._s(t.row.stockOutTime)+"\n              ")]):e._e(),e._v(" "),t.row.stockOutTime&&7==t.row.sold?l("p",{staticStyle:{margin:"0"}},[e._v("\n                时间："+e._s(t.row.stockOutTime)+"\n              ")]):e._e()])]}}],null,!1,1525353525)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"createTime",label:"在库时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(e.timeLong(t.row.createTime))+"\n            ")])]}}],null,!1,2430711742)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"stockLocId",label:"库存点"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){return e.warehouseLocUpdate(t.row)}}},[l("span",{staticClass:"handle-button"},[e._v(e._s(e.stockReg(t.row.stockLocId)))]),e._v(" "),l("img",{staticStyle:{width:"15px",height:"18px"},attrs:{src:a("MwR5")}})])])]}}],null,!1,1354584736)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"sold",label:"库存状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){return e.stateupdate(t.row)}}},[l("span",{staticClass:"handle-button"},[e._v(e._s(e.soldStateRgx(t.row.sold)))]),e._v(" "),l("img",{staticStyle:{width:"15px",height:"18px"},attrs:{src:a("MwR5")}})])])]}}],null,!1,2591487541)}),e._v(" "),l("el-table-column",{attrs:{width:"130px",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.delProduct(t.row)}}},[e._v("删除")]),e._v(" "),l("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row)}}},[e._v("编辑")]),e._v(" "),l("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"text"},on:{click:function(a){return e.noteCheck(t.row)}}},[e._v("备注")])],1)]}}],null,!1,2001813291)})],1),e._v(" "),l("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"500px"},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[l("span",[e._v("确定删除该商品？删除后不能恢复")])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.deleteSure}},[e._v("确 定 ")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"备注",visible:e.noteDialogVisible,width:"500px"},on:{"update:visible":function(t){e.noteDialogVisible=t}}},[l("div",{staticStyle:{"text-align":"center"}},[e.note?l("p",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.note))]):l("p",{staticStyle:{"font-size":"16px"}},[e._v("暂无备注信息~")])])]),e._v(" "),l("el-dialog",{attrs:{title:"库存地",visible:e.dialogWarehouseLocUpdateVisible,width:"500px"},on:{"update:visible":function(t){e.dialogWarehouseLocUpdateVisible=t}}},[l("div",[l("el-form",{attrs:{"label-width":"80px"}},[l("el-form-item",{attrs:{label:"库存地",required:""}},[8==e.sold?l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"","value-key":"warehouseId"},model:{value:e.stockLoc,callback:function(t){e.stockLoc=t},expression:"stockLoc"}},e._l(e.stockLocs,function(t){return l("el-option",{key:t.warehouseId,attrs:{label:t.warehouseName,value:t}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.companyName))])])}),1):l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"","value-key":"warehouseId"},on:{change:e.selectChange},model:{value:e.stockLoc,callback:function(t){e.stockLoc=t},expression:"stockLoc"}},e._l(e.stockLocs,function(t){return l("el-option",{directives:[{name:"show",rawName:"v-show",value:t.companyId==e.companyId,expression:"item.companyId == companyId"}],key:t.warehouseId,attrs:{label:t.warehouseName,value:t}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.companyName))])])}),1)],1),e._v(" "),0!=e.isWarehouse?l("el-form-item",{attrs:{label:"入库时间",required:""}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"备注"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1)],1)],1),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogWarehouseLocUpdateVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.warehouseLocUpdateSure}},[e._v("确 定\n          ")])],1)]),e._v(" "),e.dialogStateVisible?l("el-dialog",{attrs:{title:"库存数据",visible:e.dialogStateVisible,width:"800px","close-on-press-escape":!1,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0},on:{"update:visible":function(t){e.dialogStateVisible=t}}},[l("div",[l("el-form",{attrs:{"label-width":"121px"}},[l("el-form-item",{attrs:{label:"库存状态",required:""}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.soldChange},model:{value:e.sold,callback:function(t){e.sold=t},expression:"sold"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),0==e.sold?l("el-form-item",{attrs:{label:"预计到达时间"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.estimateTime,callback:function(t){e.estimateTime=t},expression:"estimateTime"}})],1):e._e(),e._v(" "),1==e.sold?l("el-form-item",{attrs:{label:"入库时间",required:""}},[l("el-form-item",[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期时间","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.createTime,callback:function(t){e.createTime=t},expression:"createTime"}})],1)],1):e._e(),e._v(" "),5==e.sold?l("el-form-item",{attrs:{label:"取回时间",required:""}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),6==e.sold?l("el-form-item",{attrs:{label:"退货时间",required:""}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),7==e.sold?l("el-form-item",{attrs:{label:"时间",required:""}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"账单号",required:1==e.isStock||8==e.sold}},[l("el-input",{model:{value:e.bill,callback:function(t){e.bill=t},expression:"bill"}})],1):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:8==e.sold?"寄卖时间":"出售时间",required:1==e.isStock||8==e.sold}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.soldTime,callback:function(t){e.soldTime=t},expression:"soldTime"}})],1):e._e(),e._v(" "),2==e.sold||3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:8==e.sold?"寄卖外币金额":"出售外币金额"}},[l("div",{staticStyle:{width:"100%",display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{type:"text",placeholder:8==e.sold?"请输入寄卖外币金额":"请输入出售外币金额",clearable:""},on:{change:e.isSellHKD},model:{value:e.priceTran,callback:function(t){e.priceTran=t},expression:"priceTran"}}),e._v(" "),l("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.isSellHKD},model:{value:e.sellCurrencyId,callback:function(t){e.sellCurrencyId=t},expression:"sellCurrencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"是否收款完成"}},[l("el-switch",{model:{value:e.isReceiveCheck,callback:function(t){e.isReceiveCheck=t},expression:"isReceiveCheck"}})],1):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"物流费/手续费"}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入物流费/银行手续费送货"},model:{value:e.saleLogHkPrice,callback:function(t){e.saleLogHkPrice=t},expression:"saleLogHkPrice"}}),e._v(" "),l("span",[e._v(e._s(e.currencyGlobal))])],1)]):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:8==e.sold?"寄卖"+e.currencyFontRgx(e.currencyGlobal)+"金额":"出售"+e.currencyFontRgx(e.currencyGlobal)+"金额",required:0==e.isHeadConsigns&&(1==e.isStock||8==e.sold)}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:8==e.sold?"请输入寄卖"+e.currencyFontRgx(e.currencyGlobal)+"金额":"请输入出售"+e.currencyFontRgx(e.currencyGlobal)+"金额"},model:{value:e.saleTotalHkPrice,callback:function(t){e.saleTotalHkPrice=t},expression:"saleTotalHkPrice"}})],1)]):e._e(),e._v(" "),3==e.sold&&1==e.isHeadConsigns?l("el-form-item",{attrs:{label:"出售"+e.currencyFontRgx(e.headCurrency)+"金额",required:1==e.isStock}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{staticStyle:{flex:"1"},attrs:{placeholder:"请输入出售"+e.currencyFontRgx(e.headCurrency)+"金额，用于与总公司结算"},model:{value:e.headSellMoney,callback:function(t){e.headSellMoney=t},expression:"headSellMoney"}})],1)]):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"销售人员",required:1==e.isStock||8==e.sold}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择销售人员"},model:{value:e.sellerId,callback:function(t){e.sellerId=t},expression:"sellerId"}},e._l(e.sellerList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),e._v(" "),2==e.sold||3==e.sold?l("el-form-item",{attrs:{label:"客户姓名",required:1==e.isStock||2==e.sold}},[l("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择/输入客户姓名"},on:{select:e.handleSelect},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1):e._e(),e._v(" "),3==e.sold||8==e.sold?l("el-form-item",{attrs:{label:"客户类型",required:1==e.isStock||8==e.sold}},[l("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"请选择/输入客户类型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.customerType,callback:function(t){e.customerType=t},expression:"customerType"}})],1):e._e(),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:8==e.sold,expression:"sold == 8"}],attrs:{label:"接收仓库",required:""}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.companyAndWarehouseList,props:{value:"id",label:"name",children:"warehouseList"}},model:{value:e.receiveWarehouseId,callback:function(t){e.receiveWarehouseId=t},expression:"receiveWarehouseId"}})],1),e._v(" "),3==e.sold?l("el-form-item",{attrs:{label:"是否同时出库","label-width":"110px"}},[l("el-radio-group",{model:{value:e.isStock,callback:function(t){e.isStock=t},expression:"isStock"}},[l("el-radio",{attrs:{label:0}},[e._v("否")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1):e._e(),e._v(" "),3==e.sold&&1==e.isStock?l("el-form-item",{attrs:{label:"出库时间",required:""}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.stockOutTime,callback:function(t){e.stockOutTime=t},expression:"stockOutTime"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"备注"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.salePaymentList.length>0&&3==e.sold,expression:"salePaymentList.length > 0 && sold == 3"}],attrs:{label:"出售记录"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salePaymentList}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("div",[e._v("\n                        "+e._s(t.row.time)+"\n                      ")]),e._v(" "),l("div",[e._v("\n                        "+e._s("【"+t.row.personName+"】")+"\n                      ")])])]}}],null,!1,2844442074)}),e._v(" "),l("el-table-column",{attrs:{width:"200px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.productDes,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v("\n                          "+e._s(t.row.productDes)+"\n                        ")])])],1)]}}],null,!1,1639563411)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                      "+e._s(""==t.row.money||0==t.row.money?"/":e.formatNumberRgx(t.row.money)+" "+t.row.currency)+"\n                    ")])]}}],null,!1,1377001616)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                      "+e._s(""==t.row.totalToHkRate||0==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                    ")])]}}],null,!1,3795726521)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.currencyFontRgx(e.currencyGlobal)+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                      "+e._s(""==t.row.totalHkPrice||0==t.row.totalHkPrice?"/":e.formatNumberRgx(t.row.totalHkPrice)+" "+e.currencyGlobal)+"\n                    ")])]}}],null,!1,1417055533)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"}}),e._v(" "),l("el-table-column",{attrs:{width:"200px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-end"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,3520230835)})],1)],1)],1)],1),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogStateVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.stateupdateSure}},[e._v("确 定\n          ")])],1)]):e._e(),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1):e._e(),e._v(" "),1==e.pageSel?l("div",[l("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.goback,updateSuccess:e.updateSuccess}})],1):e._e()])])},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("H21K"),a("wXBS")},"data-v-3c062202",null);t.default=u.exports},YOOP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNTgyRDlGM0E5NkUxMUVBOEY4MUY0NDMzMTBBNzExRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNTgyRDlGNEE5NkUxMUVBOEY4MUY0NDMzMTBBNzExRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI1ODJEOUYxQTk2RTExRUE4RjgxRjQ0MzMxMEE3MTFFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI1ODJEOUYyQTk2RTExRUE4RjgxRjQ0MzMxMEE3MTFFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+5u0u5QAAAlxJREFUeNqslk1IVFEUx2dURLNapFETRkFfJJgESczKCGpVYBktWvTB0LYgsVW4MIMggiJoNUNfEEQFFS2L6MNUiNKiAiGpRRkF1UKIYMp+R/4XLo/nzB19F36ce+57d/5zP845L53P51MVtrOwE7rgTS6XC5pUVeZ5PSyNjB2GNbDVDRQKhRZYPFuhg/ABJqDNG/8iOykRE3wL4/SPVCJUDbfgEmQ0NuU9n4rY31CE+XAesUewqJxQA7zU/lu7Civh9Uz/lDMaxCyDCxraAqOIZUoJPYUN6u+HA/Cp3EEj9h1s2zo11AzDiFXHCZ2DjervgmuVXkfE7mKycpfDjajQejiqfi/cSc2yITaEOSS3i1V1+EL9suNwMjXHhthlzKDcM05oCez2VpNU65FtZ1VrTahDA3/gelIqrGpAOzS9hVXeLXsRiZck2oDsOl9oKJV8c6GRMaFGOROBk11OWxjw7qRsnQn9ktMYKORu06uAd+vd+ZvQOzmbAoUsmFfB44B3m2W/mdConGygUNG7TeWa+80xE3omx7Lv9qRuAbHTimmRe8+EPsIDDZxO8Madkn1PTI24FHRC1pJqLoHVbFO5t3bcz3XDcFN9+4hon4PICtsquU9Yzf1omdgHn9V/7n8TVCDSpgxTp8rbGVePirolX6EGHmqfGwJFjmFGoEkiWVbz0z1Px3xuWTa3ArbZxQDc1tZazP1QTlygMr8H9sJqd5XtfBAZ8380XeK7rg+6YV5MHP2D2pg5VqV7EClGH9SU2A2rTRdVLXcoc9RG5vxVwNuBX0FgxkD+L8AA03CcGrL4auIAAAAASUVORK5CYII="},ZBoC:function(e,t,a){var l={"./bill/billEntry.vue":"Vnrh","./bill/billReport.vue":"wTnc","./common/details.vue":"XMJn","./companyAdmin/companyAdmin.vue":"goGn","./companyAdmin/normalAdmin.vue":"U2gf","./companyAdmin/systemCompanyAdmin.vue":"T8Qe","./home/home.vue":"LqM4","./login/login.vue":"EV1k","./personageData/costNot.vue":"Bv5a","./personageData/export.vue":"mcUp","./personageData/onSale.vue":"PK+x","./personageData/sold.vue":"OWnv","./personageData/warehouse.vue":"YH8a","./publish/publish.vue":"HYBK","./salesTicket/salesHistory.vue":"U2Kl","./salesTicket/salesStatement.vue":"oVdc","./salesTicket/salesTicketAdmin.vue":"foFa","./salesTicket/sendDocumentsAdd.vue":"raHN","./salesTicket/sendDocumentsHistory.vue":"/vSe","./soldAdmin/goodsDelivery.vue":"J6Z7","./soldAdmin/goodsReturn.vue":"Gvu5","./upload/upload.vue":"BD2p","./upload/uploadImg.vue":"PxuV","./userAdmin/userAdmin.vue":"yrMe"};function s(e){return a(i(e))}function i(e){var t=l[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(l)},s.resolve=i,e.exports=s,s.id="ZBoC"},ZTWj:function(e,t){},befP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAaCAYAAABctMd+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTUzRDlBNzA1MTkxMUVBQkVBMjg0RTY5RTg2Qzk1OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTUzRDlBODA1MTkxMUVBQkVBMjg0RTY5RTg2Qzk1OCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFNTNEOUE1MDUxOTExRUFCRUEyODRFNjlFODZDOTU4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFNTNEOUE2MDUxOTExRUFCRUEyODRFNjlFODZDOTU4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+011JegAAAatJREFUeNq0lblLA1EQxjfmUDwKMQTFQlGwFxHURsQDJV0Km2CRwioIdv4FFlZ2YmUQorViIQhaaCUIgmhhGglaKKnU4BFN1m9kAs9h32aPOPDLztud+fZlhjcbME3TqGETYAEMgx5ACTlwBtbAkzaTxG3YMO3tBSzq8nWiEXBoIVbSvGTdjfiVSN4HcdAJekESnIuYrBPxVZGUtinbsYidsxNvF8G7NXoSBI9K/D0I68RXhHishjgxKXJGdeKXSlDGgXCVA252DnRZicfEDsZciBvc7D/3AsohGgC37JdBmA+MZwspfr/iv4MO8OlR95V+aOeDuGZBH2iqHlxQ9LHpPEiS+BGcaaP+tk1lCYqbRY+1bgAtyrpC4h/KjR2Qpgce+7cJ5nldComAU/DsoxQnivjvX1EtapMYAym+6iwq6+TUZsAWmHLTBCfWCpbZXxKN8y1On7oh9kfAeD3Fr3kkkH2BGy/iBU3cHWgDCS5RXhNX0M0WsllwAb4tXvwA9njmdItnFdaKS/FmZZ1g6mGNtLs343+sTIOL5niG53nJ5wwPgAh/F1I/AgwAEi2l1OLus/sAAAAASUVORK5CYII="},cjWg:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAcCAYAAADvANYcAAAAAXNSR0IArs4c6QAAA91JREFUSEvtlk9oXFUYxc+5b97MpFZoo6mplVJTS5NM0xZ0UW0RrQuxiIXaBMkfTfBPdSFuBREUBF2I6KKlFCwmk0ZpiUhBF7XUguhCsW1SMhNaTJrWUqSYkpixSefde+TNNP/sZBzKxJV39d6737vf757vvO8+tvRPNdCP7sJiDuey1plPP2/g74XSsC3lRgCsXkyGcG0BX3fXm6cXgtBiA+TWFy4lE6bgZkMl/hsI4GKyjmtA3pLvf4hpG5RLiVEA5yHcD2LFAh5b3HJY8qGeOv7SnNI6DxoEYAqALDJEwLU9GznUeEpV8bguA/ALQFxJ1nFVOYx5TuJLNDCQ9gJIhMmM5QOdDfy1fUDVlvpShh2ydquh9yyIPif7c4ReprOOx8L4xsPyjjTR3p4npIPJhPdi+HJrSvsIvTYPIq01zmCFs/qQwBjkegGuF/kYoQsSTjIEJ3dbcUdPgmfC94sYkz8JLg1xM4lN+X7Dzu56tofXbSl7AODLcyGa+1VjPKwitQ/AhmJNkIbbu2r53cIQxHU3xupDWzjePKDNHnW6FIjnBnWv7/AOiCFI7xeBGEGWieQmZoopkRkzXHm0ln8+P6iNcuorBaLjvKqCrK5YBY94jLwn4fF/gtBgVM7u7k743xf1hIAJVrI6Wc1MS1oNRurP939+lkywI+eJtPZT2pN7bliTrOVwa0orCf3oyD0uQF8EqPSi4dk1O4IAwdQAhv/VmBKCwAUPj8X9s5U3sN1Q3+SVwDFmmT/2I+oF8WTumnxmcimO+9cQd1FU+MKbkF4BECtUEoFnjMELXbXMbW5BY4YgJMYBLJvXfIRcHUHcMZOAsBBGs5YP+p72A9hRzJQ35yYoPtqV4OlytW2I/AhCH6HOEgDyIcSJZJ15omwQznCbsfoAxLZpCEGfEFwLIPyZGXVyrxuag3PK5CxYUy4IFxWrblAXgdkyiXw3IA74ToOC3rYKjkfonwIQnQZ14K4Q4g8AlSVLWDjQCbyP1CUI3pyQDLJsUBRbuBxHMaovbqoyEyLpVbYOqIlU2GCq8h/AbQzBTsZYG5vSbwSWzpTDcOeUxYkj9ci0X0As8xeWxKlzAO6aUUJsY+5GYmOq4MlXEtHVeriTZNCWclcB3D0DQb4FonfJBIbGY6j2GKym8b4lUDErhWvKQ5RhhCdjfINCiOWzy2mvnH6YSniH/XSw1WNkvRSadRZCcq1lg2hN2TcIflxgP65iGe+8fk09IHbeMk/2lwWiUfJiKV0mcU8hUUWcpbAOQLzQfFkg2ocVt5MagRb8vyxa8LJAhBlaBvSUoQ7N90RJZvvqb7Wn62oRtOF4AAAAAElFTkSuQmCC"},dHKz:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAcCAYAAACK7SRjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRDQ5QkZFOTA1MTkxMUVBODdENUQ1MzkzQTY0RjdCOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRDQ5QkZFQTA1MTkxMUVBODdENUQ1MzkzQTY0RjdCOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkVENDlCRkU3MDUxOTExRUE4N0Q1RDUzOTNBNjRGN0I4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVENDlCRkU4MDUxOTExRUE4N0Q1RDUzOTNBNjRGN0I4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Y7EQpAAAAshJREFUeNqklE1oE0EYhmd2J7vNQT1of5JoA6KlIBY9iJUeFMGDih5ELyIeBNFTQUUQRVEQPHko4kXFi4IelCIiigd/8KfWgwejUBBtqUWD2GK1NMn+zPjOdrcZl2R3Ez/ysPNtdt+Z+fabl5798oPEhA62gl7QBirgI3gGRqJeZDHCu8AlkK3z/3VwEPBaf2oRwhfA3QhhGQf8XbQ3In7CR41RcB+8Cd3vBm/98sWKd/mrDuK7X57lYCfY4I9vKM90gstJxM8rY1nLHjBYYxf7wW3l3iGQiRJPgx1Kfg38jKj5sVC+O0p8FWhR8qsx3fQNDCv52ijx1lA+RuLjvTJeEiVeDOUrE4ivUcaTUeJyFb+V/EiMsJx8nZK/iBJ3wS0l35OitIdRWk883H534lrxzLw3QHPG5e8qnPdjklZR9ZqN4CnYorx3OrTrmuLSybYZGp2asjkpzFT0DzPWwLTDJwxK5Qee8E1rk/LOUOh81D/+WPBDXD4VLYdwLHeWc1Ks2IZOSR73O0KPPwJ9Sb2lF3qjmGD9Al0jlkCG36KUTsS/z036pZB2LJJYrqzhYzmwIZo1GdHxMQ1KhhYbbNjiQvqM5TvhKzCb1M+7AmGvbYT35V7n0+ww5ilUUB8+V7LEEZTFBE9CdT8Fsb6SKwplCIvkwnL3eXXl50Au5HBXSOMhbXifrCpYIVeeAv2hU9aMsIy9/lVqHpfim32rDeIkaT7uKePtWtCjtHqAXv6H+E1a1cowqHcyjXqHBZfnFhdNqQrPLuggDhoRcxImcmqOlWzyy3ZJxmTdbQY7ih5nDXad9CHbEaJdas26nOTMFGXFiuOOl23vsHwuWavTOr24kOmk0R3A2MhX6IyXHc/wbGETDR08QucbnmJ7tOmCB2chsGiWNVMDtiDLph0302GkiOcnTdRd2kUOdoHSaH8c7i5tYQ/+CjAAkMbY/YAInSAAAAAASUVORK5CYII="},"de1/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAGCAYAAAAYLBS/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MUEwRDcxMjYwN0QxMUVCQTk4MkM4RUIwQ0JDQzI4RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4MUEwRDcxMzYwN0QxMUVCQTk4MkM4RUIwQ0JDQzI4RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgxQTBENzEwNjA3RDExRUJBOTgyQzhFQjBDQkNDMjhEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjgxQTBENzExNjA3RDExRUJBOTgyQzhFQjBDQkNDMjhEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+U0NYDQAAAF5JREFUeNpi+P//fwUQ//tPHACpK2UAEiCcAsR/CGgAySeB1MM0gXAQEP/AoQEkHghTi6wJhJ2A+BOaBhDfEVkduiYQNgHiV1ANINoYXQ02TSCsAcQHgVgdmzxAgAEA/f4P+dfLfiMAAAAASUVORK5CYII="},eOUC:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MjE2NTU2NjYwN0QxMUVCQTQ5NTkyMjFGQjRCNTgxNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MjE2NTU2NzYwN0QxMUVCQTQ5NTkyMjFGQjRCNTgxNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjYyMTY1NTY0NjA3RDExRUJBNDk1OTIyMUZCNEI1ODE2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjYyMTY1NTY1NjA3RDExRUJBNDk1OTIyMUZCNEI1ODE2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NiitVQAAAVJJREFUeNqk08srxUEUwPF7PRZel7qFLIiVjQVJeWzuH+Cx4j8gW5KdBSkbioU8dnZukkgW7KREZCFEsRF2REjy+B6dX51OY8PUpzu/85tz7sz8ZuKF+xOxQGtAF+r0+QBp7PmBcVegGmNoj4XbKgZwHgUy9LcUMzg2ye/Ywa4p0IYTzKIkKtCBS/Qg0wweRgsaMWfiMqYbV/JnUqAPOYHpPpn+aeC95PRLgbzY31tulgs8ohNvuDDxJRwhGwu6Zz/NF0hgEK14NvFr3GPNJtuvYFsK20iaWFJjKT/Yz+ABBajVwyOH5Es2CxX40M0t+m0GmyjHkK53ElNy4DRWhi0/gxdX5AYjGNUzIhu6gc/Acl9lBuPS0UATepGvCctY135C3zVHyZIrBVZQpcdTdngad3r6alCPedzqu2J9rpTcf18m/xXOdN3+Oh9iMXSdvwUYAPdSS1zGnOljAAAAAElFTkSuQmCC"},fYjw:function(e,t){},foFa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("pFYg"),s=a.n(l),i=a("BO1k"),o=a.n(i),r={components:{detailsVue:a("XMJn").default},data:function(){return{baseUrl:this.$store.state.baseUrl,role:null,page:1,total:0,stockLoc2:"",stockLocList:[],searchKey:"",updateId:null,pageSel:0,addDataConsign:{sold:null,bill:"",isReceiveCheck:!1,customer:"",soldTime:"",stockOutTime:"",sellCurrencyId:"",sellerId:"",customerType:""},sellerList:[],customerTypeList:[],addDataRules:{sold:[{required:!0,message:"請選擇庫存狀態",trigger:"change"}],bill:[{required:!0,message:"請輸入賬單號",trigger:"blur"}],sellerId:[{required:!1,message:"請選擇銷售人員",trigger:"change"}],customer:[{required:!1,message:"請選擇客戶",trigger:"change"}],customerType:[{required:!1,message:"請選擇客戶類型",trigger:"change"}],soldTime:[{required:!1,message:"請選擇日期",trigger:"change"}],stockOutTime:[{required:!1,message:"請選擇出庫時間",trigger:"change"}]},currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stateList:[{label:"已出售",value:"3"},{label:"已出库",value:"4"}],notSoldBagList:[],sellStockList:[],customerList:[],subTotal:0,companyIdZong:null,currencyGlobal:"",hobby:[],numIsEquality:!1}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.role=sessionStorage.getItem("role"),this.companyIdZong=sessionStorage.getItem("companyId"),this.getStockLocList(),this.getNotSoldList(),this.getSellerAndCustomerType()},mounted:function(){this.getCustomerList()},methods:{getSubPrice:function(){this.subTotal=0;var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;this.subTotal+=Number(i.saleTotalHkPrice)+Number(i.saleLogHkPrice)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}},getIsHeadConsigns:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.sellStockList);!(e=(l=s.next()).done);e=!0){if(1==l.value.isHeadConsigns)return 1}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}return 0},getHeadCurrency:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;if(3==i.headCurrency.length)return i.headCurrency}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}return""},getNumber:function(e){e.saleTotalHkPrice=this.getPriceNum(e.saleTotalHkPrice),this.getSubPrice()},checkedChange:function(e,t){if(1==e.target.checked)this.sellStockList.push({stockId:t.id,productCode:t.productCode,pic:t.pic,pics:t.pics,name:t.name,priceTran:"",saleLogHkPrice:"",saleTotalHkPrice:"",note:t.note,headSellMoney:"",isHeadConsigns:t.isHeadConsigns,headCurrency:t.headCurrency,totalBillSaleMoney:t.totalBillSaleMoney});else if(0==e.target.checked)for(var a in this.sellStockList)this.sellStockList[a].stockId==t.id&&this.sellStockList.splice(a,1);this.getSubPrice()},dataCheck:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;if(1==i.isHeadConsigns&&""==i.headSellMoney)return this.$message.error({message:"貨號 "+i.productCode+" 請輸入出售"+this.currencyFontRgx(this.getHeadCurrency())+"金額，用於與總公司結算",showClose:!0,duration:2e3}),1;if(-1==i.isHeadConsigns&&""==i.saleTotalHkPrice)return this.$message.error({message:"貨號 "+i.productCode+" 請輸入出售"+this.currencyFontRgx(this.currencyGlobal)+"金額",showClose:!0,duration:2e3}),1}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}return 0},submitSales:function(e){var t=this;console.log(this.sellStockList),0==this.sellStockList.length?this.$message.error({message:"請選擇銷售商品",showClose:!0,duration:2e3}):this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log(t.sellStockList),t.sellStockList.forEach(function(e){if(t.$set(e,"sellCurrencyId",t.addDataConsign.sellCurrencyId),e.totalBillSaleMoney&&e.saleTotalHkPrice&&e.totalBillSaleMoney!=e.saleTotalHkPrice){t.numIsEquality=!0;var a="貨號"+e.productCode+"賬單出售記錄總金額為："+e.totalBillSaleMoney+t.currencyGlobal+" ,您錄入的出售金額為："+e.saleTotalHkPrice+t.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";t.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log("確定提交"),t.numIsEquality=!1,t.submitRequest()}).catch(function(){console.log("取消提交")})}else t.numIsEquality=!1}),4==t.addDataConsign.sold?1!=t.dataCheck()&&0==t.numIsEquality&&t.submitRequest():0==t.numIsEquality&&t.submitRequest()})},submitRequest:function(){var e=this;console.log("添加銷售單"),this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderSave",{sold:this.addDataConsign.sold,bill:this.addDataConsign.bill,customer:this.addDataConsign.customer,soldTime:this.addDataConsign.soldTime,stockOutTime:4==this.addDataConsign.sold?this.addDataConsign.stockOutTime:null,isReceiveCheck:0==this.addDataConsign.isReceiveCheck?0:1,sellCurrencyId:this.addDataConsign.sellCurrencyId,sellStockList:this.sellStockList,sellerId:this.addDataConsign.sellerId,customerType:this.addDataConsign.customerType}).then(function(t){console.log("添加銷售單"),console.log(t),200==t.status&&(e.$message.success({message:"添加成功",showClose:!0,duration:2e3}),e.page=1,e.sellStockList=[],e.$refs.addSalesTicketForm.resetFields(),e.$refs.multipleTable.clearSelection(),e.stockLoc2=e.stockLocList[0].warehouseId,e.searchKey="",e.subTotal=0,e.getNotSoldList())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},querySearch:function(e,t){console.log(void 0===e?"undefined":s()(e));var a=this.customerList,l=!0,i=!1,r=void 0;try{for(var n,c=o()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.addDataConsign.customer=e.value},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":s()(e));var a=this.customerTypeList,l=!0,i=!1,r=void 0;try{for(var n,c=o()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.addDataConsign.customerType=e.value},stateChange:function(){console.log(this.addDataConsign.sold),3==this.addDataConsign.sold?(console.log("33333333"),this.addDataRules.customer[0].required=!1,this.addDataRules.sellerId[0].required=!1,this.addDataRules.customerType[0].required=!1,this.addDataRules.soldTime[0].required=!1,this.addDataRules.stockOutTime[0].required=!1):4==this.addDataConsign.sold&&(console.log("4444444444"),this.addDataRules.customer[0].required=!0,this.addDataRules.sellerId[0].required=!0,this.addDataRules.customerType[0].required=!0,this.addDataRules.soldTime[0].required=!0,this.addDataRules.stockOutTime[0].required=!0)},getRowKeys:function(e){return e.id},bigImg:function(e){if(e)return e.split("|").filter(function(e){return e&&e.trim()})},isSellHKD:function(e){2==this.addDataConsign.sellCurrencyId?(e.saleTotalHkPrice=e.priceTran,this.getSubPrice()):e.saleTotalHkPrice=""},editProduct:function(e){this.updateId=e.id,this.pageSel=1,document.getElementById("salesTicketAdminContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(){this.pageSel=0,this.page=1,this.getNotSoldList()},getCustomerList:function(){var e=this;this.$axios.get(this.baseUrl+"/consumerListGet").then(function(t){console.log("客户列表"),console.log(t),e.customerList=t.data}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.getNotSoldList();for(var t=document.getElementsByClassName("selBtn"),a=0;a<t.length;a++)console.log(t[a].checked)},radioChange:function(){this.page=1},gobackAdd:function(){this.pageSel=0},getStockLocList:function(){var e=this;this.$axios.get(this.baseUrl+"/stockLocList").then(function(t){console.log("库存列表"),console.log(t),e.stockLocList=t.data,e.stockLoc2=e.stockLocList[0].warehouseId}).catch(function(e){console.log(e)})},getNotSoldList:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/unSellStockInList",{page:this.page,pageNum:10,keyword:this.searchKey,stockLocId:this.stockLoc2}).then(function(t){console.log("未售包包列表"),console.log(t),e.notSoldBagList=t.data.data,e.total=t.data.total,document.getElementById("salesTicketAdminContainer").scrollIntoView({behavior:"smooth"})}).catch(function(e){console.log(e)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"salesTicketAdminContainer"}},[a("div",{staticClass:"new-consignment-container"},[0==e.pageSel?a("div",{staticClass:"sales-ticket-main"},[a("div",{staticClass:"sales-ticket-left"},[a("el-form",{ref:"addSalesTicketForm",attrs:{model:e.addDataConsign,rules:e.addDataRules,"label-width":"98px"}},[a("el-form-item",{attrs:{label:"庫存狀態",required:""}},[a("el-form-item",{attrs:{prop:"sold"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇"},on:{change:e.stateChange},model:{value:e.addDataConsign.sold,callback:function(t){e.$set(e.addDataConsign,"sold",t)},expression:"addDataConsign.sold"}},e._l(e.stateList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"bill",label:"賬單號"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入賬單號"},model:{value:e.addDataConsign.bill,callback:function(t){e.$set(e.addDataConsign,"bill",t)},expression:"addDataConsign.bill"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否收款完成",prop:"isReceiveCheck"}},[a("el-switch",{model:{value:e.addDataConsign.isReceiveCheck,callback:function(t){e.$set(e.addDataConsign,"isReceiveCheck",t)},expression:"addDataConsign.isReceiveCheck"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"銷售人員",prop:"sellerId"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇銷售人員"},model:{value:e.addDataConsign.sellerId,callback:function(t){e.$set(e.addDataConsign,"sellerId",t)},expression:"addDataConsign.sellerId"}},e._l(e.sellerList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客戶姓名",prop:"customer"}},[a("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"請選擇/輸入客戶姓名"},on:{select:e.handleSelect},model:{value:e.addDataConsign.customer,callback:function(t){e.$set(e.addDataConsign,"customer",t)},expression:"addDataConsign.customer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客戶類型",prop:"customerType"}},[a("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"請選擇/輸入客戶類型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.addDataConsign.customerType,callback:function(t){e.$set(e.addDataConsign,"customerType",t)},expression:"addDataConsign.customerType"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"soldTime",label:"出售日期"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇"},model:{value:e.addDataConsign.soldTime,callback:function(t){e.$set(e.addDataConsign,"soldTime",t)},expression:"addDataConsign.soldTime"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.addDataConsign.sold,expression:"addDataConsign.sold == 4"}],attrs:{label:"出庫時間",prop:"stockOutTime"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"請選擇日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.addDataConsign.stockOutTime,callback:function(t){e.$set(e.addDataConsign,"stockOutTime",t)},expression:"addDataConsign.stockOutTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外幣金額幣種",prop:"sellCurrencyId"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},model:{value:e.addDataConsign.sellCurrencyId,callback:function(t){e.$set(e.addDataConsign,"sellCurrencyId",t)},expression:"addDataConsign.sellCurrencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",[a("el-table",{attrs:{border:"",data:e.sellStockList}},[a("el-table-column",{attrs:{width:"80px",align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"priceTran",label:"出售外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.isSellHKD(t.row)}},model:{value:t.row.priceTran,callback:function(a){e.$set(t.row,"priceTran",a)},expression:"scope.row.priceTran"}},[a("i",{staticStyle:{color:"#000","font-style":"normal","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.currencyRgx(e.addDataConsign.sellCurrencyId)))])])],1)]}}],null,!1,3602711775)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"saleLogHkPrice",label:"物流費/手續費("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:e.getSubPrice},model:{value:t.row.saleLogHkPrice,callback:function(a){e.$set(t.row,"saleLogHkPrice",a)},expression:"scope.row.saleLogHkPrice"}})],1)]}}],null,!1,2673319877)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("div",[a("span",[e._v("出售"+e._s(e.currencyFontRgx(e.currencyGlobal))+"金額")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4==e.addDataConsign.sold&&0==e.getIsHeadConsigns(),expression:"\n                      addDataConsign.sold == 4 && getIsHeadConsigns() == 0\n                    "}],staticStyle:{color:"red"}},[e._v("*")])])]}},{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.getNumber(t.row)}},model:{value:t.row.saleTotalHkPrice,callback:function(a){e.$set(t.row,"saleTotalHkPrice",a)},expression:"scope.row.saleTotalHkPrice"}})],1)]}}],null,!1,1694203215)}),e._v(" "),e.getIsHeadConsigns()?a("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("div",[a("span",[e._v("出售"+e._s(e.currencyFontRgx(e.getHeadCurrency()))+"金額")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4==e.addDataConsign.sold,expression:"addDataConsign.sold == 4"}],staticStyle:{color:"red"}},[e._v("*")])])]}},{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},model:{value:t.row.headSellMoney,callback:function(a){e.$set(t.row,"headSellMoney",a)},expression:"scope.row.headSellMoney"}})],1)]}}],null,!1,148971602)}):e._e(),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"note",label:"備註"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",clearable:""},model:{value:t.row.note,callback:function(a){e.$set(t.row,"note",a)},expression:"scope.row.note"}})],1)]}}],null,!1,4253989057)})],1),e._v(" "),a("div",[a("p",{staticStyle:{"text-align":"right"}},[e._v("\n              總金額："+e._s(e.formatNumberRgx(e.subTotal)+" "+e.currencyGlobal)+"\n            ")])])],1),e._v(" "),a("div",{staticStyle:{margin:"20px 40px 20px 0","text-align":"right"}},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){return e.submitSales("addSalesTicketForm")}}},[e._v("提 交")])],1)],1),e._v(" "),a("div",{staticClass:"sales-ticket-right"},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"庫存地："}},[a("el-select",{staticStyle:{"margin-bottom":"10px","margin-right":"10px"},attrs:{placeholder:"請選擇"},on:{change:e.radioChange},model:{value:e.stockLoc2,callback:function(t){e.stockLoc2=t},expression:"stockLoc2"}},e._l(e.stockLocList,function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:t.companyId==e.companyIdZong||!t.companyId,expression:"item.companyId == companyIdZong || !item.companyId"}],key:t.warehouseId,attrs:{label:t.warehouseName,value:t.warehouseId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),a("span",{staticStyle:{"margin-left":"30px",float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(-1==t.warehouseId?"":t.companyName))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"關鍵字："}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"可輸入商品款式、尺寸、材質、色號、色系、貨號等搜索"},on:{focus:e.radioChange},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.getNotSoldList}},[e._v("查詢")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.notSoldBagList,"row-key":e.getRowKeys,"tooltip-effect":"dark",border:""}},[a("el-table-column",{attrs:{align:"center",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hobby,expression:"hobby"}],staticClass:"selBtn",attrs:{type:"checkbox"},domProps:{value:t.row,checked:Array.isArray(e.hobby)?e._i(e.hobby,t.row)>-1:e.hobby},on:{change:[function(a){var l=e.hobby,s=a.target,i=!!s.checked;if(Array.isArray(l)){var o=t.row,r=e._i(l,o);s.checked?r<0&&(e.hobby=l.concat([o])):r>-1&&(e.hobby=l.slice(0,r).concat(l.slice(r+1)))}else e.hobby=i},function(a){return e.checkedChange(a,t.row)}]}})])]}}],null,!1,1282589575)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2898831301)}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row)}}},[e._v("修改查看")])],1)]}}],null,!1,1720973806)})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]):a("div",[a("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.gobackAdd,updateSuccess:e.updateSuccess}})],1)])])},staticRenderFns:[]};var c=a("VU/8")(r,n,!1,function(e){a("UN6Q")},"data-v-af79c93a",null);t.default=c.exports},gF7c:function(e,t){},goGn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),s=a.n(l),i=a("Xxa5"),o=a.n(i),r=a("exGp"),n=a.n(r),c={data:function(){return{selCompanyMsg:{},branchCompanyList:[],branchCompanyAddData:{branchName:""},dialogUpdateBranchCompanyVisible:!1,updateBranchCompanyMsg:{},dialogDelBranchCompanyVisible:!1,delBranchCompanyId:null,departmentList:[],companyDepartmentAddData:{deptName:""},dialogUpdateCompanyDepartmentVisible:!1,updateCompanyDepartmentMsg:{},dialogDelCompanyDepartmentVisible:!1,delCompanyDepartmentId:null,titleList:[],companyPostAddData:{title:"",deptId:null},dialogUpdateCompanyPostVisible:!1,updateCompanyPostMsg:{},dialogDelCompanyPostVisible:!1,delCompanyPostId:null,dialogUpdateCompanyWarehouseVisible:!1,updateWarehouseMsg:{},dialogDelCompanyWarehouseVisible:!1,delCompanyWarehouseId:null,dialogUpdateAccountNumberVisible:!1,updateAccountNumberMsg:{},dialogDelAccountNumberVisible:!1,delAccountNumberId:null,isNormalAdmin:!1,companyAdminList:[],companyAdministratorAddData:{username:"",password:""},companyId:null,filialeWarehouseList:[],filialeWarehouseAddData:{name:""},normalAdminList:[],normalAdminListAddData:{username:"",password:""},normalAdminId:null,dialogNormalWarehouseAdminVisible:!1,allWarehouseList:[],normalWarehouseList:[],activePatchName:"1",activePatchNameSel:"1",currencyIds:[{value:1,label:"CNY人民币"},{value:2,label:"HKD港币"},{value:3,label:"USD美元"},{value:4,label:"EUR欧元"},{value:5,label:"GBP英镑"},{value:6,label:"AUD澳元"}]}},mounted:function(){var e=this;return n()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllData();case 2:e.normalAdminList=e.selCompanyMsg.normalAdminList,e.allWarehouseList=e.selCompanyMsg.allWarehouseList,e.branchCompanyList=[{id:e.selCompanyMsg.id,branchName:e.selCompanyMsg.headCompanyName,deptList:e.selCompanyMsg.deptList,warehouseList:e.selCompanyMsg.warehouseList,titleList:e.selCompanyMsg.titleList,companyAdminList:e.selCompanyMsg.companyAdminList}],e.branchCompanyList=e.branchCompanyList.concat(e.selCompanyMsg.branchCompanyList),e.branchCompanyList.length>0?(e.$refs.branchCompanyListTable.setCurrentRow(e.branchCompanyList[0]),e.filialeWarehouseList=e.branchCompanyList[0].warehouseList):e.filialeWarehouseList=[];case 7:case"end":return t.stop()}},t,e)}))()},methods:{addDepartment:function(e){var t=this;""==this.companyDepartmentAddData.deptName?this.$message.error({message:"請輸入部門名稱"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/personnel/companyDeptSave",{companyId:e,deptName:this.companyDepartmentAddData.deptName}).then(function(e){console.log("添加部门"),console.log(e),t.$message.success({message:"添加成功",showClose:!0,duration:2e3}),t.companyDepartmentAddData.deptName="",t.tableSelValue()}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},updateDepartment:function(e){var t=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/personnel/companyDeptSave",{id:this.updateCompanyDepartmentMsg.id,companyId:e,deptName:this.updateCompanyDepartmentMsg.deptName}).then(function(e){console.log("修改部门"),console.log(e),t.$message.success({message:"修改成功",showClose:!0,duration:2e3}),t.dialogUpdateCompanyDepartmentVisible=!1,t.tableSelValue()}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delCompanyDepartmentSure:function(){var e=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/personnel/companyDeptDel?id="+this.delCompanyDepartmentId).then(function(t){console.log("刪除部門"),console.log(t),e.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogDelCompanyDepartmentVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},addCompanyDepartment:function(){this.addDepartment(this.companyId)},updateCompanyDepartment:function(e){this.updateCompanyDepartmentMsg=JSON.parse(s()(e)),this.dialogUpdateCompanyDepartmentVisible=!0},updateCompanyDepartmentSure:function(){this.updateDepartment(this.companyId)},delCompanyDepartment:function(e){this.delCompanyDepartmentId=e.id,this.dialogDelCompanyDepartmentVisible=!0},addCompanyPost:function(){var e=this;""==this.companyPostAddData.title||null==this.companyPostAddData.deptId?this.$message.error({message:"請輸入職位名稱/選擇所屬部門"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/personnel/companyDeptTitleSave",{title:this.companyPostAddData.title,deptId:this.companyPostAddData.deptId}).then(function(t){console.log("添加職位"),console.log(t),e.$message.success({message:"添加成功",showClose:!0,duration:2e3}),e.companyPostAddData.title="",e.companyPostAddData.deptId=null,e.tableSelValue()}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},updateCompanyPost:function(e){console.log(e),this.updateCompanyPostMsg=JSON.parse(s()(e)),this.dialogUpdateCompanyPostVisible=!0},updateCompanyPostSure:function(){var e=this;console.log(this.updateCompanyPostMsg.deptId),this.$axios.post(this.$store.state.baseCompanyUrl+"/personnel/companyDeptTitleSave",{id:this.updateCompanyPostMsg.id,title:this.updateCompanyPostMsg.title,deptId:this.updateCompanyPostMsg.deptId}).then(function(t){console.log("修改職位"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogUpdateCompanyPostVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},delCompanyPost:function(e){this.delCompanyPostId=e.id,this.dialogDelCompanyPostVisible=!0},delCompanyPostSure:function(){var e=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/personnel/companyDeptTitleDel?id="+this.delCompanyPostId).then(function(t){console.log("刪除職位"),console.log(t),e.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogDelCompanyPostVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},addBranchCompany:function(){var e=this;""==this.branchCompanyAddData.branchName||""==this.branchCompanyAddData.currencyId||null==this.branchCompanyAddData.currencyId?this.$message.error({message:"請輸入公司名稱/選擇幣種"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/company/companySave",{parentId:this.selCompanyMsg.id,companyName:this.branchCompanyAddData.branchName,currencyId:this.branchCompanyAddData.currencyId}).then(function(t){console.log("添加分公司"),console.log(t),e.$message.success({message:"添加成功",showClose:!0,duration:2e3}),e.branchCompanyAddData.branchName="",e.tableSelValue()}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},updateBranchCompany:function(e){console.log(e),this.updateBranchCompanyMsg=JSON.parse(s()(e)),this.dialogUpdateBranchCompanyVisible=!0},updateBranchCompanySure:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/company/companySave",{id:this.updateBranchCompanyMsg.id,companyName:this.updateBranchCompanyMsg.branchName,parentId:this.selCompanyMsg.id,currencyId:this.updateBranchCompanyMsg.currencyId}).then(function(t){console.log("修改分公司"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogUpdateBranchCompanyVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},delBranchCompany:function(e){console.log(e),this.delBranchCompanyId=e.id,this.dialogDelBranchCompanyVisible=!0},delBranchCompanySure:function(){var e=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/company/companyDel?id="+this.delBranchCompanyId).then(function(t){console.log("刪除分公司"),console.log(t),e.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.companyId=e.selCompanyMsg.id,e.tableSelValue(),e.dialogDelBranchCompanyVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},selBranchCompany:function(e,t){console.log("分公司",e),null!=e&&null!=t&&(e.id!==t.id?this.activePatchName="1":this.activePatchName=this.activePatchNameSel),null!=e&&(this.companyId=e.id,this.filialeWarehouseList=e.warehouseList,this.titleList=e.titleList,this.departmentList=e.deptList,this.companyAdminList=e.companyAdminList)},addWarehouse:function(e,t){var a=this;t?this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/companyWarehouseSave",{companyId:e,warehouseName:t}).then(function(e){console.log("添加總公司倉庫"),console.log(e),a.$message.success({message:"添加成功",showClose:!0,duration:2e3}),a.filialeWarehouseAddData.warehouseName="",a.tableSelValue()}).catch(function(e){console.log(e),a.$message.error({message:e.data.status,showClose:!0,duration:2e3})}):this.$message.error({message:"請輸入倉庫名稱"})},updateWarehouse:function(e,t,a){var l=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/companyWarehouseSave",{id:e,companyId:t,warehouseName:a}).then(function(e){console.log("修改總公司倉庫"),console.log(e),l.$message.success({message:"修改成功",showClose:!0,duration:2e3}),l.tableSelValue(),l.dialogUpdateCompanyWarehouseVisible=!1}).catch(function(e){console.log(e),l.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delWarehouse:function(e){var t=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/warehouse/warehouseDel?id="+e).then(function(e){console.log("刪除倉庫"),console.log(e),t.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),t.tableSelValue(),t.dialogDelCompanyWarehouseVisible=!1}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},updateCompanyWarehouseSure:function(){this.updateWarehouse(this.updateWarehouseMsg.id,this.selCompanyMsg.id,this.updateWarehouseMsg.warehouseName)},delCompanyWarehouseSure:function(){this.delWarehouse(this.delCompanyWarehouseId)},addAdmin:function(e,t,a,l){var s=this;""==l||""==t?this.$message.error({message:"用戶名/密碼不能為空"}):this.$axios.post(this.$store.state.baseCompanyUrl+"/company/adminMsgSave",{companyId:e,password:t,role:a,username:l}).then(function(e){console.log("添加管理賬號"),console.log(e),s.$message.success({message:"添加成功",showClose:!0,duration:2e3}),s.normalAdminListAddData.username="",s.normalAdminListAddData.password="",s.companyAdministratorAddData.username="",s.companyAdministratorAddData.password="",s.tableSelValue()}).catch(function(e){console.log(e),s.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},updateAccountNumber:function(){0==this.isNormalAdmin?this.updateAccountNumberSure(this.updateAccountNumberMsg.id,this.companyId,this.updateAccountNumberMsg.password,"admin",this.updateAccountNumberMsg.username):this.updateAccountNumberSure(this.updateAccountNumberMsg.id,this.selCompanyMsg.id,this.updateAccountNumberMsg.password,"normal_admin",this.updateAccountNumberMsg.username)},updateAccountNumberSure:function(e,t,a,l,s){var i=this;console.log(e,t,a,l,s),this.$axios.post(this.$store.state.baseCompanyUrl+"/company/adminMsgSave",{id:e,companyId:t,password:a,role:l,username:s}).then(function(e){console.log("修改管理賬號"),console.log(e),i.$message.success({message:"修改成功",showClose:!0,duration:2e3}),i.dialogUpdateAccountNumberVisible=!1,i.tableSelValue()}).catch(function(e){console.log(e),i.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},delAccountNumberSure:function(){var e=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/company/adminDel?id="+this.delAccountNumberId).then(function(t){console.log("刪除賬號"),console.log(t),e.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),e.tableSelValue(),e.dialogDelAccountNumberVisible=!1}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},addCompanyAdministrator:function(){this.addAdmin(this.companyId,this.companyAdministratorAddData.password,"admin",this.companyAdministratorAddData.username)},updateCompanyAdministrator:function(e){console.log(e),this.updateAccountNumberMsg=JSON.parse(s()(e)),console.log(this.updateAccountNumberMsg),this.isNormalAdmin=!1,this.dialogUpdateAccountNumberVisible=!0},delCompanyAdministrator:function(e){console.log(e),this.delAccountNumberId=e.id,this.dialogDelAccountNumberVisible=!0},addfilialeWarehouse:function(){this.addWarehouse(this.companyId,this.filialeWarehouseAddData.warehouseName)},updateFilialeWarehouse:function(e){console.log(e),this.updateWarehouseMsg=JSON.parse(s()(e)),this.dialogUpdateCompanyWarehouseVisible=!0},delFilialeWarehouse:function(e){console.log(e),this.delCompanyWarehouseId=e.id,this.dialogDelCompanyWarehouseVisible=!0},addNormalAdmin:function(){this.addAdmin(this.selCompanyMsg.id,this.normalAdminListAddData.password,"normal_admin",this.normalAdminListAddData.username)},updateNormalAdmin:function(e){console.log(e),this.updateAccountNumberMsg=JSON.parse(s()(e)),this.isNormalAdmin=!0,this.dialogUpdateAccountNumberVisible=!0},delNormalAdmin:function(e){console.log(e),this.delAccountNumberId=e.id,this.dialogDelAccountNumberVisible=!0},warehouseBinding:function(e){console.log(e),this.normalAdminId=e.id,this.normalWarehouseList=e.warehouseList.map(function(e){return e.id}),console.log("普通管理倉庫"),console.log(this.normalWarehouseList),this.dialogNormalWarehouseAdminVisible=!0},warehouseBindingSure:function(){var e=this;console.log(this.normalWarehouseList),this.$axios.post(this.$store.state.baseCompanyUrl+"/warehouse/normalWarehouseSave",{id:this.normalAdminId,warehouseIdList:this.normalWarehouseList}).then(function(t){console.log("修改普通賬戶管理倉庫"),console.log(t),e.$message.success({message:"修改成功",showClose:!0,duration:2e3}),e.dialogNormalWarehouseAdminVisible=!1,e.tableSelValue()}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},patchCollapseChange:function(e){console.log("-------",e),this.activePatchNameSel=e},getAllData:function(){var e=this;return n()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$store.state.baseCompanyUrl+"/company/companyMsgGet").then(function(t){console.log("公司管理數據"),console.log(t),e.selCompanyMsg=t.data}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},tableSelValue:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllData();case 2:if(console.log("右邊",e.activePatchNameSel),e.activePatchName=e.activePatchNameSel,e.normalAdminList=e.selCompanyMsg.normalAdminList,e.allWarehouseList=e.selCompanyMsg.allWarehouseList,e.branchCompanyList=[{id:e.selCompanyMsg.id,branchName:e.selCompanyMsg.headCompanyName,deptList:e.selCompanyMsg.deptList,warehouseList:e.selCompanyMsg.warehouseList,titleList:e.selCompanyMsg.titleList,companyAdminList:e.selCompanyMsg.companyAdminList}],e.branchCompanyList=e.branchCompanyList.concat(e.selCompanyMsg.branchCompanyList),!(e.branchCompanyList.length>0)){t.next=20;break}t.t0=o.a.keys(e.branchCompanyList);case 10:if((t.t1=t.t0()).done){t.next=18;break}if(a=t.t1.value,e.branchCompanyList[a].id!=e.companyId){t.next=16;break}return e.$refs.branchCompanyListTable.setCurrentRow(e.branchCompanyList[a]),e.filialeWarehouseList=e.branchCompanyList[a].warehouseList,t.abrupt("return");case 16:t.next=10;break;case 18:t.next=21;break;case 20:e.filialeWarehouseList=[];case 21:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-admin-container"},[a("div",{staticClass:"container-middle"},[a("div",{staticClass:"title"},[e._v("\n      公司列表\n    ")]),e._v(" "),a("div",{staticStyle:{padding:"0 10px","text-align":"right"}},[a("el-form",{staticStyle:{"text-align":"right"},attrs:{model:e.branchCompanyAddData,inline:""}},[a("el-form-item",{attrs:{prop:"branchName"}},[a("el-input",{attrs:{placeholder:"請輸入分公司名稱"},model:{value:e.branchCompanyAddData.branchName,callback:function(t){e.$set(e.branchCompanyAddData,"branchName",t)},expression:"branchCompanyAddData.branchName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId"}},[a("el-select",{attrs:{placeholder:"請選擇幣種"},model:{value:e.branchCompanyAddData.currencyId,callback:function(t){e.$set(e.branchCompanyAddData,"currencyId",t)},expression:"branchCompanyAddData.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addBranchCompany}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"20px 10px"}},[a("el-table",{ref:"branchCompanyListTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.branchCompanyList,"highlight-current-row":""},on:{"current-change":e.selBranchCompany}},[a("el-table-column",{attrs:{prop:"branchName",label:"名稱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{style:{"font-weight":t.row.id==e.selCompanyMsg.id?"bold":"normal"}},[e._v("\n                "+e._s(t.row.branchName))]),e._v(" "),a("span",[e._v(e._s(t.row.id==e.selCompanyMsg.id?"(總公司)":"(分公司)"))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.id!=e.selCompanyMsg.id,expression:"scope.row.id != selCompanyMsg.id"}]},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateBranchCompany(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delBranchCompany(t.row)}}},[e._v("刪除")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改分公司信息",visible:e.dialogUpdateBranchCompanyVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateBranchCompanyVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"branchName",label:"公司名稱："}},[a("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:e.updateBranchCompanyMsg.branchName,callback:function(t){e.$set(e.updateBranchCompanyMsg,"branchName",t)},expression:"updateBranchCompanyMsg.branchName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId",label:"幣種："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.updateBranchCompanyMsg.currencyId,callback:function(t){e.$set(e.updateBranchCompanyMsg,"currencyId",t)},expression:"updateBranchCompanyMsg.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateBranchCompanyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateBranchCompanySure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除分公司信息",visible:e.dialogDelBranchCompanyVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelBranchCompanyVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n          確定刪除該公司信息？刪除後不能恢復\n        ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelBranchCompanyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delBranchCompanySure}},[e._v("確 定")])],1)])],1)]),e._v(" "),a("div",{staticClass:"container-right"},[a("el-collapse",{attrs:{accordion:""},on:{change:e.patchCollapseChange},model:{value:e.activePatchName,callback:function(t){e.activePatchName=t},expression:"activePatchName"}},[a("el-collapse-item",{attrs:{title:"倉庫",name:"1"}},[a("div",[a("el-form",{staticStyle:{"text-align":"right"},attrs:{model:e.filialeWarehouseAddData,inline:""}},[a("el-form-item",{attrs:{prop:"warehouseName"}},[a("el-input",{attrs:{placeholder:"請輸入倉庫名稱"},model:{value:e.filialeWarehouseAddData.warehouseName,callback:function(t){e.$set(e.filialeWarehouseAddData,"warehouseName",t)},expression:"filialeWarehouseAddData.warehouseName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addfilialeWarehouse}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"filialeWarehouseTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.filialeWarehouseList,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"warehouseName",label:"名稱",align:"center"}}),e._v(" "),a("el-table-column",{key:1,attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateFilialeWarehouse(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delFilialeWarehouse(t.row)}}},[e._v("刪除")])],1)]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"部門",name:"2"}},[a("div",[a("el-form",{staticStyle:{"text-align":"right"},attrs:{model:e.companyDepartmentAddData,inline:""}},[a("el-form-item",{attrs:{prop:"deptName"}},[a("el-input",{attrs:{placeholder:"請輸入部門名稱"},model:{value:e.companyDepartmentAddData.deptName,callback:function(t){e.$set(e.companyDepartmentAddData,"deptName",t)},expression:"companyDepartmentAddData.deptName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addCompanyDepartment}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"departmentListTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.departmentList}},[a("el-table-column",{attrs:{prop:"deptName",label:"名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateCompanyDepartment(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delCompanyDepartment(t.row)}}},[e._v("刪除")])],1)]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"職位",name:"5"}},[a("div",[a("el-form",{staticStyle:{"text-align":"right"},attrs:{model:e.companyPostAddData,inline:""}},[a("el-form-item",{attrs:{prop:"title"}},[a("el-input",{attrs:{placeholder:"請輸入職位名稱"},model:{value:e.companyPostAddData.title,callback:function(t){e.$set(e.companyPostAddData,"title",t)},expression:"companyPostAddData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"deptId"}},[a("el-select",{attrs:{placeholder:"請選擇所屬部門"},model:{value:e.companyPostAddData.deptId,callback:function(t){e.$set(e.companyPostAddData,"deptId",t)},expression:"companyPostAddData.deptId"}},e._l(e.departmentList,function(e){return a("el-option",{key:e.id,attrs:{label:e.deptName,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addCompanyPost}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"titleListTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.titleList}},[a("el-table-column",{attrs:{prop:"title",label:"職位名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"所屬部門",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateCompanyPost(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delCompanyPost(t.row)}}},[e._v("刪除")])],1)]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"公司管理員",name:"4"}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{model:e.companyAdministratorAddData,inline:""}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"請輸入賬號名稱"},model:{value:e.companyAdministratorAddData.username,callback:function(t){e.$set(e.companyAdministratorAddData,"username",t)},expression:"companyAdministratorAddData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"請輸入賬號密碼"},model:{value:e.companyAdministratorAddData.password,callback:function(t){e.$set(e.companyAdministratorAddData,"password",t)},expression:"companyAdministratorAddData.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addCompanyAdministrator}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"companyAdministratorTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.companyAdminList}},[a("el-table-column",{attrs:{prop:"username",label:"賬號名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateCompanyAdministrator(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delCompanyAdministrator(t.row)}}},[e._v("刪除")])],1)]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.companyId==e.selCompanyMsg.id,expression:"companyId == selCompanyMsg.id"}],attrs:{title:"普通管理賬號",name:"3"}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-form",{attrs:{model:e.normalAdminListAddData,inline:""}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"請輸入賬號名稱"},model:{value:e.normalAdminListAddData.username,callback:function(t){e.$set(e.normalAdminListAddData,"username",t)},expression:"normalAdminListAddData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"請輸入賬號密碼"},model:{value:e.normalAdminListAddData.password,callback:function(t){e.$set(e.normalAdminListAddData,"password",t)},expression:"normalAdminListAddData.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.addNormalAdmin}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{ref:"normalAdminTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.normalAdminList}},[a("el-table-column",{attrs:{prop:"username",label:"賬號名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.updateNormalAdmin(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.delNormalAdmin(t.row)}}},[e._v("刪除")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"text"},on:{click:function(a){return e.warehouseBinding(t.row)}}},[e._v("倉庫綁定")])],1)]}}])})],1)],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改倉庫信息",visible:e.dialogUpdateCompanyWarehouseVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateCompanyWarehouseVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"warehouseName",label:"公司名稱："}},[a("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:e.updateWarehouseMsg.warehouseName,callback:function(t){e.$set(e.updateWarehouseMsg,"warehouseName",t)},expression:"updateWarehouseMsg.warehouseName"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateCompanyWarehouseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateCompanyWarehouseSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除倉庫信息",visible:e.dialogDelCompanyWarehouseVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelCompanyWarehouseVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該倉庫信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelCompanyWarehouseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delCompanyWarehouseSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改賬號信息",visible:e.dialogUpdateAccountNumberVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateAccountNumberVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"username",label:"賬號名稱："}},[a("el-input",{attrs:{placeholder:"請輸入賬號名稱"},model:{value:e.updateAccountNumberMsg.username,callback:function(t){e.$set(e.updateAccountNumberMsg,"username",t)},expression:"updateAccountNumberMsg.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"賬號密碼："}},[a("el-input",{attrs:{placeholder:"請輸入賬號密碼"},model:{value:e.updateAccountNumberMsg.password,callback:function(t){e.$set(e.updateAccountNumberMsg,"password",t)},expression:"updateAccountNumberMsg.password"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateAccountNumberVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateAccountNumber}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除賬號信息",visible:e.dialogDelAccountNumberVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelAccountNumberVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該賬號信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelAccountNumberVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delAccountNumberSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改部門信息",visible:e.dialogUpdateCompanyDepartmentVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateCompanyDepartmentVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"deptName",label:"部門名稱："}},[a("el-input",{attrs:{placeholder:"請輸入部門名稱"},model:{value:e.updateCompanyDepartmentMsg.deptName,callback:function(t){e.$set(e.updateCompanyDepartmentMsg,"deptName",t)},expression:"updateCompanyDepartmentMsg.deptName"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateCompanyDepartmentVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateCompanyDepartmentSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除部門信息",visible:e.dialogDelCompanyDepartmentVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelCompanyDepartmentVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該部門信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelCompanyDepartmentVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delCompanyDepartmentSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改職位信息",visible:e.dialogUpdateCompanyPostVisible,width:"500px"},on:{"update:visible":function(t){e.dialogUpdateCompanyPostVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{prop:"title",label:"職位名稱："}},[a("el-input",{attrs:{placeholder:"請輸入職位名稱"},model:{value:e.updateCompanyPostMsg.title,callback:function(t){e.$set(e.updateCompanyPostMsg,"title",t)},expression:"updateCompanyPostMsg.title"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"deptId",label:"所屬部門："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇所屬部門"},model:{value:e.updateCompanyPostMsg.deptId,callback:function(t){e.$set(e.updateCompanyPostMsg,"deptId",t)},expression:"updateCompanyPostMsg.deptId"}},e._l(e.departmentList,function(e){return a("el-option",{key:e.id,attrs:{label:e.deptName,value:e.id}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateCompanyPostVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.updateCompanyPostSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"刪除職位信息",visible:e.dialogDelCompanyPostVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelCompanyPostVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該職位信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelCompanyPostVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delCompanyPostSure}},[e._v("確 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"绑定仓库",visible:e.dialogNormalWarehouseAdminVisible,width:"500px"},on:{"update:visible":function(t){e.dialogNormalWarehouseAdminVisible=t}}},[a("div",[a("el-form",{attrs:{"label-width":"85px"}},[a("el-form-item",{attrs:{label:"倉庫選擇："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"可多選"},model:{value:e.normalWarehouseList,callback:function(t){e.normalWarehouseList=t},expression:"normalWarehouseList"}},e._l(e.allWarehouseList,function(e){return a("el-option",{key:e.id,attrs:{label:e.warehouseName,value:e.id}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogNormalWarehouseAdminVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.warehouseBindingSure}},[e._v("確 定")])],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("O7nl"),a("SUJm")},"data-v-2e1298af",null);t.default=u.exports},hzLi:function(e,t){},"i/+S":function(e,t){},i20q:function(e,t){},kSHQ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAAAXNSR0IArs4c6QAAAedJREFUOE+lkz9ME3EUx7/fK1IqGBYHI60WJzSiA0t7lzC6aWKaGOJgDANMmmiL4ETjoFbuwLg5OBjjYDQkuLlIQrirDgxsaJTonZFEHUxI+Hv3e+aIVAq9ppHf+L7f9/m933vvR0ScrOX2a+BVgZwFsEqhTfLObD45H5XDWoJhec8BXN6tCaCoMGAPpZ7UytsD003vFolS1O1hXCEwyvm0s9tTBTNKC4fQ1LoEoHWnUYANAs3bMSGfOTeTV+rCMmNfz8c07XUVSPB2dWOtLxFvmSHQ9Vf7bb9LHsZLBju9VZXp5rcBUh7/M3BurU3rnRs8upKZWEprKpgmJB3qgR+c+pU4vvjpOte3/Vuwnvuf2+NNBybIsOmMh7Gw2RB5CmkecYaO/MiOe90UjBLIVS4TLIN8aC93FFGkYk/x+8F4m/+e5OlaTVfinywXOhd060uOiL2qORjBpF1I5WhY7l2AtyOn52922cMnPmTHvYuaYDLKJ5R+Gpa3CKBz3zDgDXXTXSdZGfseaIOVQVCmbnkrBBJRlSmoSzGl/RQiA+Je5DMBh4bpzYM4U2/jG9EEMkXd9K6ReNRIQl2PqHNbe2aY7hTIC/8LFMEDp5AarvwAw3RvABwEcQyA1gDYF/AjwZKd73gR+v8ACXyxo53tO5YAAAAASUVORK5CYII="},kaTY:function(e,t){},kaoy:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAxVJREFUWEfNlztMFFEUhv+zPCohdoaNjY9AYWzUIOg9s2wstJBEC2lsfcRGIWKhiRFjAoUa1MaItjZroYkWWhjYuVdBIjTGQqLSGIidUSsee8whs2R22d0ZILjc5CaTmfv4zr3n8Q+hyo2qvD9iA4yNjTXOzc21A0gRUQrAtqCrDT+1i0gWQLa+vn60ra3tdxzjIgEymUx9Mpm8KCKXAGyPsyiAH0R0f2Zm5kFXV9dcpTkVAXzfP0FE1wHsCxaZAvASwCsAM0Q0q+9FpAlAEsBxAJ0AmoPxkyJyy/O8F+UgygI457pFZDCYOAFgiJmH4pyAtfYcAO37dTwR9Rhj7pWaWxLAWquWqKXanjFzV5yNi8dYazMATgXvO5lZT66grQDwfb+ViD7oqFwudzOVSvWtZfP8nGw225dIJG4EV3XQ87zx8HoFAOpwTU1No3rnRDRgjLlWaXNr7bB+Z+Z0pXHOuX4RuQpgcnZ2tj3smAUAzrleEbkNYIKZD0RZbq2VACAymqy1H9UniOiKMeZOfu3licPDw1tra2s/BaF2Po7DrRJAnfKRhujCwsLedDr9a8lB8yRByD0HMM3MO6Os1++rAQjGfwewQ0RO5kNzGcA5Nygi3UT0xBhzdiMAnHOPReQMEd0zxvQUnIC19h2AQwDSzDyyEQDW2g4A6rjvmflwMcBXALsAtDCzZrzItoYr0Az5BcA3Zt5dDPAHwBYiajTG6PNSC0JNydfSRsIh6pxrEBEtUn+ZuWHTAVT9CqrrhL7v9xORpsu7zNwb58LX4ISaAS+LyIDneUtpPpyIjhLRawBTzNyyQQAaAc0icszzvDcFACq55ufnP/+PVFxXV7cnL9k2TzHS4wiX4zhCJG45DgmTyuVYIUJFaSMEyXIRWlGOw04X1oNxhEk5hw0JkbK6sKyQKNKF6xKlqpRL6cGCKChlRaAPH4Zk+TQRvRWRp6VkORGdFpEjWvOD9VSWXyjWgeG9IqVUVX9MwqQq2WpqajoSiURKRFpL/ZoR0Xgul8suLi6O5CVXVEKLPIGoBdb7veoA/wBoe8YwJTJXkAAAAABJRU5ErkJggg=="},mcUp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{time1:"",time2:"",userList:[],personId:null}},created:function(){this.getBillUserList()},methods:{inventoryExport:function(e){var t=this,a="";if("/stockExport"==e)a=this.$store.state.baseUrl+e+"?startTime="+this.time1+"&endTime="+this.time2;else if("/billExport"==e){if(""==this.personId||null==this.personId)return void this.$message.error({message:"請選擇導出賬單賬戶"});a=this.$store.state.baseUrl+e+"?startTime="+this.time1+"&endTime="+this.time2+"&id="+this.personId}else{if(""==this.personId||null==this.personId)return void this.$message.error({message:"請選擇導出賬戶"});a=this.$store.state.baseUrl+e+"?startTime="+this.time1+"&endTime="+this.time2+"&seller="+this.personId}var l=this.$loading({lock:!0,text:"數據導出中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"});this.$axios.get(a,{responseType:"blob"}).then(function(t){l.close(),console.log("導出數據"),console.log(t);var a=document.createElement("a"),s=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});a.style.display="none",a.href=URL.createObjectURL(s);for(var i="",o=0;o<10;o++)i+=Math.ceil(10*Math.random());if("/stockExport"==e){var r=new Date,n=new Intl.DateTimeFormat("en-GB",{dateStyle:"full"}).format(r).split(",")[1];a.setAttribute("download","Hermès 基金库存 ( Updated on"+n+" ).xlsx")}else"/billExport"==e?a.setAttribute("download","Hermès Bill summary_"+i+".xlsx"):a.setAttribute("download","Hermès Invoice summary_"+i+".xlsx");document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(function(e){console.log(e),l.close(),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},getBillUserList:function(){var e=this;this.$axios.get(this.$store.state.baseUrl+"/billUserList").then(function(t){console.log("用戶列表"),console.log(t),e.userList=t.data}).catch(function(e){console.log(e)})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"export-container"},[a("el-form",{attrs:{"label-width":"145px"}},[a("el-form-item",{attrs:{label:"時間："}},[a("div",{staticClass:"create"},[a("el-date-picker",{staticClass:"create-time-input-style1",attrs:{type:"date",placeholder:"開始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.time1,callback:function(t){e.time1=t},expression:"time1"}}),e._v(" "),a("span",{staticClass:"create-time-span-style"},[e._v("至")]),e._v(" "),a("el-date-picker",{staticClass:"create-time-input-style2",attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.time2,callback:function(t){e.time2=t},expression:"time2"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"賬單賬戶/銷售人員："}},[a("el-select",{attrs:{placeholder:"請選擇",clearable:""},model:{value:e.personId,callback:function(t){e.personId=t},expression:"personId"}},e._l(e.userList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"export-button"},[a("el-button",{staticStyle:{width:"160px"},attrs:{type:"primary"},on:{click:function(t){return e.inventoryExport("/stockExport")}}},[e._v("庫存導出")]),e._v(" "),a("el-button",{staticStyle:{width:"160px"},attrs:{type:"primary"},on:{click:function(t){return e.inventoryExport("/billExport")}}},[e._v("賬單導出")]),e._v(" "),a("el-button",{staticStyle:{width:"160px"},attrs:{type:"primary"},on:{click:function(t){return e.inventoryExport("/salesExport")}}},[e._v("銷售單導出")])],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("+UzQ")},"data-v-ec056eb6",null);t.default=i.exports},mvtP:function(e,t){},nYnx:function(e,t){},oVdc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i=a("pFYg"),o=a.n(i);var r={title:{text:"",subtext:"",x:"center",y:"center",textStyle:{fontSize:26,color:"#5b92fe"},subtextStyle:{fontSize:12,color:"#616161"}},color:[],series:[{type:"pie",radius:["65%","85%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{scale:!1},startAngle:-45,data:[{value:25},{value:0},{value:0}]}]};function n(e,t,a,l,s,i){var n=function e(t){if(t&&"object"!==(void 0===t?"undefined":o()(t)))return t;var a=t.constructor===Array?[]:{};for(var l in t)t.hasOwnProperty(l)&&(t[l]&&"object"===o()(t[l])?(a[l]=t[l].constructor===Array?[]:{},a[l]=e(t[l])):a[l]=t[l]);return a}(r),c=["rgba(0,0,0,0)"];c=c.concat(t),n.color=c,n.title.text=a,n.title.subtext=l,n.title.textStyle.fontSize=s,n.title.subtextStyle.fontSize=i;var d=e[0]||0,u=e[1]||0;return n.series[0].data[1].value=75*d/(d+u),n.series[0].data[2].value=75*u/(d+u),n}var c=a("XLwt"),d={components:{detailsVue:a("XMJn").default},data:function(){return{pageSel:0,activeName:"first",profitTopList:[],dataSalesHistoryList:[],salesVolumeTopList:[],checkboxGroup:["包款"],currencyGlobal:"",comparisonData:"1",statisticsList:[],turnoverComparisonList:[],salesCostComparisonList:[],salesNumComparisonList:[],myTurnoverChart:null,mySalesCostChart:null,mySalesNumChart:null,turnoverTotal:0,costTotal:0,numTotal:0,page:1,total:0,overStockList:[],updateId:null,overstockNum:0,stockLocId:null,chartRadio:1,loading:!1,isCheckEvery:0,selName:""}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.getProfitTopMsg(),this.getStatisticsData()},mounted:function(){var e=this;this.$nextTick(function(){document.getElementById("salesReportContainer").scrollIntoView({behavior:"smooth"}),e.getSalesComparison()})},methods:{renderChart:function(e,t,a){c.a(document.getElementById(e));var l=0===a?0:t/a*100,s=n([t,a-t],["#4b7efe","#beddff"],this.formatValue(l,1)+"%","",20,0);c.c(document.getElementById(e)).setOption(s)},formatValue:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t<0&&(console.log("小数点后位数不能为负数"),e=0),e||(e=0),a?parseFloat(e).toFixed(t):parseFloat(parseFloat(e).toFixed(t))},radioChange:function(){1==this.chartRadio?this.turnoverData():2==this.chartRadio?this.salesCostData():3==this.chartRadio&&this.salesNumberData()},editProduct:function(e){this.updateId=e.id,this.pageSel=5,document.getElementById("salesReportContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(){this.pageSel=4,this.page=1,this.checkProductNum(),document.getElementById("salesReportContainer").scrollIntoView({behavior:"smooth"})},gobackAdd:function(){this.pageSel=4},checkProductNum:function(e){var t=this;e&&(this.page=1,console.log(e.stockLocId),this.stockLocId=e.stockLocId,this.overstockNum=e.overstockNum),this.overstockNum>0?this.$axios.get(this.$store.state.baseUrl+"/overStockSearchList?stockLocId="+this.stockLocId+"&page="+this.page+"&pageNum=10").then(function(e){console.log("積壓貨物列表"),console.log(e),t.overStockList=e.data.list,t.total=e.data.total,t.pageSel=4}).catch(function(e){console.log(e)}):this.$message.warning({message:"該倉庫暫無積壓貨物"})},handleCurrentChangeSell:function(e){this.page=e,this.checkProductNum(),document.getElementById("salesReportContainer").scrollIntoView({behavior:"smooth"})},turnoverData:function(){var e=this;this.myTurnoverChart||(this.myTurnoverChart=c.c(document.getElementById("turnoverChart")));var t=[],a=[];if(this.turnoverComparisonList.length>0){var l=!0,i=!1,o=void 0;try{for(var r,n=s()(this.turnoverComparisonList);!(l=(r=n.next()).done);l=!0){var d=r.value;a.push(d.time),t.push(d.saleMoney)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}this.$nextTick(function(){e.myTurnoverChart.resize(),e.myTurnoverChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"line"}},grid:{left:"2%",right:"3%",bottom:"0",containLabel:!0},xAxis:{data:a},yAxis:{name:e.currencyGlobal,type:"value"},series:[{name:"營業額",type:"bar",data:t,barWidth:20,itemStyle:{color:new c.b.LinearGradient(0,0,0,1,[{offset:0,color:"#3B64D8"},{offset:1,color:"#85A5FF"}])}}]},!0),window.addEventListener("resize",function(){e.myTurnoverChart.resize()}),e.myTurnoverChart.on("click",function(t){e.isCheckEvery=1,console.log(t),e.selName=t.name,e.turnoverTotal=t.data;var a=!0,l=!1,i=void 0;try{for(var o,r=s()(e.salesCostComparisonList);!(a=(o=r.next()).done);a=!0){var n=o.value;n.time==e.selName&&(e.costTotal=n.profit)}}catch(e){l=!0,i=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw i}}var c=!0,d=!1,u=void 0;try{for(var p,m=s()(e.salesNumComparisonList);!(c=(p=m.next()).done);c=!0){var h=p.value;h.time==e.selName&&(e.numTotal=h.salesVolume)}}catch(e){d=!0,u=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw u}}})})}},salesCostData:function(){var e=this;this.mySalesCostChart||(this.mySalesCostChart=c.c(document.getElementById("salesCostChart")));var t=[],a=[];if(this.salesCostComparisonList.length>0){var l=!0,i=!1,o=void 0;try{for(var r,n=s()(this.salesCostComparisonList);!(l=(r=n.next()).done);l=!0){var d=r.value;a.push(d.time),t.push(d.profit)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}this.$nextTick(function(){e.mySalesCostChart.resize(),e.mySalesCostChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"line"}},grid:{left:"2%",right:"3%",bottom:"0",containLabel:!0},xAxis:{data:a},yAxis:{name:e.currencyGlobal,type:"value"},series:[{name:"利潤",type:"bar",data:t,barWidth:20,itemStyle:{color:function(e){return e.value>0?new c.b.LinearGradient(0,0,0,1,[{offset:0,color:"#E24A79"},{offset:1,color:"#FF81A8"}]):new c.b.LinearGradient(0,0,0,1,[{offset:0,color:"#FF81A8"},{offset:1,color:"#E24A79"}])}}}]},!0),window.addEventListener("resize",function(){e.mySalesCostChart.resize()})})}},salesNumberData:function(){var e=this;this.mySalesNumChart||(this.mySalesNumChart=c.c(document.getElementById("salesNumberChart")));var t=[],a=[];if(this.salesNumComparisonList.length>0){var l=!0,i=!1,o=void 0;try{for(var r,n=s()(this.salesNumComparisonList);!(l=(r=n.next()).done);l=!0){var d=r.value;a.push(d.time),t.push(d.salesVolume)}}catch(e){i=!0,o=e}finally{try{!l&&n.return&&n.return()}finally{if(i)throw o}}this.$nextTick(function(){e.mySalesNumChart.resize(),e.mySalesNumChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"line"}},grid:{left:"2%",right:"3%",bottom:"0",containLabel:!0},xAxis:{data:a},yAxis:{name:"銷量",type:"value"},series:[{name:"銷量",type:"bar",data:t,barWidth:20,itemStyle:{color:new c.b.LinearGradient(0,0,0,1,[{offset:0,color:"#0DB57E"},{offset:1,color:"#27DCA1"}])}}]},!0),window.addEventListener("resize",function(){e.mySalesNumChart.resize()})})}},salesPriceHistory:function(e){var t=this;console.log(e),this.dataSalesHistoryList=e.saleHisResList;var a=[],l=[];if(this.dataSalesHistoryList.length>0){this.pageSel=1;var i=!0,o=!1,r=void 0;try{for(var n,d=s()(this.dataSalesHistoryList);!(i=(n=d.next()).done);i=!0){var u=n.value;l.push(u.soldTime),a.push(u.sellTotalHkPrice)}}catch(e){o=!0,r=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw r}}this.$nextTick(function(){var e=c.c(document.getElementById("myPriceChart"));e.resize(),e.setOption({title:{text:"銷售價格歷史曲線圖",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"line"}},grid:{left:"3%",right:"4%",bottom:"5%",containLabel:!0},xAxis:{data:l},yAxis:{name:"售價("+t.currencyGlobal+")",type:"value"},series:[{name:"售價",type:"line",data:a}]}),window.addEventListener("resize",function(){e.resize()})})}else this.$message.warning({message:"該商品暫無歷史售價"})},getProfitTopMsg:function(){var e=this;this.$axios.get(this.$store.state.baseUrl+"/profitTopMsgGet").then(function(t){console.log("利潤Top10商品列表"),console.log(t),e.profitTopList=t.data}).catch(function(e){console.log(e)})},getSalesVolumeTopMsg:function(){var e=this;document.getElementById("salesVolumeContainer").scrollIntoView({behavior:"smooth"});var t=this.checkboxGroup.length-1;this.$axios.get(this.$store.state.baseUrl+"/salesVolumesTopMsgGet?flag="+t).then(function(t){console.log("銷量Top10商品列表"),console.log(t),e.salesVolumeTopList=t.data,e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},getSalesComparison:function(){var e=this;this.isCheckEvery=0,this.$axios.get(this.$store.state.baseUrl+"/salesComparison?flag="+this.comparisonData).then(function(t){console.log("對比數據"),console.log(t),e.turnoverTotal=t.data.allAnnualTurnover,e.costTotal=t.data.allAnnualProfit,e.numTotal=t.data.allAnnualSalesVolume,e.turnoverComparisonList=t.data.annualTurnoverList,e.salesCostComparisonList=t.data.annualProfitList,e.salesNumComparisonList=t.data.annualSalesVolumeList,e.turnoverData()}).catch(function(e){console.log(e)})},getStatisticsData:function(){var e=this;this.$axios.get(this.$store.state.baseUrl+"/overStockGoodsCensus").then(function(t){console.log("統計數據"),console.log(t),e.statisticsList=t.data}).catch(function(e){console.log(e)})},getSummaries:function(e){var t=e.columns,a=e.data,l=[];return t.forEach(function(e,t){if(0!==t){var s=a.map(function(t){return Number(t[e.property])});s.every(function(e){return isNaN(e)})||(l[t]=s.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0),console.log(l))}else l[t]="合計"}),l[2]=this.formatNumberRgx(l[2]),l},handleTabsClick:function(){"second"==this.activeName&&(this.checkboxGroup=["包款"],this.getSalesVolumeTopMsg())},checkboxChange:function(e){console.log(e),this.loading=!0,0==e?this.checkboxGroup=["包款"]:1==e?this.checkboxGroup=["包款","大小"]:2==e?this.checkboxGroup=["包款","大小","材質"]:3==e?this.checkboxGroup=["包款","大小","材質","金屬質感"]:4==e&&(this.checkboxGroup=["包款","大小","材質","金屬質感","顏色"]),this.getSalesVolumeTopMsg()},goback:function(e){console.log("頁面選擇",e),this.pageSel=e,this.getSalesComparison()},dataComparison:function(){this.chartRadio=1,this.getSalesComparison()}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"salesReportContainer"}},[l("div",{directives:[{name:"show",rawName:"v-show",value:0==e.pageSel,expression:"pageSel == 0"}]},[l("div",{staticClass:"sales-report-container"},[l("div",{staticClass:"container-left"},[l("div",{staticClass:"comparison-top"},[l("div",{staticClass:"mian-every"},[l("div",{staticClass:"every-left"},[l("div",{staticClass:"left-title"},[l("span",[e._v(e._s(1==e.isCheckEvery?e.selName:""))]),e._v(" "),l("span",[e._v("總營業額")])]),e._v(" "),l("div",{staticClass:"left-num"},[e._v("\n                "+e._s(e.currencyGlobal+" "+e.formatNumberRgx(e.turnoverTotal))+"\n              ")])]),e._v(" "),e._m(0)]),e._v(" "),l("div",{staticClass:"mian-every"},[l("div",{staticClass:"every-left"},[l("div",{staticClass:"left-title"},[l("span",[e._v(e._s(1==e.isCheckEvery?e.selName:""))]),e._v(" "),l("span",[e._v("總銷售利潤")])]),e._v(" "),l("div",{staticClass:"left-num"},[e._v("\n                "+e._s(e.currencyGlobal+" "+e.formatNumberRgx(e.costTotal))+"\n              ")])]),e._v(" "),e._m(1)]),e._v(" "),l("div",{staticClass:"mian-every"},[l("div",{staticClass:"every-left"},[l("div",{staticClass:"left-title"},[l("span",[e._v(e._s(1==e.isCheckEvery?e.selName:""))]),e._v(" "),l("span",[e._v("總銷售數量")])]),e._v(" "),l("div",{staticClass:"left-num"},[e._v("\n                "+e._s(e.numTotal)+"\n              ")])]),e._v(" "),e._m(2)])]),e._v(" "),l("div",{staticClass:"container-main"},[l("div",{staticClass:"main-top"},[l("el-radio-group",{on:{change:e.radioChange},model:{value:e.chartRadio,callback:function(t){e.chartRadio=t},expression:"chartRadio"}},[l("el-radio",{attrs:{label:1}},[e._v("營業額")]),e._v(" "),l("el-radio",{attrs:{label:2}},[e._v("銷售利潤")]),e._v(" "),l("el-radio",{attrs:{label:3}},[e._v("銷售數量")])],1),e._v(" "),l("div",{staticClass:"main-top-right"},[l("el-select",{staticStyle:{width:"80px"},on:{change:e.dataComparison},model:{value:e.comparisonData,callback:function(t){e.comparisonData=t},expression:"comparisonData"}},[l("el-option",{attrs:{label:"年",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"季度",value:"2"}}),e._v(" "),l("el-option",{attrs:{label:"月",value:"3"}})],1)],1)],1),e._v(" "),l("div",{staticClass:"main-chart"}),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:1==e.chartRadio,expression:"chartRadio == 1"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"turnoverChart"}}),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:2==e.chartRadio,expression:"chartRadio == 2"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"salesCostChart"}}),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:3==e.chartRadio,expression:"chartRadio == 3"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"salesNumberChart"}})]),e._v(" "),l("div",{staticClass:"container-bottom",attrs:{id:"selfTable"}},[l("div",[l("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[l("div",{staticClass:"top-title",attrs:{id:"top10Change"}},[l("el-select",{staticStyle:{width:"130px"},on:{change:e.handleTabsClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-option",{attrs:{label:"利潤TOP10",value:"first"}}),e._v(" "),l("el-option",{attrs:{label:"銷量TOP10",value:"second"}})],1),e._v(" "),l("div",{staticClass:"line"})],1),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:"second"==e.activeName,expression:"activeName == 'second'"}]},[l("el-button-group",[l("el-button",{staticStyle:{"background-color":"#3d81fd",color:"#fff"},on:{click:function(t){return e.checkboxChange(0)}}},[e._v("包款")]),e._v(" "),l("el-button",{style:{"background-color":-1==e.checkboxGroup.indexOf("大小")?"#fff":"#3d81fd",color:-1==e.checkboxGroup.indexOf("大小")?"#606266":"#fff"},on:{click:function(t){return e.checkboxChange(1)}}},[e._v("大小")]),e._v(" "),l("el-button",{style:{"background-color":-1==e.checkboxGroup.indexOf("材質")?"#fff":"#3d81fd",color:-1==e.checkboxGroup.indexOf("材質")?"#606266":"#fff"},on:{click:function(t){return e.checkboxChange(2)}}},[e._v("材質")]),e._v(" "),l("el-button",{style:{"background-color":-1==e.checkboxGroup.indexOf("金屬質感")?"#fff":"#3d81fd",color:-1==e.checkboxGroup.indexOf("金屬質感")?"#606266":"#fff"},on:{click:function(t){return e.checkboxChange(3)}}},[e._v("金屬質感")]),e._v(" "),l("el-button",{style:{"background-color":-1==e.checkboxGroup.indexOf("顏色")?"#fff":"#3d81fd",color:-1==e.checkboxGroup.indexOf("顏色")?"#606266":"#fff"},on:{click:function(t){return e.checkboxChange(4)}}},[e._v("顏色")])],1)],1)])]),e._v(" "),l("div",{staticClass:"bottom-main"},[l("el-table",{directives:[{name:"show",rawName:"v-show",value:"first"==e.activeName,expression:"activeName == 'first'"}],attrs:{data:e.profitTopList}},[l("el-table-column",{attrs:{width:"180px",align:"center",prop:"pics",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("div",[l("img",{staticStyle:{width:"66px",height:"66px"},attrs:{src:e.row.pic}})])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"name",align:"center",label:"商品屬性"}}),e._v(" "),l("el-table-column",{attrs:{prop:"profit",label:"利潤",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(e.formatNumberRgx(t.row.profit)+" "+t.row.currency)+"\n                  ")])]}}])})],1),e._v(" "),l("el-table",{directives:[{name:"show",rawName:"v-show",value:"second"==e.activeName,expression:"activeName == 'second'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"20px"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.salesVolumeTopList,id:"salesVolumeContainer"}},[l("el-table-column",{attrs:{width:"180px",align:"center",prop:"pics",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("div",[l("img",{staticStyle:{width:"66px",height:"66px"},attrs:{src:e.row.pic}})])]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"450px",align:"center",label:"商品屬性"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(t.row.model)+"\n                    "+e._s(e.checkboxGroup.length>1?t.row.size:"")+"\n                    "+e._s(e.checkboxGroup.length>4?t.row.color:"")+"\n                    "+e._s(e.checkboxGroup.length>2?t.row.leather:"")+"\n                    "+e._s(e.checkboxGroup.length>3&&t.row.metal?t.row.metal+"扣":"")+"\n                  ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"salesVolumes",label:"銷量",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"prop",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("img",{staticStyle:{width:"22px",height:"19px",cursor:"pointer"},attrs:{src:a("1R1t"),title:"查看銷售價格歷史曲線圖"},on:{click:function(a){return e.salesPriceHistory(t.row)}}})])]}}])})],1)],1)])]),e._v(" "),l("div",{staticClass:"container-right"},[l("div",{staticClass:"right-container"},[e._m(3),e._v(" "),l("div",{attrs:{id:"selfTable"}},[l("el-table",{key:"1",staticStyle:{width:"100%"},attrs:{"summary-method":e.getSummaries,"show-summary":"",data:e.statisticsList}},[l("el-table-column",{attrs:{prop:"stockLocName",align:"left",label:"倉庫名稱"}}),e._v(" "),l("el-table-column",{attrs:{prop:"stockNum",align:"left",label:"庫存數量"}}),e._v(" "),l("el-table-column",{attrs:{width:"150px",prop:"amount",align:"left",label:"庫存總金額 ("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(e.formatNumberRgx(t.row.amount))+"\n                  ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"110px",prop:"overstockNum",align:"left",label:"積壓貨物數量"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-button",{attrs:{type:"text"},on:{click:function(a){return e.checkProductNum(t.row)}}},[e._v(e._s(t.row.overstockNum))])],1)]}}])})],1)],1)])])])]),e._v(" "),1==e.pageSel?l("div",{staticClass:"back-style"},[l("div",{staticStyle:{width:"60px","margin-bottom":"20px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:function(t){return e.goback(0)}}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),e._m(4)]):e._e(),e._v(" "),4==e.pageSel?l("div",{staticClass:"back-style"},[l("div",{staticStyle:{width:"60px","margin-bottom":"20px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:function(t){return e.goback(0)}}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("div",[l("el-table",{key:"2",staticStyle:{width:"100%"},attrs:{data:e.overStockList,border:""}},[l("el-table-column",{attrs:{align:"center",prop:"productCode",label:"货号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"pic",label:"展示图"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2985449157)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"prop",label:"内部图"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!==t.row.privateImg&&null!==t.row.privateImg?l("div",[l("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.privatePic.trim(),"preview-src-list":e.bigImg(t.row.privateImg),"z-index":5e3}})],1):e._e()]}}],null,!1,860244651)}),e._v(" "),l("el-table-column",{attrs:{width:"300px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),l("el-table-column",{attrs:{width:"180px",align:"center",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[t.row.createTime?l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                入库时间："+e._s(t.row.createTime)+"\n              ")]):e._e(),e._v(" "),t.row.soldTime?l("p",{staticStyle:{"margin-top":"0"}},[e._v("\n                出售时间："+e._s(t.row.soldTime)+"\n              ")]):e._e()])]}}],null,!1,3578675998)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"createTime",label:"在库时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n              "+e._s(e.timeLong(t.row.createTime))+"\n            ")])]}}],null,!1,2430711742)}),e._v(" "),l("el-table-column",{attrs:{width:"130px",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row)}}},[e._v("查看詳情")])],1)]}}],null,!1,653179257)})],1),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.page,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChangeSell}})],1)],1)]):e._e(),e._v(" "),5==e.pageSel?l("div",{staticStyle:{"margin-top":"20px"}},[l("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.gobackAdd,updateSuccess:e.updateSuccess}})],1):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"every-img"},[t("img",{attrs:{src:a("N52f")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"every-img"},[t("img",{attrs:{src:a("cjWg")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"every-img"},[t("img",{attrs:{src:a("rjii")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-title"},[t("div",{staticClass:"title"},[this._v("庫存統計")]),this._v(" "),t("div",{staticClass:"line"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticStyle:{width:"100%",height:"75vh","margin-top":"20px"},attrs:{id:"myPriceChart"}})])}]};var p=a("VU/8")(d,u,!1,function(e){a("qEHk"),a("EnA/")},"data-v-66c986f7",null);t.default=p.exports},q88x:function(e,t,a){e.exports=a.p+"static/img/bg.d376a08.png"},qEHk:function(e,t){},qQam:function(e,t){},"rO/L":function(e,t){},raHN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("pFYg"),s=a.n(l),i=a("BO1k"),o=a.n(i),r={components:{detailsVue:a("XMJn").default},data:function(){return{baseUrl:this.$store.state.baseUrl,role:null,page:1,total:0,stockLoc2:"",stockLocList:[],searchKey:"",updateId:null,pageSel:0,companyAndWarehouseList:[],warehouseList:[],addDataConsign:{sold:"8",bill:"",isReceiveCheck:!1,companyId:null,receiveWarehouseId:null,soldTime:"",sellCurrencyId:"",sellerId:"",customerType:"公司"},sellerList:[],customerTypeList:[],addDataRules:{sold:[{required:!0,message:"請選擇庫存狀態",trigger:"change"}],bill:[{required:!0,message:"請輸入賬單號",trigger:"blur"}],sellerId:[{required:!0,message:"請選擇銷售人員",trigger:"change"}],customerType:[{required:!0,message:"請選擇客戶類型",trigger:"change"}],companyId:[{required:!0,message:"請選擇接收公司",trigger:"change"}],receiveWarehouseId:[{required:!0,message:"請選擇接收倉庫",trigger:"change"}],soldTime:[{required:!0,message:"請選擇日期",trigger:"change"}]},currencyIds:[{value:"1",label:"CNY人民币"},{value:"2",label:"HKD港币"},{value:"3",label:"USD美元"},{value:"4",label:"EUR欧元"},{value:"5",label:"GBP英镑"},{value:"6",label:"AUD澳元"}],stateList:[{label:"已寄卖",value:"8"}],notSoldBagList:[],sellStockList:[],subTotal:0,companyIdZong:null,currencyGlobal:"",hobby:[],shouCompanyId:null,numIsEquality:!1}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.role=sessionStorage.getItem("role"),this.companyIdZong=sessionStorage.getItem("companyId"),this.getStockLocList(),this.getNotSoldList(),this.getSellerAndCustomerType()},mounted:function(){this.getCompanyAndWarehouseList()},methods:{getSubPrice:function(){this.subTotal=0;var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.sellStockList);!(e=(l=s.next()).done);e=!0){var i=l.value;this.subTotal+=Number(i.saleTotalHkPrice)+Number(i.saleLogHkPrice)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}},getNumber:function(e){e.saleTotalHkPrice=this.getPriceNum(e.saleTotalHkPrice),this.getSubPrice()},checkedChange:function(e,t){if(console.log("22222222222============="),console.log(t),1==e.target.checked)this.sellStockList.push({stockId:t.id,productCode:t.productCode,pic:t.pic,pics:t.pics,name:t.name,priceTran:"",saleLogHkPrice:"",saleTotalHkPrice:this.shouCompanyId==this.companyIdZong?t.cost:"",note:t.note,totalBillSaleMoney:t.totalBillSaleMoney});else if(0==e.target.checked)for(var a in this.sellStockList)this.sellStockList[a].stockId==t.id&&this.sellStockList.splice(a,1);this.getSubPrice(),console.log("99000----------"),console.log(this.sellStockList)},submitSales:function(e){var t=this;0==this.sellStockList.length?this.$message.error({message:"請選擇銷售商品",showClose:!0,duration:2e3}):this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.sellStockList.forEach(function(e){if(t.$set(e,"sellCurrencyId",t.addDataConsign.sellCurrencyId),e.totalBillSaleMoney&&e.saleTotalHkPrice&&e.totalBillSaleMoney!=e.saleTotalHkPrice){t.numIsEquality=!0;var a="貨號"+e.productCode+"賬單出售記錄總金額為："+e.totalBillSaleMoney+t.currencyGlobal+" ,您錄入的寄賣金額為："+e.saleTotalHkPrice+t.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";t.$confirm(a,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log("確定提交"),t.numIsEquality=!1,t.submitRequest()}).catch(function(){console.log("取消提交")})}else t.numIsEquality=!1}),0==t.numIsEquality&&t.submitRequest()})},submitRequest:function(){var e=this;console.log("添加銷售單"),this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/sellOrderSave",{sold:this.addDataConsign.sold,bill:this.addDataConsign.bill,soldTime:this.addDataConsign.soldTime,isReceiveCheck:0==this.addDataConsign.isReceiveCheck?0:1,receiveWarehouseId:this.addDataConsign.receiveWarehouseId,sellCurrencyId:this.addDataConsign.sellCurrencyId,sellStockList:this.sellStockList,sellerId:this.addDataConsign.sellerId,customerType:this.addDataConsign.customerType}).then(function(t){console.log("添加銷售單"),console.log(t),200==t.status&&(e.$message.success({message:"添加成功",showClose:!0,duration:2e3}),e.page=1,e.sellStockList=[],e.$refs.addSalesTicketForm.resetFields(),e.$refs.multipleTable.clearSelection(),e.stockLoc2=e.stockLocList[0].warehouseId,e.searchKey="",e.subTotal=0,e.getNotSoldList())}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:2e3})})},companyChange:function(){console.log("公司變化"),console.log(this.addDataConsign.companyId),this.shouCompanyId=this.addDataConsign.companyId.headCompanyId;var e=!0,t=!1,a=void 0;try{for(var l,s=o()(this.companyAndWarehouseList);!(e=(l=s.next()).done);e=!0){var i=l.value;i.id==this.addDataConsign.companyId.id&&(this.warehouseList=i.warehouseList)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}this.addDataConsign.receiveWarehouseId=null},getRowKeys:function(e){return e.id},bigImg:function(e){if(e)return e.split("|").filter(function(e){return e&&e.trim()})},isSellHKD:function(e){2==this.addDataConsign.sellCurrencyId?(e.saleTotalHkPrice=e.priceTran,this.getSubPrice()):e.saleTotalHkPrice=""},editProduct:function(e){this.updateId=e.id,this.pageSel=1,document.getElementById("sendDocumentAddContainer").scrollIntoView({behavior:"smooth"})},updateSuccess:function(){this.pageSel=0,this.page=1,this.getNotSoldList()},getSellerAndCustomerType:function(){var e=this;this.$axios.get(this.baseUrl+"/sellerCustomerTypeList").then(function(t){console.log("销售人员及客户类型列表"),console.log(t),e.sellerList=t.data.sellerList,e.customerTypeList=t.data.customerTypeList}).catch(function(e){console.log(e)})},queryCustomerTypeSearch:function(e,t){console.log(void 0===e?"undefined":s()(e));var a=this.customerTypeList,l=!0,i=!1,r=void 0;try{for(var n,c=o()(a);!(l=(n=c.next()).done);l=!0){var d=n.value;d.value=d.name}}catch(e){i=!0,r=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw r}}t(e?a.filter(this.createCustomerTypeFilter(e)):a)},createCustomerTypeFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleCustomerTypeSelect:function(e){console.log(e),this.addDataConsign.customerType=e.value},getCompanyAndWarehouseList:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/sell/receiveCompanyMsgGet").then(function(t){console.log("接收公司及倉庫"),console.log(t),e.companyAndWarehouseList=t.data}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.getNotSoldList()},radioChange:function(){this.page=1},gobackAdd:function(){this.pageSel=0},getStockLocList:function(){var e=this;this.$axios.get(this.baseUrl+"/stockLocList").then(function(t){console.log("库存列表"),console.log(t),e.stockLocList=t.data,e.stockLoc2=e.stockLocList[0].warehouseId}).catch(function(e){console.log(e)})},getNotSoldList:function(){var e=this;this.$axios.post(this.$store.state.baseCompanyUrl+"/sell/unSellStockInList",{page:this.page,pageNum:10,keyword:this.searchKey,stockLocId:this.stockLoc2}).then(function(t){console.log("未售包包列表"),console.log(t),e.notSoldBagList=t.data.data,e.total=t.data.total,document.getElementById("sendDocumentAddContainer").scrollIntoView({behavior:"smooth"})}).catch(function(e){console.log(e)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"sendDocumentAddContainer"}},[a("div",{staticClass:"new-consignment-container"},[0==e.pageSel?a("div",{staticClass:"sales-ticket-main"},[a("div",{staticClass:"sales-ticket-left"},[a("el-form",{ref:"addSalesTicketForm",attrs:{model:e.addDataConsign,rules:e.addDataRules,"label-width":"98px"}},[a("el-form-item",{attrs:{label:"庫存狀態",required:""}},[a("el-form-item",{attrs:{prop:"sold"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇"},model:{value:e.addDataConsign.sold,callback:function(t){e.$set(e.addDataConsign,"sold",t)},expression:"addDataConsign.sold"}},e._l(e.stateList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"bill",label:"賬單號"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入賬單號"},model:{value:e.addDataConsign.bill,callback:function(t){e.$set(e.addDataConsign,"bill",t)},expression:"addDataConsign.bill"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否收款完成",prop:"isReceiveCheck"}},[a("el-switch",{model:{value:e.addDataConsign.isReceiveCheck,callback:function(t){e.$set(e.addDataConsign,"isReceiveCheck",t)},expression:"addDataConsign.isReceiveCheck"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"銷售人員",prop:"sellerId"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇銷售人員"},model:{value:e.addDataConsign.sellerId,callback:function(t){e.$set(e.addDataConsign,"sellerId",t)},expression:"addDataConsign.sellerId"}},e._l(e.sellerList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客戶類型",prop:"customerType"}},[a("el-autocomplete",{staticStyle:{width:"300px"},attrs:{"fetch-suggestions":e.queryCustomerTypeSearch,placeholder:"請選擇/輸入客戶類型"},on:{select:e.handleCustomerTypeSelect},model:{value:e.addDataConsign.customerType,callback:function(t){e.$set(e.addDataConsign,"customerType",t)},expression:"addDataConsign.customerType"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"companyId",label:"接收公司"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:"","value-key":"id"},on:{change:e.companyChange},model:{value:e.addDataConsign.companyId,callback:function(t){e.$set(e.addDataConsign,"companyId",t)},expression:"addDataConsign.companyId"}},e._l(e.companyAndWarehouseList,function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:e.warehouseList.length>0,expression:"item.warehouseList.length > 0"}],key:e.id,attrs:{label:e.name,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"receiveWarehouseId",label:"接收倉庫"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},model:{value:e.addDataConsign.receiveWarehouseId,callback:function(t){e.$set(e.addDataConsign,"receiveWarehouseId",t)},expression:"addDataConsign.receiveWarehouseId"}},e._l(e.warehouseList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"soldTime",label:"寄賣日期"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇"},model:{value:e.addDataConsign.soldTime,callback:function(t){e.$set(e.addDataConsign,"soldTime",t)},expression:"addDataConsign.soldTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外幣金額幣種",prop:"sellCurrencyId"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"請選擇",clearable:""},model:{value:e.addDataConsign.sellCurrencyId,callback:function(t){e.$set(e.addDataConsign,"sellCurrencyId",t)},expression:"addDataConsign.sellCurrencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",[a("el-table",{attrs:{border:"",data:e.sellStockList}},[a("el-table-column",{attrs:{width:"80px",align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"priceTran",label:"寄賣外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.isSellHKD(t.row)}},model:{value:t.row.priceTran,callback:function(a){e.$set(t.row,"priceTran",a)},expression:"scope.row.priceTran"}},[a("i",{staticStyle:{color:"#000","font-style":"normal","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.currencyRgx(e.addDataConsign.sellCurrencyId)))])])],1)]}}],null,!1,3602711775)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"saleLogHkPrice",label:"物流費/手續費("+e.currencyGlobal+")"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:e.getSubPrice},model:{value:t.row.saleLogHkPrice,callback:function(a){e.$set(t.row,"saleLogHkPrice",a)},expression:"scope.row.saleLogHkPrice"}})],1)]}}],null,!1,2673319877)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"saleTotalHkPrice"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("div",[a("span",[e._v(" 寄賣"+e._s(e.currencyFontRgx(e.currencyGlobal))+"金額 ")])])]}},{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"text",placeholder:"请输入",clearable:""},on:{change:function(a){return e.getNumber(t.row)}},model:{value:t.row.saleTotalHkPrice,callback:function(a){e.$set(t.row,"saleTotalHkPrice",a)},expression:"scope.row.saleTotalHkPrice"}})],1)]}}],null,!1,211524825)}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"note",label:"備註"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",clearable:""},model:{value:t.row.note,callback:function(a){e.$set(t.row,"note",a)},expression:"scope.row.note"}})],1)]}}],null,!1,4253989057)})],1),e._v(" "),a("div",[a("p",{staticStyle:{"text-align":"right"}},[e._v("\n              總金額："+e._s(e.formatNumberRgx(e.subTotal)+" "+e.currencyGlobal)+"\n            ")])])],1),e._v(" "),a("div",{staticStyle:{margin:"20px 40px 20px 0","text-align":"right"}},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){return e.submitSales("addSalesTicketForm")}}},[e._v("提 交")])],1)],1),e._v(" "),a("div",{staticClass:"sales-ticket-right"},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"庫存地："}},[a("el-select",{staticStyle:{"margin-bottom":"10px","margin-right":"10px"},attrs:{placeholder:"請選擇"},on:{change:e.radioChange},model:{value:e.stockLoc2,callback:function(t){e.stockLoc2=t},expression:"stockLoc2"}},e._l(e.stockLocList,function(t){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:t.companyId==e.companyIdZong||!t.companyId,expression:"item.companyId == companyIdZong || !item.companyId"}],key:t.warehouseId,attrs:{label:t.warehouseName,value:t.warehouseId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.warehouseName))]),e._v(" "),a("span",{staticStyle:{"margin-left":"30px",float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(-1==t.warehouseId?"":t.companyName))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"關鍵字："}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"可輸入商品款式、尺寸、材質、色號、色系、貨號等搜索"},on:{focus:e.radioChange},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.getNotSoldList}},[e._v("查詢")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.notSoldBagList,"row-key":e.getRowKeys,"tooltip-effect":"dark",border:""}},[a("el-table-column",{attrs:{align:"center",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hobby,expression:"hobby"}],staticClass:"selBtn",attrs:{type:"checkbox"},domProps:{value:t.row,checked:Array.isArray(e.hobby)?e._i(e.hobby,t.row)>-1:e.hobby},on:{change:[function(a){var l=e.hobby,s=a.target,i=!!s.checked;if(Array.isArray(l)){var o=t.row,r=e._i(l,o);s.checked?r<0&&(e.hobby=l.concat([o])):r>-1&&(e.hobby=l.slice(0,r).concat(l.slice(r+1)))}else e.hobby=i},function(a){return e.checkedChange(a,t.row)}]}})])]}}],null,!1,1282589575)}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productCode",label:"貨號"}}),e._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",prop:"pic",label:"圖片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.row.pic.trim(),"preview-src-list":e.bigImg(t.row.pics),"z-index":5e3}})],1)]}}],null,!1,2898831301)}),e._v(" "),a("el-table-column",{attrs:{width:"250px",align:"center",prop:"name",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.name,placement:"bottom"}},[a("div",{staticClass:"font-warp"},[e._v(e._s(t.row.name))])])],1)]}}],null,!1,3300131861)}),e._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editProduct(t.row)}}},[e._v("修改查看")])],1)]}}],null,!1,1720973806)})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)]):a("div",[a("details-vue",{attrs:{updatesId:e.updateId},on:{goback:e.gobackAdd,updateSuccess:e.updateSuccess}})],1)])])},staticRenderFns:[]};var c=a("VU/8")(r,n,!1,function(e){a("8Vy1")},"data-v-07c2d436",null);t.default=c.exports},rjii:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAAAh5JREFUSEu9lr9rE2EYxz/fXK2I9QcuQrxEEQQRXV0cVFBrgqvBoYOITi4dMgg6CIIgFSoIOkkHxaqTiHoHxbToX+DgoIuxrSKIlAYLhab3yCVtTNM05OIlN74838/nfV7eHyc2+MxPnoLECGjnRjWtx20e6YkGZ+42q1OzQfPdy8BDUF9n0vqU3dHZ2WuNnHVi8/ZcRImx/xfWEYyrysw8qGeuEZvnZpFeAptiFWNlFGQ1+GNilbtW/Dq9HycYiFe6SiuXlPlZbCrujrA5tdKxvXC3MBAcxHG2Ue6SPtymZos4C591em5eNpFMEyQ+YEp3SdmILSE7I/PdR6BLPZKuaGwyFBdAJ3srphiKJ0EnoontFyioy+yOlu9MPEZp5go5KmKFW8ZPjQLDEeSddGzToJvYSsdaNqQ8piPRxJ47hXQ8QiiGUvsm89w3SNkYaBEQ9jEUDyE9jpCKoTS4Xr25/HQOghxoO8JiIK9HWIW8iIICpe/3m77HXRE3QGti891dKNjKsrrTsWNiqe+Pzk3PVY6hvUqm6U+MA0fj+eNouV5LYO8pJ87LvNQ44kIvlrfmMEbDK/ML6EBvxVaQ+amvwL6eirGp6GILntGvfG2iC4HDZucpxrH2J9+JGHuH7B44/46i2W3gcESxWwTtbT8UR2W140/AoThw7TNCsZe6gbjVfiiOShuu3tVvU3kSNgTaEQe2BeM3Zs+VmR35C2Huv8IwqSMtAAAAAElFTkSuQmCC"},sTSK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAYAAACtv5zzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxQUYwRDMwMUI5QUQxMUVBQTgyNUQ2MkVBODk1OUVCQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxQUYwRDMwMkI5QUQxMUVBQTgyNUQ2MkVBODk1OUVCQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFBRjBEMkZGQjlBRDExRUFBODI1RDYyRUE4OTU5RUJBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFBRjBEMzAwQjlBRDExRUFBODI1RDYyRUE4OTU5RUJBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+sN8tyQAAAdhJREFUeNq0ljtIA0EQhveOYCWIiIXYaKP4SKfGB2JherHRQlD0ECtDRMTCxkYLsVAbIeTAysZKLGwigviorCx8EEURFbQKphHR8x+YhWW5i7nkbuBjsrvHzM7s7GyMdDotXKQfbINzMAMc4SGWZYlCYrrM9YIT0AamPb4pWkyXnZ8p4xHwE5SDPt65anxPlCkR1t3glH+/gEFwKwIQchDjw5SSARVgGBgFIqfU5WzbfsRBP3g5MFBF30okpcod2KXKg7N3fSd6KnIlOGgCyyCLiKb0CKqgL0ALzx2CcVDLqXITh9NXDVrBBOhS1tcRyYJ0QLoSXPJOSJJgs5ity4uGnQ+RAjW8tIS1VVmmedABbni8Abb85AjG9qGi4JWnVuA0qt6DT9AJrnk8y1EYPpy8QQ0oUyn9Juc5l/LgE34csJMsnQEPY259RqaL0jQGfkuoqjVZRF6NjJzMcW37FkTxAfUsyu2U/8h92A6csB00huYA9U9doCHMCBYLPZnl7r4Zap6HR2bAxuuhjtWKNQM0Pgp1Bep4ahL34SmipKqdtVNsCVK7huE4dJyfXSlJGN9R32R6j3sCCIQaZQLGM/qjL7jnOD6MUROk5/aL/40cwHBK/+hPgAEAnp91T7okpRUAAAAASUVORK5CYII="},tgfO:function(e,t){},tvR6:function(e,t){},v0xc:function(e,t){},"vZF/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAaNJREFUOE+1k0+IjVEYxn/P+UZSEyV2ShY0PlkpO+VPTTNohGRx7538SSabqdlRoomlslCW4pPdxJQ/i5HYkBJT45rFKIw0pSzIau5859FM1O3MN7Nzdu95n37neZ/eI5LT+9gr122MQ0jngR9FHjalmvZa7UVtotWtLLsh2Dx/b/iilra5w7dB9+/m3EPyIkBtyhvCHNexjyavTUd0POBXf4ETQbpwZ6se/tMtOGg04yPE/gqr07KOWX6d9F4SNFh06c0CoN6MTyR6gBbiu81awSqgHRARMzZrBJ3AiyIPu1PAgyIPh+vN8pqkoQTwvsjD9kazHEC6CTwv8rAnBXwFjWD3ILraAYafQrfAO4BdSwHSGJbKYF5X6eBpXKGTYTZeRjqdOJiaK7WvI4snhIYrAUbjiCuKPofYm2Qwg+OgpYNC/f9nBJtxE6+KcEqiN3HwzeisiIdAZ6odSM9KM5CJS9i1BPBR0oFo6sIXU8CoRN+iTRSfyqgjmfyuYkvHijx0q/EhjgE7gdUVolngM7Al7Rl+A2/VPxknbdYv92WX6f36A08b4RGjsGdRAAAAAElFTkSuQmCC"},w1Mz:function(e,t){},wTnc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("pFYg"),s=a.n(l),i=a("mvHQ"),o=a.n(i),r=a("BO1k"),n=a.n(r),c={data:function(){return{baseUrl:this.$store.state.baseUrl,pageSel:0,time:"",keyword:"",personId:"",userList:[],page:1,total:0,personAllMoney:0,personAllCurrency:"",billList:[],typeList:[{label:"買入",value:0},{label:"賣出",value:1},{label:"轉賬",value:2},{label:"買入退款",value:3},{label:"賣出退款",value:4},{label:"其他收入",value:5},{label:"其他支出",value:6}],productCode:"",dialogCodeVisible:!1,isClick:!1,stockId:null,billData:{},billRules:{personId:[{required:!0,message:"請選擇賬戶",trigger:"change"}],time:[{required:!0,message:"請選擇賬單日期",trigger:"change"}],tradeType:[{required:!0,message:"請選擇交易類型",trigger:"change"}],payeeId:[{required:!1,message:"請選擇收款賬戶",trigger:"change"}],money:[{required:!1,message:"請輸入外幣金額",trigger:"blur"}],totalHkPrice:[{required:!0,message:"請輸入金額",trigger:"blur"}]},currencyIds:[{value:1,label:"CNY人民币"},{value:2,label:"HKD港币"},{value:3,label:"USD美元"},{value:4,label:"EUR欧元"},{value:5,label:"GBP英镑"},{value:6,label:"AUD澳元"}],meansList:[],dialogDelVisible:!1,delId:null,productCodeIsKong:!1,personName:"",productCodeIsNull:!0,isCompany:1,accountList:[],saleHkMoneyTotal:0,isOther:!1,loading:!1,personType:null,payeeType:null,personCurrency:null,payeeCurrency:null,activeName:"first",companyCurrency:"",accountNumberType:null,currencyGlobal:""}},created:function(){this.currencyGlobal=sessionStorage.getItem("currencyGlobal"),this.getBillUserList(),this.getMeansList(),this.accountNumberType=sessionStorage.getItem("type")},methods:{personIdIsSam:function(){var e=void 0,t=!0,a=!1,l=void 0;try{for(var s,i=n()(this.userList);!(t=(s=i.next()).done);t=!0){var o=s.value;if(o.id==this.billData.personId){this.personType=o.type,this.personCurrency=o.currencyId,e=o.companyCurrencyId,console.log(e);var r=!0,c=!1,d=void 0;try{for(var u,p=n()(this.currencyIds);!(r=(u=p.next()).done);r=!0){var m=u.value;if(m.value===e){this.companyCurrency=m.label.match(/[\u4e00-\u9fa5]/g).join("")}}}catch(e){c=!0,d=e}finally{try{!r&&p.return&&p.return()}finally{if(c)throw d}}return 2==this.billData.tradeType&&""!=this.billData.payeeId&&null!=this.billData.payeeId?2==this.personCurrency?this.billData.currencyId=this.payeeCurrency:2==this.payeeCurrency?this.billData.currencyId=this.personCurrency:this.personCurrency!=this.payeeCurrency?this.$message.error({message:"支出賬戶與收款賬戶結算幣種不同，不能轉賬"}):this.billData.currencyId=Number(o.currencyId):this.billData.currencyId=Number(o.currencyId),2==o.type||2==this.payeeType?this.billRules.money[0].required=!0:this.billRules.money[0].required=!1,void(2==this.billData.currencyId&&(this.billData.currencyId=""))}}}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}},payeeIdIsSam:function(){if(2==this.billData.tradeType){var e=!0,t=!1,a=void 0;try{for(var l,s=n()(this.userList);!(e=(l=s.next()).done);e=!0){var i=l.value;if(i.id==this.billData.payeeId)return this.payeeType=i.type,this.payeeCurrency=i.currencyId,2==i.type||2==this.personType?this.billRules.money[0].required=!0:this.billRules.money[0].required=!1,""!=this.billData.personId&&null!=this.billData.personId&&0!=this.personType?2==this.personCurrency?this.billData.currencyId=this.payeeCurrency:2==this.payeeCurrency?this.billData.currencyId=this.personCurrency:this.personCurrency!=this.payeeCurrency?this.$message.error({message:"支出賬戶與收款賬戶結算幣種不同，不能轉賬"}):this.billData.currencyId=Number(i.currencyId):this.billData.currencyId=Number(i.currencyId),void(2==this.billData.currencyId&&(this.billData.currencyId=""))}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}}},checkThisList:function(e){this.personId=e.personId,this.personName=e.name,this.isCompany=1,this.page=1,2==e.type?this.isOther=!0:this.isOther=!1,this.getBillList()},isRed:function(e,t){if(1==e){if(0==this.isCompany)return-1;var a=t>0?"-"+t:Math.abs(t);if(1==this.isOther){var l=a>0?"-"+a:Math.abs(a);return Number(l)<0?1:-1}return Number(a)<0?1:-1}if(0==this.isCompany)return 1;if(1==this.isOther){var s=t>0?"-"+t:Math.abs(t);return Number(s)<0?1:-1}return Number(t)<0?1:-1},isFanMoney:function(e,t,a,l){if(""==a||null==a||0==a)return"/";if(1==e){if(0==this.isCompany){var s=t<0?Math.abs(a):a;return this.formatNumberRgx(s)+" "+l}var i=t>0?"-"+a:Math.abs(a);if(1==this.isOther){var o=i>0?"-"+i:Math.abs(i);return this.formatNumberRgx(o)+" "+l}return this.formatNumberRgx(i)+" "+l}if(0==this.isCompany){var r=t>0?"-"+a:a;return this.formatNumberRgx(r)+" "+l}if(1==this.isOther){var n=t>0?"-"+a:Math.abs(a);return this.formatNumberRgx(n)+" "+l}return this.formatNumberRgx(a)+" "+l},isFanHkPrice:function(e,t){if(""==t||null==t||0==t)return"/";if(1==e){if(0==this.isCompany){var a=t<0?Math.abs(t):t;return this.formatNumberRgx(a)+" "+this.currencyGlobal}var l=t>0?"-"+t:Math.abs(t);if(1==this.isOther){var s=l>0?"-"+l:Math.abs(l);return this.formatNumberRgx(s)+" "+this.currencyGlobal}return this.formatNumberRgx(l)+" "+this.currencyGlobal}if(0==this.isCompany){var i=t>0?"-"+t:t;return this.formatNumberRgx(i)+" "+this.currencyGlobal}if(1==this.isOther){var o=t>0?"-"+t:Math.abs(t);return this.formatNumberRgx(o)+" "+this.currencyGlobal}return this.formatNumberRgx(t)+" "+this.currencyGlobal},personShow:function(e){return 1==e||3==e||5==e?"收款賬戶":0==e||2==e||4==e||6==e?"支出賬戶":void 0},updateBill:function(e){if(this.isClick=!1,this.billData=JSON.parse(o()(e)),""==this.companyCurrency){var t=void 0,a=!0,l=!1,s=void 0;try{for(var i,r=n()(this.userList);!(a=(i=r.next()).done);a=!0){var c=i.value;if(c.id==this.billData.personId){t=c.companyCurrencyId,console.log(t);var d=!0,u=!1,p=void 0;try{for(var m,h=n()(this.currencyIds);!(d=(m=h.next()).done);d=!0){var v=m.value;if(v.value===t){this.companyCurrency=v.label.match(/[\u4e00-\u9fa5]/g).join("")}}}catch(e){u=!0,p=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw p}}}}}catch(e){l=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw s}}}0==this.billData.stockList.length?(this.billData.stockList=[{stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}],this.productCodeIsNull=!0):this.productCodeIsNull=!1,this.pageSel=1,document.getElementById("billReportContainer").scrollIntoView({behavior:"smooth"})},updateBillSure:function(){var e=this;this.$refs.billForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;1==e.isClick&&""!=e.billData.stockList[0].productCode?e.$message.error({message:"有貨號查詢產品描述失敗，請檢查貨號是否正確",showClose:!0,duration:5e3}):(e.isKong(),0==e.productCodeIsKong?(console.log("通過"),e.updateData()):(console.log("不通過"),0==e.billData.stockList.length&&(e.billData.stockList=[{stockId:null,productCode:"",money:e.billData.money,totalHkPrice:e.billData.totalHkPrice,saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}])))})},updateData:function(){var e=this;this.$axios.post(this.baseUrl+"/billSave",this.billData).then(function(t){console.log("修改賬單信息"),console.log(t),200===t.status&&(e.$message.success({message:"賬單信息修改成功",showClose:!0,duration:2e3}),e.pageSel=0,e.page=1,e.getBillList(),document.getElementById("billReportContainer").scrollIntoView({behavior:"smooth"}))}).catch(function(t){console.log(t),0==e.billData.stockList.length&&(e.billData.stockList=[{stockId:null,productCode:"",money:e.billData.money,totalHkPrice:e.billData.totalHkPrice,saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0}]),e.$message.error({message:t.data.status,showClose:!0,duration:3e3})})},delBill:function(e,t){this.isClick=!1,"操作"==t.label&&(this.delId=e.id,this.dialogDelVisible=!0)},delBillSure:function(){var e=this;this.$axios.get(this.baseUrl+"/billDelete?id="+this.delId).then(function(t){console.log("刪除賬單信息"),console.log(t),200===t.status&&(e.$message.success({message:"賬單刪除成功",showClose:!0,duration:2e3}),e.dialogDelVisible=!1,e.page=1,e.getBillList(),document.getElementById("billReportContainer").scrollIntoView({behavior:"smooth"}))}).catch(function(t){console.log(t),e.$message.error({message:t.data.status,showClose:!0,duration:3e3})})},exportData:function(){var e=this,t=this.$loading({lock:!0,text:"导出中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"}),a=""!=this.time&&null!=this.time?this.time[0]:"",l=""!=this.time&&null!=this.time?this.time[1]:"";this.$axios.get(this.baseUrl+"/billExport?id="+this.personId+"&startTime="+a+"&endTime="+l,{responseType:"blob"}).then(function(e){console.log("導出報表"),console.log(e),t.close();var a=document.createElement("a"),l=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});a.style.display="none",a.href=URL.createObjectURL(l);for(var s="",i=0;i<10;i++)s+=Math.ceil(10*Math.random());a.setAttribute("download","Hermès Bill summary_"+s+".xlsx"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(function(a){console.log(a),t.close(),e.$message.error({message:a.data.status,showClose:!0,duration:2e3})})},isKong:function(){var e=this;if(this.productCodeIsKong=!1,""==this.billData.stockList[0].productCode)this.billData.stockList=[],this.productCodeIsNull=!0;else{this.productCodeIsNull=!1;var t=!0,a=!1,l=void 0;try{for(var s,i=n()(this.billData.stockList);!(t=(s=i.next()).done);t=!0){var o=s.value;if(1==this.billRules.money[0].required){if(""==o.money||0==o.money)return this.$message.error({message:"產品貨號列表外幣金額不能為空，請輸入",showClose:!0,duration:2e3}),void(this.productCodeIsKong=!0)}else this.productCodeIsKong=!1;if(2!=this.billData.tradeType&&5!=this.billData.tradeType&&6!=this.billData.tradeType){if(""==o.totalHkPrice)return this.$message.error({message:"產品貨號列表"+this.companyCurrency+"金額不能為空，請輸入",showClose:!0,duration:2e3}),void(this.productCodeIsKong=!0)}else this.productCodeIsKong=!1;if(0==this.billData.tradeType){if(o.treasuryPrices&&o.totalHkPrice&&o.treasuryPrices!=o.totalHkPrice){this.productCodeIsKong=!0;var r="貨號"+o.productCode+"入庫金額為："+o.treasuryPrices+this.currencyGlobal+" ，您錄入的買入金額為："+o.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(r,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.productCodeIsKong=!1,e.updateData()}).catch(function(){console.log("取消提交")})}this.productCodeIsKong=!1}else if(1==this.billData.tradeType){if(o.saleTotalHkPrice&&o.totalHkPrice&&o.saleTotalHkPrice!=o.totalHkPrice){this.productCodeIsKong=!0;var c="貨號"+o.productCode+"出售金額為："+o.saleTotalHkPrice+this.currencyGlobal+" ，您錄入的賣出金額為："+o.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(c,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.productCodeIsKong=!1,e.updateData()}).catch(function(){console.log("取消提交")})}this.productCodeIsKong=!1}}}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}if(2==this.billData.tradeType){if(this.saleHkMoneyTotal=0,this.saleHkMoneyTotal=this.billData.stockList.reduce(function(e,t){return e+1*t.saleTotalHkMoney},0),this.billData.totalHkPrice&&this.saleHkMoneyTotal&&this.billData.totalHkPrice!=this.saleHkMoneyTotal){this.productCodeIsKong=!0;var d="產品列表出售總金額為："+this.saleHkMoneyTotal+this.currencyGlobal+" ,您的轉賬金額為："+this.billData.totalHkPrice+this.currencyGlobal+" ，兩者不相等，是否確定繼續提交？";return void this.$confirm(d,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){e.productCodeIsKong=!1,e.updateData()}).catch(function(){console.log("取消提交")})}this.productCodeIsKong=!1}}},searchCode:function(e,t){var a=this;""!=e&&this.$axios.get(this.baseUrl+"/productCodeSearch?productCode="+e).then(function(l){console.log("產品描述列表"),console.log(l);var s=l.data;s.stockId?(a.stockId=s.stockId,a.billData.productDes+=s.productDes+"\n",a.isClick=!1,a.billData.stockList[t].stockId=a.stockId,a.billData.stockList[t].saleTotalHkMoney=s.saleTotalHkMoney,a.billData.stockList[t].treasuryPrices=s.totalHkPrice,a.billData.stockList[t].saleTotalHkPrice=s.saleTotalHkPrice):(a.productCode=e,a.dialogCodeVisible=!0,a.isClick=!0)}).catch(function(e){console.log(e)})},delCode:function(e){this.billData.stockList.splice(e,1);var t=this.billData.productDes.split("\n");t.splice(e,1),this.billData.productDes=t.join("\n"),this.tableHKPriceChange()},addCode:function(){this.billData.stockList.push({stockId:null,productCode:"",money:"",totalHkPrice:"",saleTotalHkMoney:0,treasuryPrices:0,saleTotalHkPrice:0})},tablePriceChange:function(e){e.money=this.getPriceNum(e.money),e.totalHkPrice=this.getIntegerNum(e.totalHkPrice),0!=e.money&&""!=e.money&&""!=this.billData.totalToHkRate&&(1==this.billData.currencyId&&this.billData.totalToHkRate<1?e.totalHkPrice=(e.money/this.billData.totalToHkRate).toFixed(0):e.totalHkPrice=(e.money*this.billData.totalToHkRate).toFixed(0)),this.tableHKPriceChange()},hkRateTableNum:function(){var e=!0,t=!1,a=void 0;try{for(var l,s=n()(this.billData.stockList);!(e=(l=s.next()).done);e=!0){var i=l.value;1==this.billData.currencyId&&this.billData.totalToHkRate<1?i.totalHkPrice=(i.money/this.billData.totalToHkRate).toFixed(0):i.totalHkPrice=(i.money*this.billData.totalToHkRate).toFixed(0)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}this.hkMoneyNum()},tableHKPriceChange:function(){this.billData.money=0,this.billData.totalHkPrice=0;var e=!0,t=!1,a=void 0;try{for(var l,s=n()(this.billData.stockList);!(e=(l=s.next()).done);e=!0){var i=l.value;this.billData.money+=Number(i.money),this.billData.totalHkPrice+=Number(i.totalHkPrice)}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}},hkMoneyNum:function(){this.billData.money=this.getPriceNum(this.billData.money),console.log(this.billData.money),2==this.billData.currencyId?this.billData.totalHkPrice=Number(this.billData.money).toFixed(0):""!=this.billData.money&&0!=this.billData.money&&""!=this.billData.totalToHkRate&&(1==this.billData.currencyId&&this.billData.totalToHkRate<1?this.billData.totalHkPrice=(this.billData.money/this.billData.totalToHkRate).toFixed(0):this.billData.totalHkPrice=(this.billData.money*this.billData.totalToHkRate).toFixed(0))},hkNum:function(){this.billData.totalHkPrice=this.getIntegerNum(this.billData.totalHkPrice)},tradeTypeChange:function(){console.log(this.billData.tradeType),2==this.billData.tradeType?this.billRules.payeeId[0].required=!0:this.billRules.payeeId[0].required=!1},querySearch:function(e,t){console.log(void 0===e?"undefined":s()(e));var a=this.meansList,l=!0,i=!1,o=void 0;try{for(var r,c=n()(a);!(l=(r=c.next()).done);l=!0){var d=r.value;d.value=d.name}}catch(e){i=!0,o=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw o}}t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e),this.billData.receiveType=e.value},goback:function(){this.pageSel=0},getMeansList:function(){var e=this;this.$axios.get(this.baseUrl+"/receiveTypeList").then(function(t){if(console.log("交易方式列表"),console.log(t),e.meansList=[],t.data.length>0){var a=!0,l=!1,s=void 0;try{for(var i,o=n()(t.data);!(a=(i=o.next()).done);a=!0){var r=i.value;""!=r&&null!=r&&e.meansList.push({name:r})}}catch(e){l=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(l)throw s}}}}).catch(function(e){console.log(e)})},personChange:function(){this.page=1;var e=!0,t=!1,a=void 0;try{for(var l,s=n()(this.userList);!(e=(l=s.next()).done);e=!0){var i=l.value;i.id==this.personId&&(console.log(i),this.personName=i.name,0==i.type?(this.isCompany=0,this.activeName="first"):(this.isCompany=1,2==i.type?this.isOther=!0:this.isOther=!1))}}catch(e){t=!0,a=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw a}}console.log(this.personId),this.getBillList()},getBillList:function(){var e=this;this.loading=!0,console.log(this.time),this.$axios.post(this.baseUrl+"/billSearch?page="+this.page+"&pageNum=10",{personId:this.personId,startTime:""!==this.time&&null!==this.time?this.time[0]:"",endTime:""!==this.time&&null!==this.time?this.time[1]:"",keyword:this.keyword,flag:2}).then(function(t){console.log("賬單列表"),console.log(t),e.loading=!1,0==e.isCompany?(e.accountList=t.data.censusData,e.billList=t.data.allRecord.list,e.total=t.data.allRecord.total):(e.billList=t.data.list,e.total=t.data.total,e.personAllMoney=t.data.personAllMoney,e.personAllCurrency=t.data.currency)}).catch(function(t){e.loading=!1,console.log(t)})},getBillUserList:function(){var e=this;this.$axios.get(this.baseUrl+"/billUserList").then(function(t){console.log("用戶列表"),console.log(t),e.userList=t.data,e.personId=e.userList[0].id,0==e.userList[0].type?e.isCompany=0:e.isCompany=1,e.getBillList()}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,console.log(this.page),this.getBillList(),document.getElementById("billReportContainer").scrollIntoView({behavior:"smooth"})}}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{"margin-top":"-20px",overflow:"hidden"},attrs:{id:"billReportContainer"}},[l("div",{staticClass:"bill-report-container"},[0==e.pageSel?l("div",[l("div",[l("el-form",{attrs:{inline:"","label-width":"55px"}},[l("el-form-item",{attrs:{label:"日期："}},[l("el-date-picker",{attrs:{type:"daterange","range-separator":"至",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","start-placeholder":"開始日期","end-placeholder":"結束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"賬戶"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.personId,callback:function(t){e.personId=t},expression:"personId"}},e._l(e.userList,function(e,t){return l("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"可輸入產品貨號、產品描述和賬單備註進行查詢",clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-button",{attrs:{type:"primary"},on:{click:e.personChange}},[e._v("查詢")])],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-button",{attrs:{type:"primary"},on:{click:e.exportData}},[e._v("導出數據")])],1)],1)],1),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:0==e.isCompany,expression:"isCompany == 0"}]},[l("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"統計列表",name:"first"}},[l("el-table",{staticStyle:{width:"800px"},attrs:{data:e.accountList,border:""},on:{"row-dblclick":e.checkThisList}},[l("el-table-column",{attrs:{align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[e._v("\n                    "+e._s(++t.$index)+"\n                  ")])]}}],null,!1,2480277231)}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[2==t.row.type?l("div",{staticStyle:{display:"flex","align-items":"center"}},[l("span",[e._v(e._s(t.row.name))]),e._v(" "),l("span",{staticStyle:{"font-size":"14px"}},[e._v("欠公司")])]):l("div",{staticStyle:{display:"flex","align-items":"center"}},[l("span",{staticStyle:{"font-size":"14px"}},[e._v("公司欠")]),e._v(" "),l("span",[e._v(e._s(t.row.name))])])])]}}],null,!1,253249048)}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"欠款總數"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("span",{style:{color:t.row.totalPrice<0?"red":"#606266"}},[e._v(e._s(e.formatNumberRgx(t.row.totalPrice))),l("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[e._v(e._s(t.row.currency))])])])]}}],null,!1,606683391)})],1)],1),e._v(" "),l("el-tab-pane",{attrs:{label:"記錄列表",name:"second"}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.billList,"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading"},on:{"row-click":e.delBill,"row-dblclick":e.updateBill}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                    "+e._s(t.row.time)+"\n                  ")])]}}],null,!1,3997064811)}),e._v(" "),l("el-table-column",{attrs:{width:"150px",align:"center",prop:"tradeType",label:"買入/賣出"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                    "+e._s(1!=e.isOther||"買入"!=e.tradeTypeRgx(t.row.tradeType)&&"賣出"!=e.tradeTypeRgx(t.row.tradeType)?e.tradeTypeRgx(t.row.tradeType):t.row.companyName+" "+e.tradeTypeRgx(t.row.tradeType))+"\n                  ")])]}}],null,!1,3161390777)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"stockList",label:"貨號"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"},domProps:{innerHTML:e._s(e.productCodeGet(t.row.stockList))}})]}}],null,!1,1521275022)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[l("el-tooltip",{attrs:{effect:"light",place:"top-start"}},[l("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(t.row.productDes.replace(/[\r\n]/g,"<br />"))},slot:"content"}),e._v(" "),l("div",{staticClass:"font-warp",domProps:{innerHTML:e._s(t.row.productDes.replace(/[\r\n]/g,"<br />"))}})])],1)]}}],null,!1,564932112)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                    "+e._s(e.isFanMoney(t.row.flag,t.row.totalHkPrice,t.row.money,t.row.currency))+"\n                  ")])]}}],null,!1,3662122253)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                    "+e._s(""==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n                  ")])]}}],null,!1,1965068180)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.companyCurrency+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                    "+e._s(e.isFanHkPrice(t.row.flag,t.row.totalHkPrice))+"\n                  ")])]}}],null,!1,2132351726)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                    "+e._s(t.row.receiveType)+"\n                  ")])]}}],null,!1,4004139213)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-start"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,1840909619)}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作"}},[[l("div",[l("span",{staticStyle:{color:"#409EFF",cursor:"pointer"}},[e._v("刪除")])])]],2)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)],1),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isCompany,expression:"isCompany == 1"}]},[0!==e.personAllMoney&&0==e.isOther?l("div",{staticClass:"right-title"},[e._v("\n          公司欠\n          "+e._s(e.personName+"總數： ")+"\n          "),l("span",{style:{color:e.personAllMoney<0?"red":"#000"}},[e._v(e._s(e.formatNumberRgx(e.personAllMoney))),l("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[e._v(e._s(e.personAllCurrency))])])]):e._e(),e._v(" "),0!==e.personAllMoney&&1==e.isOther?l("div",{staticClass:"right-title"},[e._v("\n          "+e._s(e.personName)+"\n          "),l("span",[e._v("欠公司總數： ")]),e._v(" "),l("span",{style:{color:e.personAllMoney<0?"red":"#000"}},[e._v(e._s(e.formatNumberRgx(e.personAllMoney))),l("span",{staticStyle:{"margin-left":"5px","font-size":"12px"}},[e._v(e._s(e.personAllCurrency))])])]):e._e(),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.billList,"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading"},on:{"row-click":e.delBill,"row-dblclick":e.updateBill}},[l("el-table-column",{attrs:{align:"center",prop:"time",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                "+e._s(t.row.time)+"\n              ")])]}}],null,!1,1439676011)}),e._v(" "),l("el-table-column",{attrs:{width:"150px",align:"center",prop:"tradeType",label:"買入/賣出"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                "+e._s(1!=e.isOther||"買入"!=e.tradeTypeRgx(t.row.tradeType)&&"賣出"!=e.tradeTypeRgx(t.row.tradeType)?e.tradeTypeRgx(t.row.tradeType):t.row.companyName+" "+e.tradeTypeRgx(t.row.tradeType))+"\n              ")])]}}],null,!1,4198123705)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"stockList",label:"貨號"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"},domProps:{innerHTML:e._s(e.productCodeGet(t.row.stockList))}})]}}],null,!1,2843138446)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"productDes",label:"產品描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[l("el-tooltip",{attrs:{effect:"light",place:"top-start"}},[l("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(t.row.productDes.replace(/[\r\n]/g,"<br />"))},slot:"content"}),e._v(" "),l("div",{staticClass:"font-warp",domProps:{innerHTML:e._s(t.row.productDes.replace(/[\r\n]/g,"<br />"))}})])],1)]}}],null,!1,1509975888)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"money",label:"外幣金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                "+e._s(e.isFanMoney(t.row.flag,t.row.totalHkPrice,t.row.money,t.row.currency))+"\n              ")])]}}],null,!1,1953462797)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalToHkRate",label:"匯率"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                "+e._s(""==t.row.totalToHkRate?"/":t.row.totalToHkRate)+"\n              ")])]}}],null,!1,3440001428)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"totalHkPrice",label:e.companyCurrency+"金額"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                "+e._s(e.isFanHkPrice(t.row.flag,t.row.totalHkPrice))+"\n              ")])]}}],null,!1,2751882222)}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"receiveType",label:"交易方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[e._v("\n                "+e._s(t.row.receiveType)+"\n              ")])]}}],null,!1,97094349)}),e._v(" "),l("el-table-column",{attrs:{width:"250px",align:"center",prop:"remark",label:"Remarks"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:{color:1==e.isRed(t.row.flag,t.row.totalHkPrice)?"red":"#606266"}},[l("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.row.remark,placement:"top-start"}},[l("div",{staticClass:"font-warp"},[e._v(e._s(t.row.remark))])])],1)]}}],null,!1,2531036211)}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作"}},[[l("div",[l("span",{staticStyle:{color:"#409EFF",cursor:"pointer"}},[e._v("刪除")])])]],2)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"15px","text-align":"right"}},[l("el-pagination",{attrs:{"current-page":e.page,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"刪除該賬單",visible:e.dialogDelVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n          確定刪除該賬單？刪除後不能恢復\n        ")]),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogDelVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.delBillSure}},[e._v("確 定")])],1)])],1):l("div",{staticStyle:{width:"60%"}},[l("div",{staticStyle:{width:"60px",margin:"0 0 20px 30px",display:"flex","justify-content":"space-between",cursor:"pointer"},on:{click:e.goback}},[l("img",{staticStyle:{height:"21px"},attrs:{src:a("sTSK")}}),e._v(" "),l("p",{staticStyle:{margin:"0"}},[e._v("返回")])]),e._v(" "),l("el-form",{ref:"billForm",attrs:{model:e.billData,rules:e.billRules,"label-width":"110px"}},[l("el-form-item",{attrs:{label:"賬單日期",prop:"time"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"請選擇賬單日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.billData.time,callback:function(t){e.$set(e.billData,"time",t)},expression:"billData.time"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"交易類型",prop:"tradeType"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},on:{change:e.tradeTypeChange},model:{value:e.billData.tradeType,callback:function(t){e.$set(e.billData,"tradeType",t)},expression:"billData.tradeType"}},e._l(e.typeList,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:e.personShow(e.billData.tradeType),prop:"personId"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",clearable:""},on:{change:e.personIdIsSam},model:{value:e.billData.personId,callback:function(t){e.$set(e.billData,"personId",t)},expression:"billData.personId"}},e._l(e.userList,function(e,t){return l("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.billData.tradeType,expression:"billData.tradeType == 2"}],attrs:{label:"收款賬戶",prop:"payeeId"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},on:{change:e.payeeIdIsSam},model:{value:e.billData.payeeId,callback:function(t){e.$set(e.billData,"payeeId",t)},expression:"billData.payeeId"}},e._l(e.userList,function(t,a){return l("el-option",{directives:[{name:"show",rawName:"v-show",value:t.id!=e.billData.personId,expression:"item.id != billData.personId"}],key:a,attrs:{label:t.name,value:t.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"交易方式",prop:"receiveType"}},[l("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"請選擇/輸入內容"},on:{select:e.handleSelect},model:{value:e.billData.receiveType,callback:function(t){e.$set(e.billData,"receiveType",t)},expression:"billData.receiveType"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.accountNumberType,expression:"accountNumberType == 1"}],attrs:{label:"產品貨號",prop:"productCode"}},[l("div",{staticClass:"code-table"},[l("div",{staticClass:"every1"},[l("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("\n              貨號\n            ")]),e._v(" "),l("div",{staticClass:"every2"},[e._v("\n              外幣金額\n            ")]),e._v(" "),l("div",{staticClass:"every3"},[e._v("外幣轉"+e._s(e.companyCurrency)+"匯率")]),e._v(" "),l("div",{staticClass:"every4"},[l("span",{directives:[{name:"show",rawName:"v-show",value:2!=e.billData.tradeType&&5!=e.billData.tradeType&&6!=e.billData.tradeType,expression:"\n                  billData.tradeType != 2 &&\n                    billData.tradeType != 5 &&\n                    billData.tradeType != 6\n                "}],staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.companyCurrency)+"金額\n            ")]),e._v(" "),l("div",{staticClass:"every5"},[e._v("\n              操作\n            ")])]),e._v(" "),e._l(e.billData.stockList,function(t,s){return l("div",{key:s,staticClass:"code-table",staticStyle:{"margin-top":"5px"}},[l("div",{staticClass:"every1"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{change:function(a){return e.searchCode(t.productCode,s)}},model:{value:t.productCode,callback:function(a){e.$set(t,"productCode",a)},expression:"items.productCode"}})],1),e._v(" "),l("div",{staticClass:"every2"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{change:function(a){return e.tablePriceChange(t)}},model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"items.money"}}),e._v(" "),l("el-select",{attrs:{placeholder:"請選擇幣種"},model:{value:e.billData.currencyId,callback:function(t){e.$set(e.billData,"currencyId",t)},expression:"billData.currencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",{staticClass:"every3"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{input:e.hkRateTableNum},model:{value:e.billData.totalToHkRate,callback:function(t){e.$set(e.billData,"totalToHkRate",t)},expression:"billData.totalToHkRate"}})],1),e._v(" "),l("div",{staticClass:"every4"},[l("el-input",{attrs:{placeholder:"請輸入"},on:{change:function(a){return e.tablePriceChange(t)}},model:{value:t.totalHkPrice,callback:function(a){e.$set(t,"totalHkPrice",a)},expression:"items.totalHkPrice"}})],1),e._v(" "),l("div",{staticClass:"every5"},[0==s?l("img",{staticStyle:{width:"30px",height:"30px",cursor:"pointer"},attrs:{src:a("kaoy")},on:{click:e.addCode}}):l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delCode(s)}}},[e._v("刪除")])],1)])}),e._v(" "),l("el-dialog",{attrs:{title:"提示",visible:e.dialogCodeVisible,width:"520px"},on:{"update:visible":function(t){e.dialogCodeVisible=t}}},[l("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n              未查找到"+e._s(e.productCode)+"，請檢查貨號輸入是否正確\n            ")]),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{staticClass:"sure-button",attrs:{type:"primary"},on:{click:function(t){e.dialogCodeVisible=!1}}},[e._v("確 定")])],1)])],2),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.accountNumberType,expression:"accountNumberType == 1"}],attrs:{label:"產品描述",prop:"productDes"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"產品描述"},model:{value:e.billData.productDes,callback:function(t){e.$set(e.billData,"productDes",t)},expression:"billData.productDes"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"外幣金額",prop:"money"}},[l("div",{staticStyle:{display:"flex"}},[l("el-input",{attrs:{placeholder:"請輸入外幣金額"},on:{change:e.hkMoneyNum},model:{value:e.billData.money,callback:function(t){e.$set(e.billData,"money",t)},expression:"billData.money"}}),e._v(" "),l("el-select",{attrs:{placeholder:"請選擇金額幣種",disabled:1==e.accountNumberType&&(0==e.billData.tradeType||1==e.billData.tradeType||3==e.billData.tradeType||4==e.billData.tradeType)},model:{value:e.billData.currencyId,callback:function(t){e.$set(e.billData,"currencyId",t)},expression:"billData.currencyId"}},e._l(e.currencyIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),(e.billData.stockList.length>0?""==e.billData.stockList[0].productCode:e.productCodeIsNull)?l("el-form-item",{attrs:{label:"外幣轉"+e.companyCurrency+"匯率",prop:"totalToHkRate"}},[l("el-input",{attrs:{placeholder:"請輸入"},on:{input:e.hkMoneyNum},model:{value:e.billData.totalToHkRate,callback:function(t){e.$set(e.billData,"totalToHkRate",t)},expression:"billData.totalToHkRate"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:e.companyCurrency+"金額",prop:"totalHkPrice"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"請輸入金額"},on:{change:e.hkNum},model:{value:e.billData.totalHkPrice,callback:function(t){e.$set(e.billData,"totalHkPrice",t)},expression:"billData.totalHkPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"備註",prop:"remark"}},[l("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"請輸入備註信息"},model:{value:e.billData.remark,callback:function(t){e.$set(e.billData,"remark",t)},expression:"billData.remark"}})],1)],1),e._v(" "),l("div",{staticStyle:{display:"flex","justify-content":"flex-end","text-align":"right"}},[l("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:e.updateBillSure}},[e._v("\n          修改\n        ")])],1)],1)])])},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("nYnx")},"data-v-2af94dc0",null);t.default=u.exports},wXBS:function(e,t){},"xZ/6":function(e,t,a){e.exports=a.p+"static/img/logo_black.76a034a.png"},yrMe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),s=a.n(l),i=a("Xxa5"),o=a.n(i),r=a("exGp"),n=a.n(r),c=a("mvHQ"),d=a.n(c),u={data:function(){return{userDataList:[],dialogAddUserVisible:!1,addUserData:{name:"",type:1,deptList:[],currencyId:""},addUserRules:{name:[{required:!0,message:"請輸入人員名稱",trigger:"blur"}],personnelName:[{required:!1,message:"請輸入人員名稱",trigger:"blur"}],deptList:[{required:!1,message:"請選擇所屬部門職位",trigger:"change"}],currencyId:[{required:!0,message:"請選擇幣種",trigger:"change"}]},currencyIds:[{value:1,label:"CNY人民币"},{value:2,label:"HKD港币"},{value:3,label:"USD美元"},{value:4,label:"EUR欧元"},{value:5,label:"GBP英镑"},{value:6,label:"AUD澳元"}],deptList:[],updateUserMsg:{},dialogUpdateUserVisible:!1,dialogDelUserVisible:!1,delUserId:null}},created:function(){this.getUserData(),this.getDeptList()},methods:{radioChange:function(){console.log(this.addUserData.type),1==this.dialogAddUserVisible?1==this.addUserData.type?this.addUserRules.deptList[0].required=!0:this.addUserRules.deptList[0].required=!1:1==this.updateUserMsg.type?this.addUserRules.deptList[0].required=!0:this.addUserRules.deptList[0].required=!1},handleChange:function(){for(var e=sessionStorage.getItem("currencyGlobal"),t=0;t<this.currencyIds.length;++t)e==this.currencyIds[t].label.split("").slice(0,3).join("")&&(this.addUserData.currencyId=Number(this.currencyIds[t].value))},addUser:function(){this.addUserData.name="",this.addUserData.type=1,this.addUserData.deptList=[],this.addUserRules.deptList[0].required=!1,this.addUserRules.personnelName[0].required=!1,this.handleChange(),this.dialogAddUserVisible=!0,this.radioChange()},addUserSure:function(e){var t=this;console.log(this.addUserData.type),console.log(this.addUserData.deptList);var a=[];1==this.addUserData.type&&(a=this.addUserData.deptList.map(function(e){return{deptId:e[0],titleId:e[1]}})),console.log(a),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.post(t.$store.state.baseCompanyUrl+"/personnel/personnelMsgSave",{currencyId:t.addUserData.currencyId,deptList:a,companyId:sessionStorage.getItem("companyId"),name:t.addUserData.name,type:t.addUserData.type}).then(function(e){console.log("添加人員"),console.log(e),t.$message.success({message:"添加成功",showClose:!0,duration:2e3}),t.dialogAddUserVisible=!1,t.getUserData()}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})})},updateUser:function(e){console.log(e),this.updateUserMsg=JSON.parse(d()(e)),this.updateUserMsg.companyId=this.updateUserMsg.companyId+"",1==this.updateUserMsg.type?(this.addUserRules.deptList[0].required=!0,this.updateUserMsg.deptList=this.updateUserMsg.deptList.map(function(e){return[e.deptId+"",e.titleId+""]}),console.log(this.updateUserMsg.deptList)):this.addUserRules.deptList[0].required=!1,this.addUserRules.personnelName[0].required=!0,this.dialogUpdateUserVisible=!0},updateUserSure:function(e){var t=this;console.log(this.updateUserMsg.type);var a=[];1==this.updateUserMsg.type&&(a=this.updateUserMsg.deptList.map(function(e){return{deptId:e[0],titleId:e[1]}})),console.log(a),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.post(t.$store.state.baseCompanyUrl+"/personnel/personnelMsgSave",{id:t.updateUserMsg.personnelId,currencyId:t.updateUserMsg.currencyId,deptList:a,companyId:sessionStorage.getItem("companyId"),name:t.updateUserMsg.personnelName,type:t.updateUserMsg.type}).then(function(e){console.log("修改人員"),console.log(e),t.$message.success({message:"修改成功",showClose:!0,duration:2e3}),t.dialogUpdateUserVisible=!1,t.getUserData()}).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})})},delUser:function(e){console.log(e),this.delUserId=e,this.dialogDelUserVisible=!0},delUserSure:function(){var e,t=this;this.$axios.delete(this.$store.state.baseCompanyUrl+"/personnel/personnelDel?id="+this.delUserId).then((e=n()(o.a.mark(function e(a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("刪除人員"),console.log(a),t.$message.success({message:"刪除成功",showClose:!0,duration:2e3}),t.dialogDelUserVisible=!1,t.getUserData();case 5:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})).catch(function(e){console.log(e),t.$message.error({message:e.data.status,showClose:!0,duration:2e3})})},getUserData:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/personnel/companyPersonnelMsgGet").then(function(t){console.log("人員列表"),console.log(t),e.userDataList=t.data}).catch(function(e){console.log(e)})},getDeptList:function(){var e=this;this.$axios.get(this.$store.state.baseCompanyUrl+"/personnel/companyDeptMsgGet").then(function(t){console.log("部門列表"),console.log(t),e.deptList=t.data}).catch(function(e){console.log(e)})},currencyRgx:function(e){console.log(e);var t=!0,a=!1,l=void 0;try{for(var i,o=s()(this.currencyIds);!(t=(i=o.next()).done);t=!0){var r=i.value;if(e==r.value)return r.label}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}return""}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-admin-container"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("添加人員")]),e._v(" "),e.dialogAddUserVisible?a("el-dialog",{attrs:{title:"添加人員信息",visible:e.dialogAddUserVisible,width:"700px"},on:{"update:visible":function(t){e.dialogAddUserVisible=t}}},[a("div",[a("el-form",{ref:"addUserForm",attrs:{model:e.addUserData,rules:e.addUserRules,"label-width":"130px"}},[a("el-form-item",{attrs:{prop:"name",label:"人員名稱："}},[a("el-input",{attrs:{placeholder:"請輸入人員名稱"},model:{value:e.addUserData.name,callback:function(t){e.$set(e.addUserData,"name",t)},expression:"addUserData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type",label:"人員類型："}},[a("el-radio-group",{on:{change:e.radioChange},model:{value:e.addUserData.type,callback:function(t){e.$set(e.addUserData,"type",t)},expression:"addUserData.type"}},[a("el-radio",{attrs:{label:0}},[e._v("公司")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("公司員工")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("其他人員")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.addUserRules.deptList[0].required,expression:"addUserRules.deptList[0].required == true"}],attrs:{prop:"deptList",label:"所屬部門職位："}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.deptList,props:{multiple:!0},"popper-class":"disableFirstLevel"},model:{value:e.addUserData.deptList,callback:function(t){e.$set(e.addUserData,"deptList",t)},expression:"addUserData.deptList"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId",label:"幣種："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.addUserData.currencyId,callback:function(t){e.$set(e.addUserData,"currencyId",t)},expression:"addUserData.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogAddUserVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:function(t){return e.addUserSure("addUserForm")}}},[e._v("確 定")])],1)]):e._e(),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"1000px","margin-top":"10px"},attrs:{border:"",data:e.userDataList}},[a("el-table-column",{attrs:{prop:"personnelName",label:"人員名稱",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"人員類型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n            "+e._s(0==t.row.type?"公司":1==t.row.type?"公司員工":"其他人員")+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"幣種",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n            "+e._s(e.currencyRgx(t.row.currencyId))+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.updateUser(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.delUser(t.row.personnelId)}}},[e._v("刪除")])],1)]}}])})],1)],1),e._v(" "),e.dialogUpdateUserVisible?a("el-dialog",{attrs:{title:"修改人員信息",visible:e.dialogUpdateUserVisible,width:"700px"},on:{"update:visible":function(t){e.dialogUpdateUserVisible=t}}},[a("div",[a("el-form",{ref:"updateUserForm",attrs:{model:e.updateUserMsg,rules:e.addUserRules,"label-width":"130px"}},[a("el-form-item",{attrs:{prop:"personnelName",label:"人員名稱："}},[a("el-input",{attrs:{placeholder:"請輸入人員名稱"},model:{value:e.updateUserMsg.personnelName,callback:function(t){e.$set(e.updateUserMsg,"personnelName",t)},expression:"updateUserMsg.personnelName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type",label:"人員類型："}},[a("el-radio-group",{on:{change:e.radioChange},model:{value:e.updateUserMsg.type,callback:function(t){e.$set(e.updateUserMsg,"type",t)},expression:"updateUserMsg.type"}},[a("el-radio",{attrs:{label:0}},[e._v("公司")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("公司員工")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("其他人員")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.addUserRules.deptList[0].required,expression:"addUserRules.deptList[0].required == true"}],attrs:{prop:"deptList",label:"所屬部門職位："}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.deptList,props:{multiple:!0},"popper-class":"disableFirstLevel"},model:{value:e.updateUserMsg.deptList,callback:function(t){e.$set(e.updateUserMsg,"deptList",t)},expression:"updateUserMsg.deptList"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"currencyId",label:"幣種："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:e.updateUserMsg.currencyId,callback:function(t){e.$set(e.updateUserMsg,"currencyId",t)},expression:"updateUserMsg.currencyId"}},e._l(e.currencyIds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogUpdateUserVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:function(t){return e.updateUserSure("updateUserForm")}}},[e._v("確 定")])],1)]):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"刪除人員信息",visible:e.dialogDelUserVisible,width:"500px"},on:{"update:visible":function(t){e.dialogDelUserVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"16px"}},[e._v("\n      確定刪除該人員信息？刪除後不能恢復\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],on:{click:function(t){e.dialogDelUserVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventClick",rawName:"v-preventClick"}],attrs:{type:"primary"},on:{click:e.delUserSure}},[e._v("確 定")])],1)])],1)},staticRenderFns:[]};var m=a("VU/8")(u,p,!1,function(e){a("w1Mz"),a("V/l6")},"data-v-727c7ea0",null);t.default=m.exports},z8U1:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a928719383c9715148c4.js.map